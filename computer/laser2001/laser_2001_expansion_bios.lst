ROM:0000             ;
ROM:0000             ; +--------------------------------------------------+
ROM:0000             ; | Laser 2001 Expansion Module Disassembly v0.99    |
ROM:0000             ; |    - by tcdev (msmcdoug@gmail.com)               |
ROM:0000             ; +--------------------------------------------------+
ROM:0000             ;
ROM:0000             ; Processor       : z80 []
ROM:0000             ; Target assembler: ASxxxx by Alan R. Baldwin v1.5
ROM:0000                    .area   idaseg (ABS)
ROM:0000                    .hd64 ; this is needed only for HD64180
ROM:0000
ROM:0000             ; ===========================================================================
ROM:0000
ROM:0000             ; Segment type: Pure code
ROM:0000
ROM:0000             ; =============== S U B R O U T I N E =======================================
ROM:0000
ROM:0000
ROM:0000             BOOT_UP:
ROM:0000
ROM:0000             ; FUNCTION CHUNK AT ROM:1B6B SIZE 0000008E BYTES
ROM:0000
ROM:0000 31 B9 73                            ld      sp, #STACK
ROM:0003 C3 6B 1B                            jp      POWER_UP
ROM:0003             ; End of function BOOT_UP
ROM:0003
ROM:0003             ; ---------------------------------------------------------------------------
ROM:0006 FF FF                               .db 0xFF, 0xFF
ROM:0008             ; ---------------------------------------------------------------------------
ROM:0008 C3 0C 80                            jp      RST_8H_RAM
ROM:0008             ; ---------------------------------------------------------------------------
ROM:000B FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0010             ; ---------------------------------------------------------------------------
ROM:0010 C3 0F 80                            jp      RST_10H_RAM
ROM:0010             ; ---------------------------------------------------------------------------
ROM:0013 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0018             ; ---------------------------------------------------------------------------
ROM:0018 C3 12 80                            jp      RST_18H_RAM
ROM:0018             ; ---------------------------------------------------------------------------
ROM:001B FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0020             ; ---------------------------------------------------------------------------
ROM:0020 C3 15 80                            jp      RST_20H_RAM
ROM:0020             ; ---------------------------------------------------------------------------
ROM:0023 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0028             ; ---------------------------------------------------------------------------
ROM:0028 C3 18 80                            jp      RST_28H_RAM
ROM:0028             ; ---------------------------------------------------------------------------
ROM:002B FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0030             ; ---------------------------------------------------------------------------
ROM:0030 C3 1B 80                            jp      RST_30H_RAM
ROM:0030             ; ---------------------------------------------------------------------------
ROM:0033 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0038             ; ---------------------------------------------------------------------------
ROM:0038
ROM:0038             RST_38H:                                                        ; get original BIOS jump address
ROM:0038 E3                                  ex      (sp), hl
ROM:0039 C5                                  push    bc
ROM:003A F5                                  push    af
ROM:003B E5                                  push    hl
ROM:003C AF                                  xor     a
ROM:003D 01 62 1F                            ld      bc, #0x1F62                     ; base of original BIOS jump table
ROM:0040 ED 42                               sbc     hl, bc                          ; calc offset into jump table
ROM:0042 B4                                  or      h                               ; valid offset?
ROM:0043 CA 85 0D                            jp      Z, vector_to_BIOS_routine       ; yes, go
ROM:0046
ROM:0046             RST_38H_exit:                                                   ; CODE XREF: ROM:0D92j
ROM:0046 E1                                  pop     hl
ROM:0047 F1                                  pop     af
ROM:0048 C1                                  pop     bc
ROM:0049 E3                                  ex      (sp), hl
ROM:004A C3 1E 80                            jp      IRQ_INT_VECT
ROM:004A             ; ---------------------------------------------------------------------------
ROM:004D FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:004D FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:004D FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:0066             ; ---------------------------------------------------------------------------
ROM:0066
ROM:0066             NMI:
ROM:0066 C3 21 80                            jp      NMI_INT_VECT
ROM:0066             ; ---------------------------------------------------------------------------
ROM:0069 3C          AMERICA:                .db 60
ROM:006A 8D 0B       ASCII_TABLE:            .dw ASCII_TBL                           ; ptr 'A'
ROM:006C 05 0B       NUMBER_TABLE:           .dw NUMBER_TBL                          ; ptr '0'
ROM:006E             ; ---------------------------------------------------------------------------
ROM:006E
ROM:006E             GAME_OPT_:                                                      ; DATA XREF: ROM:GAME_OPTo
ROM:006E CD 3D 1C                            call    DISPLAY_LOGO
ROM:0071 21 AD 13                            ld      hl, #aToSelectGameOp            ; "TO SELECT GAME OPTION,"
ROM:0074 01 16 00                            ld      bc, #22                         ; length
ROM:0077 11 25 18                            ld      de, #0x1825                     ; VDP RAM offset
ROM:007A CD 4F 1B                            call    VRAM_WRITE
ROM:007D 21 C3 13                            ld      hl, #aPressButtonOnK            ; "PRESS BUTTON ON KEYPAD."
ROM:0080 01 17 00                            ld      bc, #23                         ; length
ROM:0083 11 65 18                            ld      de, #0x1865                     ; VDP RAM offset
ROM:0086 CD 4F 1B                            call    VRAM_WRITE
ROM:0089 21 DA 13                            ld      hl, #a1Skill1OnePlay            ; "1 = SKILL 1/ONE PLAYERS"
ROM:008C 11 00 74                            ld      de, #msg_buf
ROM:008F 01 17 00                            ld      bc, #23                         ; length
ROM:0092 ED B0                               ldir
ROM:0094 DD 21 00 74                         ld      ix, #msg_buf
ROM:0098 11 00 74                            ld      de, #msg_buf                    ; message
ROM:009B FD 21 16 00                         ld      iy, #22                         ; length
ROM:009F 21 C5 18                            ld      hl, #0x18C5                     ; VDP RAM offset
ROM:00A2 CD BD 00                            call    PRINT_SKILL_1_4
ROM:00A5 FD 23                               inc     iy
ROM:00A7 21 F1 13                            ld      hl, #aTwo                       ; "TWO"
ROM:00AA 11 0C 74                            ld      de, # msg_buf+0xC               ; 'ONE'
ROM:00AD 01 03 00                            ld      bc, #3                          ; 3 chars to patch
ROM:00B0 ED B0                               ldir                                    ; patch skill message for two players
ROM:00B2 3E 31                               ld      a, #0x31 ; '1'
ROM:00B4 32 0A 74                            ld      (msg_buf+0xA), a                ; patch 2nd number
ROM:00B7 21 E5 19                            ld      hl, #0x19E5                     ; VDP RAM offset
ROM:00BA 11 00 74                            ld      de, #msg_buf                    ; message
ROM:00BD             IX = message
ROM:00BD             DE = message
ROM:00BD             IY = length
ROM:00BD             HL = VDP RAM offset
ROM:00BD
ROM:00BD             ; =============== S U B R O U T I N E =======================================
ROM:00BD
ROM:00BD
ROM:00BD             PRINT_SKILL_1_4:                                                ; CODE XREF: ROM:00A2p
ROM:00BD 06 04                               ld      b, #4                           ; 4 messages
ROM:00BF
ROM:00BF             print_skill:                                                    ; CODE XREF: PRINT_SKILL_1_4+18j
ROM:00BF D5                                  push    de                              ; message
ROM:00C0 C5                                  push    bc                              ; counter
ROM:00C1 FD E5                               push    iy                              ; message length
ROM:00C3 C1                                  pop     bc                              ; BC = message length
ROM:00C4 EB                                  ex      de, hl                          ; HL=message, DE=VDP RAM offset
ROM:00C5 CD 4F 1B                            call    VRAM_WRITE
ROM:00C8 EB                                  ex      de, hl                          ; HL=VDP RAM offset, HL=message
ROM:00C9 DD 34 00                            inc     0(ix)                           ; inc 1st number
ROM:00CC DD 34 0A                            inc     0xA(ix)                         ; inc 2nd number
ROM:00CF C1                                  pop     bc                              ; counter
ROM:00D0 11 40 00                            ld      de, #0x40 ; '@'
ROM:00D3 19                                  add     hl, de                          ; VDP RAM offset next line
ROM:00D4 D1                                  pop     de                              ; message
ROM:00D5 10 E8                               djnz    print_skill                     ; done? no, loop
ROM:00D7 C9                                  ret
ROM:00D7             ; End of function PRINT_SKILL_1_4
ROM:00D7
ROM:00D8
ROM:00D8             ; =============== S U B R O U T I N E =======================================
ROM:00D8
ROM:00D8
ROM:00D8             delay_DE:                                                       ; CODE XREF: delay_DE+Bj
ROM:00D8                                                                             ; BOOT_UP+1B72p ...
ROM:00D8 01 00 00                            ld      bc, #0
ROM:00DB
ROM:00DB             delay_BC:                                                       ; CODE XREF: delay_DE:delay_BCj
ROM:00DB                                                                             ; delay_DE+6j
ROM:00DB 10 FE                               djnz    delay_BC
ROM:00DD 0D                                  dec     c
ROM:00DE 20 FB                               jr      NZ, delay_BC
ROM:00E0 1B                                  dec     de
ROM:00E1 7A                                  ld      a, d
ROM:00E2 B3                                  or      e
ROM:00E3 20 F3                               jr      NZ, delay_DE
ROM:00E5 C9                                  ret
ROM:00E5             ; End of function delay_DE
ROM:00E5
ROM:00E6             ; ---------------------------------------------------------------------------
ROM:00E6 C5                                  push    bc
ROM:00E7 FD E1                               pop     iy
ROM:00E9 3E 20                               ld      a, #0x20 ; ' '
ROM:00EB 99                                  sbc     a, c
ROM:00EC 1F                                  rra
ROM:00ED 06 00                               ld      b, #0
ROM:00EF 4F                                  ld      c, a
ROM:00F0 09                                  add     hl, bc
ROM:00F1 44                                  ld      b, h
ROM:00F2 4D                                  ld      c, l
ROM:00F3 62                                  ld      h, d
ROM:00F4 6B                                  ld      l, e
ROM:00F5 50                                  ld      d, b
ROM:00F6 59                                  ld      e, c
ROM:00F7 3E 02                               ld      a, #2
ROM:00F9 CD 1E 02                            call    PUT_VRAM_
ROM:00FC C9                                  ret
ROM:00FD
ROM:00FD             ; =============== S U B R O U T I N E =======================================
ROM:00FD
ROM:00FD
ROM:00FD             MODE_1_:                                                        ; CODE XREF: DISPLAY_LOGO+Ap
ROM:00FD                                                                             ; DATA XREF: ROM:MODE_1o
ROM:00FD 2A 26 01                            ld      hl, (vdp_reg_init_data)
ROM:0100 22 C3 73                            ld      (VDP_MODE_WORD), hl
ROM:0103 21 1C 01                            ld      hl, #mode_1_data
ROM:0106 11 F2 73                            ld      de, #VRAM_ADDR_TABLE
ROM:0109 01 0A 00                            ld      bc, #10
ROM:010C ED B0                               ldir
ROM:010E 0E BF                               ld      c, #0xBF ; '¿'                  ; VDP_RAM_ADDR port
ROM:0110 06 08                               ld      b, #8                           ; num registers to write
ROM:0112 3E 80                               ld      a, #0x80 ; '€'
ROM:0114
ROM:0114             mode_1_loop:                                                    ; CODE XREF: MODE_1_+1Dj
ROM:0114 ED A3                               outi                                    ; write VDP reg value
ROM:0116 ED 79                               out     (c), a
ROM:0118 C8                                  ret     Z
ROM:0119 3C                                  inc     a
ROM:011A 18 F8                               jr      mode_1_loop
ROM:011A             ; End of function MODE_1_
ROM:011A
ROM:011A             ; ---------------------------------------------------------------------------
ROM:011C 00          mode_1_data:            .db    0                                ; DATA XREF: MODE_1_+6o
ROM:011D 1B                                  .db 0x1B
ROM:011E 00                                  .db    0
ROM:011F 38                                  .db 0x38 ; 8
ROM:0120 00                                  .db    0
ROM:0121 18                                  .db 0x18
ROM:0122 00                                  .db    0
ROM:0123 00                                  .db    0
ROM:0124 00                                  .db    0
ROM:0125 20                                  .db 0x20
ROM:0126 00 C0       vdp_reg_init_data:      .dw 0xC000                              ; DATA XREF: MODE_1_r
ROM:0128 06                                  .db    6
ROM:0129 80                                  .db 0x80 ; €
ROM:012A 00                                  .db    0
ROM:012B 36                                  .db 0x36 ; 6
ROM:012C 07                                  .db    7
ROM:012D FD                                  .db 0xFD ; ý
ROM:012E             ; HL = VDP RAM address
ROM:012E             ; DE = number of bytes to fill
ROM:012E             ; A = fill char
ROM:012E
ROM:012E             ; =============== S U B R O U T I N E =======================================
ROM:012E
ROM:012E
ROM:012E             FILL_VRAM_:                                                     ; CODE XREF: DISPLAY_LOGO+7p
ROM:012E                                                                             ; DISPLAY_LOGO+3Cj
ROM:012E                                                                             ; DATA XREF: ...
ROM:012E 4F                                  ld      c, a                            ; store fill char
ROM:012F 7D                                  ld      a, l
ROM:0130 D3 BF                               out     (0xBF), a                       ; VDP_RAM_ADDR
ROM:0132 7C                                  ld      a, h
ROM:0133 F6 40                               or      #0x40 ; '@'                     ; add base address
ROM:0135 D3 BF                               out     (0xBF), a                       ; VDP_RAM_ADDR
ROM:0137
ROM:0137             FILL:                                                           ; CODE XREF: FILL_VRAM_+Fj
ROM:0137 79                                  ld      a, c                            ; fill char
ROM:0138 D3 BE                               out     (0xBE), a                       ; VDP_DATA
ROM:013A 1B                                  dec     de
ROM:013B 7A                                  ld      a, d
ROM:013C B3                                  or      e                               ; done?
ROM:013D 20 F8                               jr      NZ, FILL                        ; no, loop
ROM:013F CD 72 03                            call    REG_READ
ROM:0142 C9                                  ret
ROM:0142             ; End of function FILL_VRAM_
ROM:0142
ROM:0142             ; ---------------------------------------------------------------------------
ROM:0143 03 00       VRAM_WRITE_P:           .dw 3                                   ; DATA XREF: ROM:WRITE_VRAMQo
ROM:0143                                                                             ; ROM:READ_VRAMQo
ROM:0145 FE FF                               .dw 0xFFFE
ROM:0147 02 00                               .dw 2
ROM:0149 02 00                               .dw 2
ROM:014B             ; ---------------------------------------------------------------------------
ROM:014B             ; this routine is truncated (broken)
ROM:014B             ; - it should fall into VRAM_WRITE
ROM:014B
ROM:014B             WRITE_VRAMQ:                                                    ; DATA XREF: ROM:WRITE_VRAMPo
ROM:014B 01 43 01                            ld      bc, #VRAM_WRITE_P
ROM:014E 11 BA 73                            ld      de, #PARAM_AREA
ROM:0151 CD F2 1A                            call    PARAM_
ROM:0154 2A BA 73                            ld      hl, (PARAM_AREA)
ROM:0157 ED 5B BC 73                         ld      de, (PARAM_AREA+2)
ROM:015B ED 4B BE 73                         ld      bc, (PARAM_AREA+4)
ROM:015B             ; well this isn't good...
ROM:015B             ; ---------------------------------------------------------------------------
ROM:015F 02 00       REG_WRITEP:             .dw 2                                   ; DATA XREF: ROM:REG_WRITEQo
ROM:0161 01 00                               .dw 1
ROM:0163 01 00                               .dw 1
ROM:0165             ; ---------------------------------------------------------------------------
ROM:0165
ROM:0165             REG_WRITEQ:                                                     ; DATA XREF: ROM:WRITE_REGISTERPo
ROM:0165 01 5F 01                            ld      bc, #REG_WRITEP
ROM:0168 11 BA 73                            ld      de, #PARAM_AREA
ROM:016B CD F2 1A                            call    PARAM_
ROM:016E 2A BA 73                            ld      hl, (PARAM_AREA)
ROM:0171 4C                                  ld      c, h
ROM:0172 45                                  ld      b, l
ROM:0173
ROM:0173             ; =============== S U B R O U T I N E =======================================
ROM:0173
ROM:0173
ROM:0173             REG_WRITE:                                                      ; CODE XREF: ROM:INIT_TABLE90p
ROM:0173                                                                             ; DATA XREF: ROM:WRITE_REGISTERo
ROM:0173 79                                  ld      a, c
ROM:0174 D3 BF                               out     (0xBF), a                       ; CTRL_PORT
ROM:0176 78                                  ld      a, b
ROM:0177 C6 80                               add     a, #0x80 ; '€'
ROM:0179 D3 BF                               out     (0xBF), a                       ; CTRL_PORT
ROM:017B 78                                  ld      a, b
ROM:017C FE 00                               cp      #0
ROM:017E 20 04                               jr      NZ, NOT_REG_0
ROM:0180 79                                  ld      a, c
ROM:0181 32 C3 73                            ld      (VDP_MODE_WORD), a
ROM:0184
ROM:0184             NOT_REG_0:                                                      ; CODE XREF: REG_WRITE+Bj
ROM:0184 78                                  ld      a, b
ROM:0185 FE 01                               cp      #1
ROM:0187 20 04                               jr      NZ, NOT_REG_1
ROM:0189 79                                  ld      a, c
ROM:018A 32 C4 73                            ld      (VDP_MODE_WORD+1), a
ROM:018D
ROM:018D             NOT_REG_1:                                                      ; CODE XREF: REG_WRITE+14j
ROM:018D C9                                  ret
ROM:018D             ; End of function REG_WRITE
ROM:018D
ROM:018D             ; ---------------------------------------------------------------------------
ROM:018E 01 00       WR_SPR_P:               .dw 1                                   ; DATA XREF: ROM:WR_SPR_NM_TBLQo
ROM:0190 01 00                               .dw 1
ROM:0192             ; ---------------------------------------------------------------------------
ROM:0192
ROM:0192             WR_SPR_NM_TBLQ:                                                 ; DATA XREF: ROM:WR_SPR_NM_TBLPo
ROM:0192 01 8E 01                            ld      bc, #WR_SPR_P
ROM:0195 11 BA 73                            ld      de, #PARAM_AREA
ROM:0198 CD F2 1A                            call    PARAM_
ROM:019B 3A BA 73                            ld      a, (PARAM_AREA)
ROM:019E
ROM:019E             WR_SPR_NM_TBL_:                                                 ; DATA XREF: ROM:WR_SPR_NM_TBLo
ROM:019E DD 2A 04 80                         ld      ix, (SPRITE_ORDER)
ROM:01A2 F5                                  push    af
ROM:01A3 FD 21 F2 73                         ld      iy, #VRAM_ADDR_TABLE
ROM:01A7 FD 5E 00                            ld      e, 0(iy)
ROM:01AA FD 56 01                            ld      d, 1(iy)
ROM:01AD 7B                                  ld      a, e
ROM:01AE D3 BF                               out     (0xBF), a                       ; CTRL_PORT
ROM:01B0 7A                                  ld      a, d
ROM:01B1 F6 40                               or      #0x40 ; '@'
ROM:01B3 D3 BF                               out     (0xBF), a                       ; CTRL_PORT
ROM:01B5 F1                                  pop     af
ROM:01B6
ROM:01B6             OUTPUT_LOOP_TABLE_MA:                                           ; CODE XREF: ROM:01CFj
ROM:01B6 2A 02 80                            ld      hl, (LOCAL_SPR_TBL)
ROM:01B9 DD 4E 00                            ld      c, 0(ix)
ROM:01BC DD 23                               inc     ix
ROM:01BE 06 00                               ld      b, #0
ROM:01C0 09                                  add     hl, bc
ROM:01C1 09                                  add     hl, bc
ROM:01C2 09                                  add     hl, bc
ROM:01C3 09                                  add     hl, bc
ROM:01C4 06 04                               ld      b, #4
ROM:01C6 0E BE                               ld      c, #0xBE ; '¾'                  ; DATA_PORT
ROM:01C8
ROM:01C8             OUTPUT_LOOP10:                                                  ; CODE XREF: ROM:01CCj
ROM:01C8 ED A3                               outi
ROM:01CA 00                                  nop
ROM:01CB 00                                  nop                                     ; delay
ROM:01CC 20 FA                               jr      NZ, OUTPUT_LOOP10
ROM:01CE 3D                                  dec     a
ROM:01CF 20 E5                               jr      NZ, OUTPUT_LOOP_TABLE_MA
ROM:01D1 C9                                  ret
ROM:01D1             ; ---------------------------------------------------------------------------
ROM:01D2 01 00       INIT_SPR_P:             .dw 1                                   ; DATA XREF: ROM:INIT_SPR_ORDERQo
ROM:01D4 01 00                               .dw 1
ROM:01D6             ; ---------------------------------------------------------------------------
ROM:01D6
ROM:01D6             INIT_SPR_ORDERQ:                                                ; DATA XREF: ROM:INIT_SPR_ORDERPo
ROM:01D6 01 D2 01                            ld      bc, #INIT_SPR_P
ROM:01D9 11 BA 73                            ld      de, #PARAM_AREA
ROM:01DC CD F2 1A                            call    PARAM_
ROM:01DF 3A BA 73                            ld      a, (PARAM_AREA)
ROM:01E2
ROM:01E2             INIT_SPR_ORDER_:                                                ; DATA XREF: ROM:INIT_SPR_ORDERo
ROM:01E2 47                                  ld      b, a
ROM:01E3 AF                                  xor     a
ROM:01E4 2A 04 80                            ld      hl, (SPRITE_ORDER)
ROM:01E7
ROM:01E7             INIT_SPR10:                                                     ; CODE XREF: ROM:01EBj
ROM:01E7 77                                  ld      (hl), a
ROM:01E8 23                                  inc     hl
ROM:01E9 3C                                  inc     a
ROM:01EA B8                                  cp      b
ROM:01EB 20 FA                               jr      NZ, INIT_SPR10
ROM:01ED C9                                  ret
ROM:01EE             ; ---------------------------------------------------------------------------
ROM:01EE             ; START OF FUNCTION CHUNK FOR PUT_VRAM_
ROM:01EE
ROM:01EE             ELSEZZ:                                                         ; CODE XREF: PUT_VRAM_+3j
ROM:01EE                                                                             ; PUT_VRAM_+Aj
ROM:01EE F1                                  pop     af
ROM:01EF CD 44 02                            call    SET_COUNT
ROM:01F2 CD 4F 1B                            call    VRAM_WRITE
ROM:01F5 C9                                  ret
ROM:01F5             ; END OF FUNCTION CHUNK FOR PUT_VRAM_
ROM:01F5             ; ---------------------------------------------------------------------------
ROM:01F6 02          SHIFT_CT:               .db    2                                ; DATA XREF: SET_COUNT:SET_COUNT10o
ROM:01F7 03                                  .db    3
ROM:01F8 00                                  .db    0
ROM:01F9 03                                  .db    3
ROM:01FA 03                                  .db    3
ROM:01FB 05 00       PUT_VRAM_P:             .dw 5                                   ; DATA XREF: ROM:PUT_VRAMQo
ROM:01FD 01 00                               .dw 1
ROM:01FF 01 00                               .dw 1
ROM:0201 01 00                               .dw 1
ROM:0203 FE FF                               .dw 0xFFFE
ROM:0205 02 00                               .dw 2
ROM:0207             ; ---------------------------------------------------------------------------
ROM:0207
ROM:0207             PUT_VRAMQ:                                                      ; DATA XREF: ROM:PUT_VRAMPo
ROM:0207 01 FB 01                            ld      bc, #PUT_VRAM_P
ROM:020A 11 BA 73                            ld      de, #PARAM_AREA
ROM:020D CD F2 1A                            call    PARAM_
ROM:0210 3A BA 73                            ld      a, (PARAM_AREA)
ROM:0213 ED 5B BB 73                         ld      de, (PARAM_AREA+1)
ROM:0217 FD 2A BF 73                         ld      iy, (PARAM_AREA+5)
ROM:021B 2A BD 73                            ld      hl, (PARAM_AREA+3)
ROM:021E
ROM:021E             ; =============== S U B R O U T I N E =======================================
ROM:021E
ROM:021E
ROM:021E             PUT_VRAM_:                                                      ; CODE XREF: ROM:00F9p
ROM:021E                                                                             ; PUT_COLOR+Dp ...
ROM:021E
ROM:021E             ; FUNCTION CHUNK AT ROM:01EE SIZE 00000008 BYTES
ROM:021E
ROM:021E F5                                  push    af
ROM:021F FE 00                               cp      #0
ROM:0221 20 CB                               jr      NZ, ELSEZZ
ROM:0223 3A C7 73                            ld      a, (MUX_SPRITES)
ROM:0226 FE 01                               cp      #1
ROM:0228 20 C4                               jr      NZ, ELSEZZ
ROM:022A F1                                  pop     af
ROM:022B E5                                  push    hl
ROM:022C 2A 02 80                            ld      hl, (LOCAL_SPR_TBL)
ROM:022F 7B                                  ld      a, e
ROM:0230 CB 27                               sla     a
ROM:0232 CB 27                               sla     a
ROM:0234 5F                                  ld      e, a
ROM:0235 19                                  add     hl, de
ROM:0236 EB                                  ex      de, hl
ROM:0237 FD E5                               push    iy
ROM:0239 C1                                  pop     bc
ROM:023A 79                                  ld      a, c
ROM:023B CB 27                               sla     a
ROM:023D CB 27                               sla     a
ROM:023F 4F                                  ld      c, a
ROM:0240 E1                                  pop     hl
ROM:0241 ED B0                               ldir
ROM:0243 C9                                  ret
ROM:0243             ; End of function PUT_VRAM_
ROM:0243
ROM:0244
ROM:0244             ; =============== S U B R O U T I N E =======================================
ROM:0244
ROM:0244
ROM:0244             SET_COUNT:                                                      ; CODE XREF: PUT_VRAM_-2Fp
ROM:0244                                                                             ; GET_VRAM_p
ROM:0244 FD 22 FE 73                         ld      (SAVED_COUNT), iy
ROM:0248 DD 21 F2 73                         ld      ix, #VRAM_ADDR_TABLE
ROM:024C 4F                                  ld      c, a
ROM:024D 06 00                               ld      b, #0
ROM:024F FE 04                               cp      #4
ROM:0251 20 07                               jr      NZ, SET_COUNT10
ROM:0253 3A C3 73                            ld      a, (VDP_MODE_WORD)
ROM:0256 CB 4F                               bit     1, a
ROM:0258 28 2C                               jr      Z, SET_COUNT20
ROM:025A
ROM:025A             SET_COUNT10:                                                    ; CODE XREF: SET_COUNT+Dj
ROM:025A FD 21 F6 01                         ld      iy, #SHIFT_CT
ROM:025E FD 09                               add     iy, bc
ROM:0260 FD 7E 00                            ld      a, 0(iy)
ROM:0263 FE 00                               cp      #0
ROM:0265 28 1F                               jr      Z, SET_COUNT20
ROM:0267
ROM:0267             ADJUST_INDEX:                                                   ; CODE XREF: SET_COUNT+28j
ROM:0267 CB 23                               sla     e
ROM:0269 CB 12                               rl      d
ROM:026B 3D                                  dec     a
ROM:026C 20 F9                               jr      NZ, ADJUST_INDEX
ROM:026E C5                                  push    bc
ROM:026F ED 4B FE 73                         ld      bc, (SAVED_COUNT)
ROM:0273 FD 7E 00                            ld      a, 0(iy)
ROM:0276 FE 00                               cp      #0
ROM:0278 28 0B                               jr      Z, END_ADJ_COUNT
ROM:027A
ROM:027A             ADJUST_COUNT:                                                   ; CODE XREF: SET_COUNT+3Bj
ROM:027A CB 21                               sla     c
ROM:027C CB 10                               rl      b
ROM:027E 3D                                  dec     a
ROM:027F 20 F9                               jr      NZ, ADJUST_COUNT
ROM:0281 ED 43 FE 73                         ld      (SAVED_COUNT), bc
ROM:0285
ROM:0285             END_ADJ_COUNT:                                                  ; CODE XREF: SET_COUNT+34j
ROM:0285 C1                                  pop     bc
ROM:0286
ROM:0286             SET_COUNT20:                                                    ; CODE XREF: SET_COUNT+14j
ROM:0286                                                                             ; SET_COUNT+21j
ROM:0286 E5                                  push    hl
ROM:0287 DD 09                               add     ix, bc
ROM:0289 DD 09                               add     ix, bc
ROM:028B DD 6E 00                            ld      l, 0(ix)
ROM:028E DD 66 01                            ld      h, 1(ix)
ROM:0291 19                                  add     hl, de
ROM:0292 EB                                  ex      de, hl
ROM:0293 E1                                  pop     hl
ROM:0294 ED 4B FE 73                         ld      bc, (SAVED_COUNT)
ROM:0298 C9                                  ret
ROM:0298             ; End of function SET_COUNT
ROM:0298
ROM:0299             ; ---------------------------------------------------------------------------
ROM:0299
ROM:0299             GET_VRAMQ:                                                      ; DATA XREF: ROM:GET_VRAMPo
ROM:0299 01 C1 02                            ld      bc, #GET_VRAM_P
ROM:029C 11 BA 73                            ld      de, #PARAM_AREA
ROM:029F CD F2 1A                            call    PARAM_
ROM:02A2 3A BA 73                            ld      a, (PARAM_AREA)
ROM:02A5 ED 5B BB 73                         ld      de, (PARAM_AREA+1)
ROM:02A9 FD 2A BF 73                         ld      iy, (PARAM_AREA+5)
ROM:02AD 2A BD 73                            ld      hl, (PARAM_AREA+3)
ROM:02B0
ROM:02B0             ; =============== S U B R O U T I N E =======================================
ROM:02B0
ROM:02B0
ROM:02B0             GET_VRAM_:                                                      ; CODE XREF: GET_COLOR+Dp
ROM:02B0                                                                             ; ROM:054Ep ...
ROM:02B0 CD 44 02                            call    SET_COUNT
ROM:02B3 CD 4D 03                            call    VRAM_READ
ROM:02B6 C9                                  ret
ROM:02B6             ; End of function GET_VRAM_
ROM:02B6
ROM:02B6             ; ---------------------------------------------------------------------------
ROM:02B7 07          BASE_FACTORS:           .db    7                                ; DATA XREF: ROM:INIT_TABLE80o
ROM:02B8 05                                  .db    5
ROM:02B9 0B                                  .db  0xB
ROM:02BA 06                                  .db    6
ROM:02BB 0A                                  .db  0xA
ROM:02BC 02                                  .db    2
ROM:02BD 0B                                  .db  0xB
ROM:02BE 04                                  .db    4
ROM:02BF 06                                  .db    6
ROM:02C0 03                                  .db    3
ROM:02C1 05 00       GET_VRAM_P:             .dw 5                                   ; DATA XREF: ROM:GET_VRAMQo
ROM:02C3 01 00                               .dw 1
ROM:02C5 01 00                               .dw 1
ROM:02C7 01 00                               .dw 1
ROM:02C9 FE FF                               .dw 0xFFFE
ROM:02CB 02 00                               .dw 2
ROM:02CD             ; ---------------------------------------------------------------------------
ROM:02CD
ROM:02CD             CASE_OF_CLR10:                                                  ; CODE XREF: ROM:02D5j
ROM:02CD 0E FF                               ld      c, #0xFF
ROM:02CF 18 64                               jr      INIT_TABLE90
ROM:02D1             ; ---------------------------------------------------------------------------
ROM:02D1
ROM:02D1             CASE_OF_COLOR:                                                  ; CODE XREF: ROM:031Dj
ROM:02D1 06 03                               ld      b, #3
ROM:02D3 7D                                  ld      a, l
ROM:02D4 B4                                  or      h
ROM:02D5 20 F6                               jr      NZ, CASE_OF_CLR10
ROM:02D7 0E 7F                               ld      c, #0x7F ; ''
ROM:02D9 18 5A                               jr      INIT_TABLE90
ROM:02DB             ; ---------------------------------------------------------------------------
ROM:02DB
ROM:02DB             CASE_OF_GEN:                                                    ; CODE XREF: ROM:0319j
ROM:02DB 06 04                               ld      b, #4
ROM:02DD 7D                                  ld      a, l
ROM:02DE B4                                  or      h
ROM:02DF 20 04                               jr      NZ, CASE_OF_GEN10
ROM:02E1 0E 03                               ld      c, #3
ROM:02E3 18 50                               jr      INIT_TABLE90
ROM:02E5             ; ---------------------------------------------------------------------------
ROM:02E5
ROM:02E5             CASE_OF_GEN10:                                                  ; CODE XREF: ROM:02DFj
ROM:02E5 0E 07                               ld      c, #7
ROM:02E7 18 4C                               jr      INIT_TABLE90
ROM:02E7             ; ---------------------------------------------------------------------------
ROM:02E9 02 00       INIT_TABLE_P:           .dw 2                                   ; DATA XREF: ROM:INIT_TABLEQo
ROM:02EB 01 00                               .dw 1
ROM:02ED 02 00                               .dw 2
ROM:02EF             ; ---------------------------------------------------------------------------
ROM:02EF
ROM:02EF             INIT_TABLEQ:                                                    ; DATA XREF: ROM:INIT_TABLEPo
ROM:02EF 01 E9 02                            ld      bc, #INIT_TABLE_P
ROM:02F2 11 BA 73                            ld      de, #PARAM_AREA
ROM:02F5 CD F2 1A                            call    PARAM_
ROM:02F8 3A BA 73                            ld      a, (PARAM_AREA)
ROM:02FB 2A BB 73                            ld      hl, (PARAM_AREA+1)
ROM:02FE
ROM:02FE             INIT_TABLE_:                                                    ; DATA XREF: ROM:INIT_TABLEo
ROM:02FE 4F                                  ld      c, a
ROM:02FF 06 00                               ld      b, #0
ROM:0301 DD 21 F2 73                         ld      ix, #VRAM_ADDR_TABLE
ROM:0305 DD 09                               add     ix, bc
ROM:0307 DD 09                               add     ix, bc
ROM:0309 DD 75 00                            ld      0(ix), l
ROM:030C DD 74 01                            ld      1(ix), h
ROM:030F 3A C3 73                            ld      a, (VDP_MODE_WORD)
ROM:0312 CB 4F                               bit     1, a
ROM:0314 28 09                               jr      Z, INIT_TABLE80
ROM:0316 79                                  ld      a, c
ROM:0317 FE 03                               cp      #3
ROM:0319 28 C0                               jr      Z, CASE_OF_GEN
ROM:031B FE 04                               cp      #4
ROM:031D 28 B2                               jr      Z, CASE_OF_COLOR
ROM:031F
ROM:031F             INIT_TABLE80:                                                   ; CODE XREF: ROM:0314j
ROM:031F FD 21 B7 02                         ld      iy, #BASE_FACTORS
ROM:0323 FD 09                               add     iy, bc
ROM:0325 FD 09                               add     iy, bc
ROM:0327 FD 7E 00                            ld      a, 0(iy)
ROM:032A FD 46 01                            ld      b, 1(iy)
ROM:032D
ROM:032D             DIVIDE:                                                         ; CODE XREF: ROM:0332j
ROM:032D CB 3C                               srl     h
ROM:032F CB 1D                               rr      l
ROM:0331 3D                                  dec     a
ROM:0332 20 F9                               jr      NZ, DIVIDE
ROM:0334 4D                                  ld      c, l
ROM:0335
ROM:0335             INIT_TABLE90:                                                   ; CODE XREF: ROM:02CFj
ROM:0335                                                                             ; ROM:02D9j ...
ROM:0335 CD 73 01                            call    REG_WRITE
ROM:0338 C9                                  ret
ROM:0339             ; ---------------------------------------------------------------------------
ROM:0339
ROM:0339             READ_VRAMQ:                                                     ; DATA XREF: ROM:READ_VRAMPo
ROM:0339 01 43 01                            ld      bc, #VRAM_WRITE_P
ROM:033C 11 BA 73                            ld      de, #PARAM_AREA
ROM:033F CD F2 1A                            call    PARAM_
ROM:0342 2A BA 73                            ld      hl, (PARAM_AREA)
ROM:0345 ED 5B BC 73                         ld      de, (PARAM_AREA+2)
ROM:0349 ED 4B BE 73                         ld      bc, (PARAM_AREA+4)
ROM:034D
ROM:034D             ; =============== S U B R O U T I N E =======================================
ROM:034D
ROM:034D
ROM:034D             VRAM_READ:                                                      ; CODE XREF: GET_VRAM_+3p
ROM:034D                                                                             ; PUTOBJ_-5D1p ...
ROM:034D 7B                                  ld      a, e
ROM:034E D3 BF                               out     (0xBF), a                       ; CTRL_PORT
ROM:0350 7A                                  ld      a, d
ROM:0351 D3 BF                               out     (0xBF), a                       ; CTRL_PORT
ROM:0353 C5                                  push    bc
ROM:0354 D1                                  pop     de
ROM:0355 0E BE                               ld      c, #0xBE ; '¾'                  ; DATA_PORT
ROM:0357 43                                  ld      b, e
ROM:0358
ROM:0358             INPUT_LOOP:                                                     ; CODE XREF: VRAM_READ+Fj
ROM:0358                                                                             ; VRAM_READ+13j
ROM:0358 ED A2                               ini
ROM:035A 00                                  nop
ROM:035B 00                                  nop
ROM:035C 20 FA                               jr      NZ, INPUT_LOOP
ROM:035E 15                                  dec     d
ROM:035F F8                                  ret     M
ROM:0360 20 F6                               jr      NZ, INPUT_LOOP
ROM:0362 C9                                  ret
ROM:0362             ; End of function VRAM_READ
ROM:0362
ROM:0363
ROM:0363             ; =============== S U B R O U T I N E =======================================
ROM:0363
ROM:0363
ROM:0363             MIRROR_U_D:                                                     ; CODE XREF: ROM:04E8p
ROM:0363                                                                             ; ROM:0502p
ROM:0363 01 07 00                            ld      bc, #7
ROM:0366 09                                  add     hl, bc
ROM:0367 03                                  inc     bc
ROM:0368
ROM:0368             REFLECT_LOOP:                                                   ; CODE XREF: MIRROR_U_D+Cj
ROM:0368 7E                                  ld      a, (hl)
ROM:0369 12                                  ld      (de), a
ROM:036A 13                                  inc     de
ROM:036B 2B                                  dec     hl
ROM:036C 0B                                  dec     bc
ROM:036D 78                                  ld      a, b
ROM:036E B1                                  or      c
ROM:036F 20 F7                               jr      NZ, REFLECT_LOOP
ROM:0371 C9                                  ret
ROM:0371             ; End of function MIRROR_U_D
ROM:0371
ROM:0372
ROM:0372             ; =============== S U B R O U T I N E =======================================
ROM:0372
ROM:0372
ROM:0372             REG_READ:                                                       ; CODE XREF: FILL_VRAM_+11p
ROM:0372                                                                             ; VRAM_WRITE+4p ...
ROM:0372 DB BF                               in      a, (0xBF)                       ; VDP_STATUS
ROM:0374 C9                                  ret
ROM:0374             ; End of function REG_READ
ROM:0374
ROM:0375
ROM:0375             ; =============== S U B R O U T I N E =======================================
ROM:0375
ROM:0375
ROM:0375             ROTATE:                                                         ; CODE XREF: ROM:04C6p
ROM:0375 E5                                  push    hl
ROM:0376 DD E1                               pop     ix
ROM:0378 EB                                  ex      de, hl
ROM:0379 01 08 00                            ld      bc, #8
ROM:037C
ROM:037C             TRANSP_10:                                                      ; CODE XREF: ROTATE+39j
ROM:037C DD CB 00 16                         rl      0(ix)
ROM:0380 CB 1E                               rr      (hl)
ROM:0382 DD CB 01 16                         rl      1(ix)
ROM:0386 CB 1E                               rr      (hl)
ROM:0388 DD CB 02 16                         rl      2(ix)
ROM:038C CB 1E                               rr      (hl)
ROM:038E DD CB 03 16                         rl      3(ix)
ROM:0392 CB 1E                               rr      (hl)
ROM:0394 DD CB 04 16                         rl      4(ix)
ROM:0398 CB 1E                               rr      (hl)
ROM:039A DD CB 05 16                         rl      5(ix)
ROM:039E CB 1E                               rr      (hl)
ROM:03A0 DD CB 06 16                         rl      6(ix)
ROM:03A4 CB 1E                               rr      (hl)
ROM:03A6 DD CB 07 16                         rl      7(ix)
ROM:03AA CB 1E                               rr      (hl)
ROM:03AC 23                                  inc     hl
ROM:03AD 0D                                  dec     c
ROM:03AE 20 CC                               jr      NZ, TRANSP_10
ROM:03B0 C9                                  ret
ROM:03B0             ; End of function ROTATE
ROM:03B0
ROM:03B1
ROM:03B1             ; =============== S U B R O U T I N E =======================================
ROM:03B1
ROM:03B1
ROM:03B1             MIRROR_L_R:                                                     ; CODE XREF: ROM:0516p
ROM:03B1 01 08 00                            ld      bc, #8
ROM:03B4
ROM:03B4             MIR_L_R10:                                                      ; CODE XREF: MIRROR_L_R+Fj
ROM:03B4 46                                  ld      b, (hl)
ROM:03B5 3E 80                               ld      a, #0x80 ; '€'
ROM:03B7
ROM:03B7             MIR_L_R20:                                                      ; CODE XREF: MIRROR_L_R+9j
ROM:03B7 CB 10                               rl      b
ROM:03B9 1F                                  rra
ROM:03BA 30 FB                               jr      NC, MIR_L_R20
ROM:03BC 12                                  ld      (de), a
ROM:03BD 23                                  inc     hl
ROM:03BE 13                                  inc     de
ROM:03BF 0D                                  dec     c
ROM:03C0 20 F2                               jr      NZ, MIR_L_R10
ROM:03C2 C9                                  ret
ROM:03C2             ; End of function MIRROR_L_R
ROM:03C2
ROM:03C3
ROM:03C3             ; =============== S U B R O U T I N E =======================================
ROM:03C3
ROM:03C3
ROM:03C3             QUADRUPLE:                                                      ; CODE XREF: ROM:049Dp
ROM:03C3 01 10 00                            ld      bc, #0x10
ROM:03C6 E5                                  push    hl
ROM:03C7
ROM:03C7             QUAD_LOOP:                                                      ; CODE XREF: QUADRUPLE+13j
ROM:03C7 7E                                  ld      a, (hl)
ROM:03C8 23                                  inc     hl
ROM:03C9 12                                  ld      (de), a
ROM:03CA 13                                  inc     de
ROM:03CB 12                                  ld      (de), a
ROM:03CC 13                                  inc     de
ROM:03CD 0B                                  dec     bc
ROM:03CE 79                                  ld      a, c
ROM:03CF FE 08                               cp      #8
ROM:03D1 20 01                               jr      NZ, SKIPZZ
ROM:03D3 E1                                  pop     hl
ROM:03D4
ROM:03D4             SKIPZZ:                                                         ; CODE XREF: QUADRUPLE+Ej
ROM:03D4 79                                  ld      a, c
ROM:03D5 B0                                  or      b
ROM:03D6 20 EF                               jr      NZ, QUAD_LOOP
ROM:03D8 C9                                  ret
ROM:03D8             ; End of function QUADRUPLE
ROM:03D8
ROM:03D9
ROM:03D9             ; =============== S U B R O U T I N E =======================================
ROM:03D9
ROM:03D9
ROM:03D9             MAGNIFY:                                                        ; CODE XREF: ROM:0470p
ROM:03D9 E5                                  push    hl
ROM:03DA DD E1                               pop     ix
ROM:03DC D5                                  push    de
ROM:03DD FD E1                               pop     iy
ROM:03DF 01 08 00                            ld      bc, #8
ROM:03E2
ROM:03E2             MAG_LOOP:                                                       ; CODE XREF: MAGNIFY+3Cj
ROM:03E2 DD 7E 00                            ld      a, 0(ix)
ROM:03E5 DD 23                               inc     ix
ROM:03E7 57                                  ld      d, a
ROM:03E8 1E 04                               ld      e, #4
ROM:03EA
ROM:03EA             EXP_1:                                                          ; CODE XREF: MAGNIFY+1Aj
ROM:03EA CB 17                               rl      a
ROM:03EC CB 14                               rl      h
ROM:03EE CB 12                               rl      d
ROM:03F0 CB 14                               rl      h
ROM:03F2 1D                                  dec     e
ROM:03F3 20 F5                               jr      NZ, EXP_1
ROM:03F5 1E 04                               ld      e, #4
ROM:03F7
ROM:03F7             EXP_2:                                                          ; CODE XREF: MAGNIFY+27j
ROM:03F7 CB 17                               rl      a
ROM:03F9 CB 15                               rl      l
ROM:03FB CB 12                               rl      d
ROM:03FD CB 15                               rl      l
ROM:03FF 1D                                  dec     e
ROM:0400 20 F5                               jr      NZ, EXP_2
ROM:0402 FD 74 00                            ld      0(iy), h
ROM:0405 FD 75 10                            ld      0x10(iy), l
ROM:0408 FD 23                               inc     iy
ROM:040A FD 74 00                            ld      0(iy), h
ROM:040D FD 75 10                            ld      0x10(iy), l
ROM:0410 FD 23                               inc     iy
ROM:0412 0B                                  dec     bc
ROM:0413 79                                  ld      a, c
ROM:0414 B0                                  or      b
ROM:0415 20 CB                               jr      NZ, MAG_LOOP
ROM:0417 C9                                  ret
ROM:0417             ; End of function MAGNIFY
ROM:0417
ROM:0418
ROM:0418             ; =============== S U B R O U T I N E =======================================
ROM:0418
ROM:0418
ROM:0418             PUT_COLOR:                                                      ; CODE XREF: ROM:04D6p
ROM:0418                                                                             ; ROM:0505p ...
ROM:0418 3E 04                               ld      a, #4
ROM:041A D9                                  exx
ROM:041B E5                                  push    hl
ROM:041C D9                                  exx
ROM:041D D1                                  pop     de
ROM:041E 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0421 FD 21 01 00                         ld      iy, #1
ROM:0425 CD 1E 02                            call    PUT_VRAM_
ROM:0428 C9                                  ret
ROM:0428             ; End of function PUT_COLOR
ROM:0428
ROM:0429
ROM:0429             ; =============== S U B R O U T I N E =======================================
ROM:0429
ROM:0429
ROM:0429             GET_COLOR:                                                      ; CODE XREF: ROM:0490p
ROM:0429                                                                             ; ROM:04D3p ...
ROM:0429 3E 04                               ld      a, #4
ROM:042B D9                                  exx
ROM:042C D5                                  push    de
ROM:042D D9                                  exx
ROM:042E D1                                  pop     de
ROM:042F 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0432 FD 21 01 00                         ld      iy, #1
ROM:0436 CD B0 02                            call    GET_VRAM_
ROM:0439 C9                                  ret
ROM:0439             ; End of function GET_COLOR
ROM:0439
ROM:043A
ROM:043A             ; =============== S U B R O U T I N E =======================================
ROM:043A
ROM:043A
ROM:043A             PUT_TABLE:                                                      ; CODE XREF: ROM:04C9p
ROM:043A                                                                             ; ROM:04EBp ...
ROM:043A 08                                  ex      af, af'
ROM:043B F5                                  push    af
ROM:043C 08                                  ex      af, af'
ROM:043D F1                                  pop     af
ROM:043E D9                                  exx
ROM:043F E5                                  push    hl
ROM:0440 D9                                  exx
ROM:0441 D1                                  pop     de
ROM:0442 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0445 01 08 00                            ld      bc, #8
ROM:0448 09                                  add     hl, bc
ROM:0449 FD 21 01 00                         ld      iy, #1
ROM:044D CD 1E 02                            call    PUT_VRAM_
ROM:0450 C9                                  ret
ROM:0450             ; End of function PUT_TABLE
ROM:0450
ROM:0451             ; ---------------------------------------------------------------------------
ROM:0451             ; START OF FUNCTION CHUNK FOR COLOR_TEST
ROM:0451
ROM:0451             EXIT_FALSE:                                                     ; CODE XREF: COLOR_TEST+6j
ROM:0451                                                                             ; COLOR_TEST+Dj
ROM:0451 3E 00                               ld      a, #0
ROM:0453 C9                                  ret
ROM:0453             ; END OF FUNCTION CHUNK FOR COLOR_TEST
ROM:0454
ROM:0454             ; =============== S U B R O U T I N E =======================================
ROM:0454
ROM:0454
ROM:0454             COLOR_TEST:                                                     ; CODE XREF: ROM:0489p
ROM:0454                                                                             ; ROM:04CCp ...
ROM:0454
ROM:0454             ; FUNCTION CHUNK AT ROM:0451 SIZE 00000003 BYTES
ROM:0454
ROM:0454 08                                  ex      af, af'
ROM:0455 F5                                  push    af
ROM:0456 08                                  ex      af, af'
ROM:0457 F1                                  pop     af
ROM:0458 FE 03                               cp      #3
ROM:045A 20 F5                               jr      NZ, EXIT_FALSE
ROM:045C 21 C3 73                            ld      hl, #VDP_MODE_WORD
ROM:045F CB 4E                               bit     1, (hl)
ROM:0461 28 EE                               jr      Z, EXIT_FALSE
ROM:0463 3E 01                               ld      a, #1
ROM:0465 C9                                  ret
ROM:0465             ; End of function COLOR_TEST
ROM:0465
ROM:0466             ; ---------------------------------------------------------------------------
ROM:0466
ROM:0466             ENLRG_:                                                         ; DATA XREF: ROM:ENLRGo
ROM:0466 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0469 01 08 00                            ld      bc, #8
ROM:046C E5                                  push    hl
ROM:046D D1                                  pop     de
ROM:046E 09                                  add     hl, bc
ROM:046F EB                                  ex      de, hl
ROM:0470 CD D9 03                            call    MAGNIFY
ROM:0473 08                                  ex      af, af'
ROM:0474 F5                                  push    af
ROM:0475 08                                  ex      af, af'
ROM:0476 F1                                  pop     af
ROM:0477 D9                                  exx
ROM:0478 E5                                  push    hl
ROM:0479 D9                                  exx
ROM:047A D1                                  pop     de
ROM:047B 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:047E 01 08 00                            ld      bc, #8
ROM:0481 09                                  add     hl, bc
ROM:0482 FD 21 04 00                         ld      iy, #4
ROM:0486 CD 1E 02                            call    PUT_VRAM_
ROM:0489 CD 54 04                            call    COLOR_TEST
ROM:048C FE 01                               cp      #1
ROM:048E 20 24                               jr      NZ, END_IF_4_GRAPHICS
ROM:0490 CD 29 04                            call    GET_COLOR
ROM:0493 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0496 01 08 00                            ld      bc, #8
ROM:0499 E5                                  push    hl
ROM:049A D1                                  pop     de
ROM:049B 09                                  add     hl, bc
ROM:049C EB                                  ex      de, hl
ROM:049D CD C3 03                            call    QUADRUPLE
ROM:04A0 3E 04                               ld      a, #4
ROM:04A2 D9                                  exx
ROM:04A3 E5                                  push    hl
ROM:04A4 D9                                  exx
ROM:04A5 D1                                  pop     de
ROM:04A6 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:04A9 01 08 00                            ld      bc, #8
ROM:04AC 09                                  add     hl, bc
ROM:04AD FD 21 04 00                         ld      iy, #4
ROM:04B1 CD 1E 02                            call    PUT_VRAM_
ROM:04B4
ROM:04B4             END_IF_4_GRAPHICS:                                              ; CODE XREF: ROM:048Ej
ROM:04B4 D9                                  exx
ROM:04B5 23                                  inc     hl
ROM:04B6 23                                  inc     hl
ROM:04B7 23                                  inc     hl
ROM:04B8 23                                  inc     hl
ROM:04B9 C3 2D 05                            jp      RETURN_HERE
ROM:04BC             ; ---------------------------------------------------------------------------
ROM:04BC
ROM:04BC             ROT_90_:                                                        ; DATA XREF: ROM:ROT_90o
ROM:04BC 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:04BF 01 08 00                            ld      bc, #8
ROM:04C2 E5                                  push    hl
ROM:04C3 D1                                  pop     de
ROM:04C4 09                                  add     hl, bc
ROM:04C5 EB                                  ex      de, hl
ROM:04C6 CD 75 03                            call    ROTATE
ROM:04C9 CD 3A 04                            call    PUT_TABLE
ROM:04CC CD 54 04                            call    COLOR_TEST
ROM:04CF FE 01                               cp      #1
ROM:04D1 20 06                               jr      NZ, END_IF_3_GRAPHICS
ROM:04D3 CD 29 04                            call    GET_COLOR
ROM:04D6 CD 18 04                            call    PUT_COLOR
ROM:04D9
ROM:04D9             END_IF_3_GRAPHICS:                                              ; CODE XREF: ROM:04D1j
ROM:04D9 D9                                  exx
ROM:04DA 23                                  inc     hl
ROM:04DB C3 2D 05                            jp      RETURN_HERE
ROM:04DE             ; ---------------------------------------------------------------------------
ROM:04DE
ROM:04DE             RFLCT_HOR_:                                                     ; DATA XREF: ROM:RFLCT_HORo
ROM:04DE 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:04E1 01 08 00                            ld      bc, #8
ROM:04E4 E5                                  push    hl
ROM:04E5 D1                                  pop     de
ROM:04E6 09                                  add     hl, bc
ROM:04E7 EB                                  ex      de, hl
ROM:04E8 CD 63 03                            call    MIRROR_U_D
ROM:04EB CD 3A 04                            call    PUT_TABLE
ROM:04EE CD 54 04                            call    COLOR_TEST
ROM:04F1 FE 01                               cp      #1
ROM:04F3 20 13                               jr      NZ, END_IF_2_GRAPHICS
ROM:04F5 CD 29 04                            call    GET_COLOR
ROM:04F8 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:04FB 01 08 00                            ld      bc, #8
ROM:04FE E5                                  push    hl
ROM:04FF D1                                  pop     de
ROM:0500 09                                  add     hl, bc
ROM:0501 EB                                  ex      de, hl
ROM:0502 CD 63 03                            call    MIRROR_U_D
ROM:0505 CD 18 04                            call    PUT_COLOR
ROM:0508
ROM:0508             END_IF_2_GRAPHICS:                                              ; CODE XREF: ROM:04F3j
ROM:0508 D9                                  exx
ROM:0509 23                                  inc     hl
ROM:050A 18 21                               jr      RETURN_HERE
ROM:050C             ; ---------------------------------------------------------------------------
ROM:050C
ROM:050C             RFLCT_VERT_:                                                    ; DATA XREF: ROM:RFLCT_VERo
ROM:050C 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:050F 01 08 00                            ld      bc, #8
ROM:0512 E5                                  push    hl
ROM:0513 D1                                  pop     de
ROM:0514 09                                  add     hl, bc
ROM:0515 EB                                  ex      de, hl
ROM:0516 CD B1 03                            call    MIRROR_L_R
ROM:0519 CD 3A 04                            call    PUT_TABLE
ROM:051C CD 54 04                            call    COLOR_TEST
ROM:051F FE 01                               cp      #1
ROM:0521 20 06                               jr      NZ, END_IF_1_GRAPHICS
ROM:0523 CD 29 04                            call    GET_COLOR
ROM:0526 CD 18 04                            call    PUT_COLOR
ROM:0529
ROM:0529             END_IF_1_GRAPHICS:                                              ; CODE XREF: ROM:0521j
ROM:0529 D9                                  exx
ROM:052A 23                                  inc     hl
ROM:052B 18 00                               jr      RETURN_HERE
ROM:052D             ; ---------------------------------------------------------------------------
ROM:052D
ROM:052D             RETURN_HERE:                                                    ; CODE XREF: ROM:04B9j
ROM:052D                                                                             ; ROM:04DBj ...
ROM:052D 13                                  inc     de
ROM:052E 0B                                  dec     bc
ROM:052F 78                                  ld      a, b
ROM:0530 B1                                  or      c
ROM:0531 D9                                  exx
ROM:0532 20 0B                               jr      NZ, MAIN_LOOP
ROM:0534 DD E1                               pop     ix
ROM:0536 C9                                  ret
ROM:0537             ; ---------------------------------------------------------------------------
ROM:0537
ROM:0537             ENLRG:                                                          ; DATA XREF: ROM:ENLARGEo
ROM:0537 DD 21 66 04                         ld      ix, #ENLRG_
ROM:053B
ROM:053B             CONTINUE_GRAPHICS:                                              ; CODE XREF: ROM:055Bj
ROM:053B                                                                             ; ROM:0561j ...
ROM:053B D9                                  exx
ROM:053C 08                                  ex      af, af'
ROM:053D DD E5                               push    ix
ROM:053F
ROM:053F             MAIN_LOOP:                                                      ; CODE XREF: ROM:0532j
ROM:053F 08                                  ex      af, af'
ROM:0540 F5                                  push    af
ROM:0541 08                                  ex      af, af'
ROM:0542 F1                                  pop     af
ROM:0543 D9                                  exx
ROM:0544 D5                                  push    de
ROM:0545 D9                                  exx
ROM:0546 D1                                  pop     de
ROM:0547 FD 21 01 00                         ld      iy, #1
ROM:054B 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:054E CD B0 02                            call    GET_VRAM_
ROM:0551 DD E1                               pop     ix
ROM:0553 DD E5                               push    ix
ROM:0555 DD E9                               jp      (ix)
ROM:0557             ; ---------------------------------------------------------------------------
ROM:0557
ROM:0557             RFLCT_HOR:                                                      ; DATA XREF: ROM:REFLECT_HORIZONTALo
ROM:0557 DD 21 DE 04                         ld      ix, #RFLCT_HOR_
ROM:055B 18 DE                               jr      CONTINUE_GRAPHICS
ROM:055D             ; ---------------------------------------------------------------------------
ROM:055D
ROM:055D             RFLCT_VER:                                                      ; DATA XREF: ROM:REFLECT_VERTICALo
ROM:055D DD 21 0C 05                         ld      ix, #RFLCT_VERT_
ROM:0561 18 D8                               jr      CONTINUE_GRAPHICS
ROM:0563             ; ---------------------------------------------------------------------------
ROM:0563
ROM:0563             ROT_90:                                                         ; DATA XREF: ROM:ROTATE_90o
ROM:0563 DD 21 BC 04                         ld      ix, #ROT_90_
ROM:0567 18 D2                               jr      CONTINUE_GRAPHICS
ROM:0567             ; ---------------------------------------------------------------------------
ROM:0569             ; this differs appreciably from the Colecovision table
ROM:0569 0F          DEC_KBD_TBL:            .db  0xF                                ; DATA XREF: DECODE_1-Co
ROM:0569                                                                             ; ROM:06CDo
ROM:056A 08                                  .db    8
ROM:056B 0A                                  .db  0xA
ROM:056C 01                                  .db    1
ROM:056D 0B                                  .db  0xB
ROM:056E 09                                  .db    9
ROM:056F 03                                  .db    3
ROM:0570 0F                                  .db  0xF
ROM:0571 07                                  .db    7
ROM:0572 06                                  .db    6
ROM:0573 05                                  .db    5
ROM:0574 0F                                  .db  0xF
ROM:0575 00                                  .db    0
ROM:0576 04                                  .db    4
ROM:0577 02                                  .db    2
ROM:0578 0F                                  .db  0xF
ROM:0579             ; ---------------------------------------------------------------------------
ROM:0579             ; START OF FUNCTION CHUNK FOR ARM_DBNCE
ROM:0579
ROM:0579             ARM_ST1:                                                        ; CODE XREF: ARM_DBNCE+Dj
ROM:0579 7B                                  ld      a, e
ROM:057A B8                                  cp      b
ROM:057B 28 07                               jr      Z, ARM_EXIT
ROM:057D FD 73 06                            ld      6(iy), e                        ; ARM_OLD
ROM:0580 AF                                  xor     a
ROM:0581 FD 77 07                            ld      7(iy), a                        ; ARM_STATE
ROM:0584
ROM:0584             ARM_EXIT:                                                       ; CODE XREF: ARM_DBNCE-16j
ROM:0584                                                                             ; ARM_DBNCE-2j ...
ROM:0584 D1                                  pop     de
ROM:0585 C1                                  pop     bc
ROM:0586 C9                                  ret
ROM:0587             ; ---------------------------------------------------------------------------
ROM:0587
ROM:0587             ARM_REG:                                                        ; CODE XREF: ARM_DBNCE+11j
ROM:0587 3E 01                               ld      a, #1
ROM:0589 FD 77 07                            ld      7(iy), a                        ; ARM_STATE
ROM:058C DD 73 03                            ld      3(ix), e                        ; ARM
ROM:058F 18 F3                               jr      ARM_EXIT
ROM:058F             ; END OF FUNCTION CHUNK FOR ARM_DBNCE
ROM:0591
ROM:0591             ; =============== S U B R O U T I N E =======================================
ROM:0591
ROM:0591
ROM:0591             ARM_DBNCE:                                                      ; CODE XREF: DECODE_1+3p
ROM:0591
ROM:0591             ; FUNCTION CHUNK AT ROM:0579 SIZE 00000018 BYTES
ROM:0591
ROM:0591 C5                                  push    bc
ROM:0592 D5                                  push    de
ROM:0593 E6 40                               and     #0x40 ; '@'                     ; ARM_MASK
ROM:0595 5F                                  ld      e, a
ROM:0596 FD 46 06                            ld      b, 6(iy)                        ; ARM_OLD
ROM:0599 FD 7E 07                            ld      a, 7(iy)                        ; ARM_STATE
ROM:059C FE 00                               cp      #0
ROM:059E 20 D9                               jr      NZ, ARM_ST1
ROM:05A0
ROM:05A0             ARM_ST0:
ROM:05A0 7B                                  ld      a, e
ROM:05A1 B8                                  cp      b
ROM:05A2 28 E3                               jr      Z, ARM_REG
ROM:05A4 FD 73 06                            ld      6(iy), e                        ; ARM_OLD
ROM:05A7 18 DB                               jr      ARM_EXIT
ROM:05A7             ; End of function ARM_DBNCE
ROM:05A7
ROM:05A9             ; ---------------------------------------------------------------------------
ROM:05A9             ; START OF FUNCTION CHUNK FOR JOY_DBNCE
ROM:05A9
ROM:05A9             JOY_ST1:                                                        ; CODE XREF: JOY_DBNCE+Dj
ROM:05A9 7B                                  ld      a, e
ROM:05AA B8                                  cp      b
ROM:05AB 28 07                               jr      Z, JOY_EXIT
ROM:05AD FD 73 02                            ld      2(iy), e
ROM:05B0 AF                                  xor     a
ROM:05B1 FD 77 03                            ld      3(iy), a
ROM:05B4
ROM:05B4             JOY_EXIT:                                                       ; CODE XREF: JOY_DBNCE-16j
ROM:05B4                                                                             ; JOY_DBNCE-2j ...
ROM:05B4 D1                                  pop     de
ROM:05B5 C1                                  pop     bc
ROM:05B6 C9                                  ret
ROM:05B7             ; ---------------------------------------------------------------------------
ROM:05B7
ROM:05B7             JOY_REG:                                                        ; CODE XREF: JOY_DBNCE+11j
ROM:05B7 3E 01                               ld      a, #1
ROM:05B9 FD 77 03                            ld      3(iy), a
ROM:05BC DD 73 01                            ld      1(ix), e
ROM:05BF 18 F3                               jr      JOY_EXIT
ROM:05BF             ; END OF FUNCTION CHUNK FOR JOY_DBNCE
ROM:05C1
ROM:05C1             ; =============== S U B R O U T I N E =======================================
ROM:05C1
ROM:05C1
ROM:05C1             JOY_DBNCE:                                                      ; CODE XREF: DECODE_0+3p
ROM:05C1
ROM:05C1             ; FUNCTION CHUNK AT ROM:05A9 SIZE 00000018 BYTES
ROM:05C1
ROM:05C1 C5                                  push    bc
ROM:05C2 D5                                  push    de
ROM:05C3 E6 0F                               and     #0xF                            ; JOY_MASK
ROM:05C5 5F                                  ld      e, a
ROM:05C6 FD 46 02                            ld      b, 2(iy)                        ; JOY_OLD
ROM:05C9 FD 7E 03                            ld      a, 3(iy)                        ; JOY_STATE
ROM:05CC FE 00                               cp      #0
ROM:05CE 20 D9                               jr      NZ, JOY_ST1
ROM:05D0
ROM:05D0             JOY_ST0:
ROM:05D0 7B                                  ld      a, e
ROM:05D1 B8                                  cp      b
ROM:05D2 28 E3                               jr      Z, JOY_REG
ROM:05D4 FD 73 02                            ld      2(iy), e                        ; JOY_OLD
ROM:05D7 18 DB                               jr      JOY_EXIT
ROM:05D7             ; End of function JOY_DBNCE
ROM:05D7
ROM:05D9             ; ---------------------------------------------------------------------------
ROM:05D9             ; START OF FUNCTION CHUNK FOR FIRE_DBNCE
ROM:05D9
ROM:05D9             FIRE_ST1:                                                       ; CODE XREF: FIRE_DBNCE+Dj
ROM:05D9 7B                                  ld      a, e
ROM:05DA B8                                  cp      b
ROM:05DB 28 07                               jr      Z, FIRE_EXIT
ROM:05DD FD 73 00                            ld      0(iy), e
ROM:05E0 AF                                  xor     a
ROM:05E1 FD 77 01                            ld      1(iy), a
ROM:05E4
ROM:05E4             FIRE_EXIT:                                                      ; CODE XREF: FIRE_DBNCE-Cj
ROM:05E4                                                                             ; FIRE_DBNCE+16j ...
ROM:05E4 D1                                  pop     de
ROM:05E5 C1                                  pop     bc
ROM:05E6 C9                                  ret
ROM:05E6             ; END OF FUNCTION CHUNK FOR FIRE_DBNCE
ROM:05E7
ROM:05E7             ; =============== S U B R O U T I N E =======================================
ROM:05E7
ROM:05E7
ROM:05E7             FIRE_DBNCE:                                                     ; CODE XREF: DECODE_0+9p
ROM:05E7
ROM:05E7             ; FUNCTION CHUNK AT ROM:05D9 SIZE 0000000E BYTES
ROM:05E7
ROM:05E7 C5                                  push    bc
ROM:05E8 D5                                  push    de
ROM:05E9 E6 40                               and     #0x40 ; '@'                     ; FIRE_MASK
ROM:05EB 5F                                  ld      e, a
ROM:05EC FD 46 00                            ld      b, 0(iy)                        ; FIRE_OLD
ROM:05EF FD 7E 01                            ld      a, 1(iy)                        ; FIRE_STATE
ROM:05F2 FE 00                               cp      #0
ROM:05F4 20 E3                               jr      NZ, FIRE_ST1
ROM:05F6
ROM:05F6             FIRE_ST0:
ROM:05F6 7B                                  ld      a, e
ROM:05F7 B8                                  cp      b
ROM:05F8 28 05                               jr      Z, FIRE_REG
ROM:05FA FD 73 00                            ld      0(iy), e                        ; FIRE_OLD
ROM:05FD 18 E5                               jr      FIRE_EXIT
ROM:05FF             ; ---------------------------------------------------------------------------
ROM:05FF
ROM:05FF             FIRE_REG:                                                       ; CODE XREF: FIRE_DBNCE+11j
ROM:05FF 3E 01                               ld      a, #1
ROM:0601 FD 77 01                            ld      1(iy), a
ROM:0604 DD 73 00                            ld      0(ix), e
ROM:0607 18 DB                               jr      FIRE_EXIT
ROM:0607             ; End of function FIRE_DBNCE
ROM:0607
ROM:0609             ; ---------------------------------------------------------------------------
ROM:0609             ; START OF FUNCTION CHUNK FOR DECODE_1
ROM:0609
ROM:0609             KBD_ST1:                                                        ; CODE XREF: DECODE_1+18j
ROM:0609 7B                                  ld      a, e
ROM:060A B8                                  cp      b
ROM:060B 28 07                               jr      Z, KBD_EXIT
ROM:060D FD 73 08                            ld      8(iy), e
ROM:0610 AF                                  xor     a
ROM:0611 FD 77 09                            ld      9(iy), a
ROM:0614
ROM:0614             KBD_EXIT:                                                       ; CODE XREF: DECODE_1-1Ej
ROM:0614                                                                             ; DECODE_1-2j ...
ROM:0614 E1                                  pop     hl
ROM:0615 D1                                  pop     de
ROM:0616 C1                                  pop     bc
ROM:0617 C9                                  ret
ROM:0618             ; ---------------------------------------------------------------------------
ROM:0618
ROM:0618             KBD_REG:                                                        ; CODE XREF: DECODE_1+1Cj
ROM:0618 3E 01                               ld      a, #1
ROM:061A FD 77 09                            ld      9(iy), a
ROM:061D 21 69 05                            ld      hl, #DEC_KBD_TBL
ROM:0620 16 00                               ld      d, #0
ROM:0622 19                                  add     hl, de
ROM:0623 7E                                  ld      a, (hl)
ROM:0624 DD 77 04                            ld      4(ix), a
ROM:0627 18 EB                               jr      KBD_EXIT
ROM:0627             ; END OF FUNCTION CHUNK FOR DECODE_1
ROM:0629
ROM:0629             ; =============== S U B R O U T I N E =======================================
ROM:0629
ROM:0629
ROM:0629             DECODE_1:                                                       ; CODE XREF: ROM:0695p
ROM:0629                                                                             ; ROM:06BFp
ROM:0629
ROM:0629             ; FUNCTION CHUNK AT ROM:0609 SIZE 00000020 BYTES
ROM:0629
ROM:0629 4F                                  ld      c, a
ROM:062A CB 58                               bit     3, b                            ; ARM
ROM:062C C4 91 05                            call    NZ, ARM_DBNCE
ROM:062F 79                                  ld      a, c
ROM:0630
ROM:0630             DEC_KBD:                                                        ; KBD
ROM:0630 CB 60                               bit     4, b
ROM:0632 C8                                  ret     Z
ROM:0633
ROM:0633             KBD_DBNCE:
ROM:0633 C5                                  push    bc
ROM:0634 D5                                  push    de
ROM:0635 E5                                  push    hl
ROM:0636 E6 0F                               and     #0xF                            ; KBD_MASK
ROM:0638 5F                                  ld      e, a
ROM:0639 FD 46 08                            ld      b, 8(iy)                        ; KBD_OLD
ROM:063C FD 7E 09                            ld      a, 9(iy)                        ; KBD_STATE
ROM:063F FE 00                               cp      #0
ROM:0641 20 C6                               jr      NZ, KBD_ST1
ROM:0643
ROM:0643             KBD_ST0:
ROM:0643 7B                                  ld      a, e
ROM:0644 B8                                  cp      b
ROM:0645 28 D1                               jr      Z, KBD_REG
ROM:0647 FD 73 08                            ld      8(iy), e                        ; KBD_OLD
ROM:064A 18 C8                               jr      KBD_EXIT
ROM:064A             ; End of function DECODE_1
ROM:064A
ROM:064C
ROM:064C             ; =============== S U B R O U T I N E =======================================
ROM:064C
ROM:064C
ROM:064C             DECODE_0:                                                       ; CODE XREF: ROM:068Ap
ROM:064C                                                                             ; ROM:06B5p
ROM:064C 4F                                  ld      c, a
ROM:064D CB 48                               bit     1, b                            ; JOY
ROM:064F C4 C1 05                            call    NZ, JOY_DBNCE
ROM:0652 79                                  ld      a, c
ROM:0653 CB 40                               bit     0, b
ROM:0655 C4 E7 05                            call    NZ, FIRE_DBNCE
ROM:0658 79                                  ld      a, c
ROM:0659
ROM:0659             DEC_SPIN:                                                       ; SPIN
ROM:0659 CB 50                               bit     2, b
ROM:065B C8                                  ret     Z
ROM:065C 7E                                  ld      a, (hl)
ROM:065D DD 86 02                            add     a, 2(ix)
ROM:0660 DD 77 02                            ld      2(ix), a
ROM:0663 AF                                  xor     a
ROM:0664 77                                  ld      (hl), a
ROM:0665 C9                                  ret
ROM:0665             ; End of function DECODE_0
ROM:0665
ROM:0666             ; ---------------------------------------------------------------------------
ROM:0666
ROM:0666             POLLER_:                                                        ; DATA XREF: ROM:POLLERo
ROM:0666 CD 18 07                            call    CONT_SCAN
ROM:0669 FD 21 D7 73                         ld      iy, #DBNCE_BUFF
ROM:066D DD 2A 08 80                         ld      ix, (CONTROLLER_MAP)
ROM:0671 DD E5                               push    ix
ROM:0673 DD 7E 00                            ld      a, 0(ix)
ROM:0676 CB 7F                               bit     7, a
ROM:0678 28 1E                               jr      Z, CHK_PLYR_1
ROM:067A 47                                  ld      b, a
ROM:067B 11 02 00                            ld      de, #2
ROM:067E DD 19                               add     ix, de
ROM:0680 E6 07                               and     #7                              ; SEG_0
ROM:0682 28 09                               jr      Z, CHK_SEG_01
ROM:0684 3A EE 73                            ld      a, (S0_C0)
ROM:0687 21 EB 73                            ld      hl, #SPIN_SW0_CT
ROM:068A CD 4C 06                            call    DECODE_0
ROM:068D
ROM:068D             CHK_SEG_01:                                                     ; CODE XREF: ROM:0682j
ROM:068D 78                                  ld      a, b
ROM:068E E6 18                               and     #0x18                           ; SEG_1
ROM:0690 28 06                               jr      Z, CHK_PLYR_1
ROM:0692 3A F0 73                            ld      a, (S1_C0)
ROM:0695 CD 29 06                            call    DECODE_1
ROM:0698
ROM:0698             CHK_PLYR_1:                                                     ; CODE XREF: ROM:0678j
ROM:0698                                                                             ; ROM:0690j
ROM:0698 DD E1                               pop     ix
ROM:069A DD 7E 01                            ld      a, 1(ix)
ROM:069D CB 7F                               bit     7, a
ROM:069F C8                                  ret     Z
ROM:06A0 47                                  ld      b, a
ROM:06A1 11 0A 00                            ld      de, #0xA
ROM:06A4 FD 19                               add     iy, de
ROM:06A6 11 07 00                            ld      de, #7
ROM:06A9 DD 19                               add     ix, de
ROM:06AB E6 07                               and     #7                              ; SEG_0
ROM:06AD 28 09                               jr      Z, CHK_SEG_11
ROM:06AF 3A EF 73                            ld      a, (S0_C1)
ROM:06B2 21 EC 73                            ld      hl, #SPIN_SW1_CT
ROM:06B5 CD 4C 06                            call    DECODE_0
ROM:06B8
ROM:06B8             CHK_SEG_11:                                                     ; CODE XREF: ROM:06ADj
ROM:06B8 78                                  ld      a, b
ROM:06B9 E6 18                               and     #0x18                           ; SEG_1
ROM:06BB C8                                  ret     Z
ROM:06BC 3A F1 73                            ld      a, (S1_C1)
ROM:06BF CD 29 06                            call    DECODE_1
ROM:06C2 C9                                  ret
ROM:06C3             ; ---------------------------------------------------------------------------
ROM:06C3
ROM:06C3             DEC_SEG1:                                                       ; CODE XREF: ROM:06DDj
ROM:06C3 D3 80                               out     (0x80), a                       ; STRB_SET_PORT
ROM:06C5 CD 3C 07                            call    CONT_READ
ROM:06C8 57                                  ld      d, a
ROM:06C9 D3 C0                               out     (0xC0), a                       ; STRB_RST_PORT
ROM:06CB E6 0F                               and     #0xF                            ; KBD_MASK
ROM:06CD 21 69 05                            ld      hl, #DEC_KBD_TBL
ROM:06D0 06 00                               ld      b, #0
ROM:06D2 4F                                  ld      c, a
ROM:06D3 09                                  add     hl, bc
ROM:06D4 6E                                  ld      l, (hl)
ROM:06D5 7A                                  ld      a, d
ROM:06D6 E6 40                               and     #0x40 ; '@'                     ; ARM_MASK
ROM:06D8 67                                  ld      h, a
ROM:06D9 C9                                  ret
ROM:06DA             ; ---------------------------------------------------------------------------
ROM:06DA
ROM:06DA             DECODER_:                                                       ; DATA XREF: ROM:DECODERo
ROM:06DA 7D                                  ld      a, l
ROM:06DB FE 01                               cp      #1                              ; STROBE_SET
ROM:06DD 28 E4                               jr      Z, DEC_SEG1
ROM:06DF 01 EB 73                            ld      bc, #SPIN_SW0_CT
ROM:06E2 7C                                  ld      a, h
ROM:06E3 FE 00                               cp      #0
ROM:06E5 28 01                               jr      Z, DEC_PLYR
ROM:06E7 03                                  inc     bc
ROM:06E8
ROM:06E8             DEC_PLYR:                                                       ; CODE XREF: ROM:06E5j
ROM:06E8 0A                                  ld      a, (bc)
ROM:06E9 5F                                  ld      e, a
ROM:06EA AF                                  xor     a
ROM:06EB 02                                  ld      (bc), a
ROM:06EC CD 3C 07                            call    CONT_READ
ROM:06EF 57                                  ld      d, a
ROM:06F0 E6 0F                               and     #0xF                            ; JOY_MASK
ROM:06F2 6F                                  ld      l, a
ROM:06F3 7A                                  ld      a, d
ROM:06F4 E6 40                               and     #0x40 ; '@'                     ; FIRE_MASK
ROM:06F6 67                                  ld      h, a
ROM:06F7 C9                                  ret
ROM:06F8             ; ---------------------------------------------------------------------------
ROM:06F8
ROM:06F8             UPDATE_R1:                                                      ; CODE XREF: ROM:0703j
ROM:06F8 34                                  inc     (hl)
ROM:06F9
ROM:06F9             UPDATE_SPINX:                                                   ; CODE XREF: ROM:0706j
ROM:06F9 C9                                  ret
ROM:06FA             ; ---------------------------------------------------------------------------
ROM:06FA
ROM:06FA             UPDATE_R0:                                                      ; CODE XREF: ROM:0713j
ROM:06FA 34                                  inc     (hl)
ROM:06FB
ROM:06FB             UPDATE_S1:                                                      ; CODE XREF: ROM:070Fj
ROM:06FB                                                                             ; ROM:0716j
ROM:06FB DB FF                               in      a, (0xFF)                       ; CTRL_1_PORT
ROM:06FD CB 67                               bit     4, a
ROM:06FF C0                                  ret     NZ
ROM:0700 23                                  inc     hl
ROM:0701 CB 6F                               bit     5, a
ROM:0703 20 F3                               jr      NZ, UPDATE_R1
ROM:0705 35                                  dec     (hl)
ROM:0706 18 F1                               jr      UPDATE_SPINX
ROM:0708             ; ---------------------------------------------------------------------------
ROM:0708
ROM:0708             UPATE_SPINNER_:                                                 ; DATA XREF: ROM:UPDATE_SPINNERo
ROM:0708 DB FC                               in      a, (0xFC)                       ; CTRL_0_PORT
ROM:070A 21 EB 73                            ld      hl, #SPIN_SW0_CT
ROM:070D CB 67                               bit     4, a
ROM:070F 20 EA                               jr      NZ, UPDATE_S1
ROM:0711 CB 6F                               bit     5, a
ROM:0713 20 E5                               jr      NZ, UPDATE_R0
ROM:0715 35                                  dec     (hl)
ROM:0716 18 E3                               jr      UPDATE_S1
ROM:0718
ROM:0718             ; =============== S U B R O U T I N E =======================================
ROM:0718
ROM:0718
ROM:0718             CONT_SCAN:                                                      ; CODE XREF: ROM:POLLER_p
ROM:0718                                                                             ; DATA XREF: ROM:CONTROLLER_SCANo
ROM:0718 DB FC                               in      a, (0xFC)                       ; CTRL_0_PORT
ROM:071A 2F                                  cpl
ROM:071B 32 EE 73                            ld      (S0_C0), a
ROM:071E DB FF                               in      a, (0xFF)                       ; CTRL_1_PORT
ROM:0720 2F                                  cpl
ROM:0721 32 EF 73                            ld      (S0_C1), a
ROM:0724 D3 80                               out     (0x80), a                       ; STRB_SET_PORT
ROM:0726 CD 45 07                            call    DELAY
ROM:0729 DB FC                               in      a, (0xFC)                       ; CTRL_0_PORT
ROM:072B 2F                                  cpl
ROM:072C 32 F0 73                            ld      (S1_C0), a
ROM:072F DB FF                               in      a, (0xFF)                       ; CTRL_1_PORT
ROM:0731 2F                                  cpl
ROM:0732 32 F1 73                            ld      (S1_C1), a
ROM:0735 D3 C0                               out     (0xC0), a                       ; STRB_RST_PORT
ROM:0737 C9                                  ret
ROM:0737             ; End of function CONT_SCAN
ROM:0737
ROM:0738             ; ---------------------------------------------------------------------------
ROM:0738             ; START OF FUNCTION CHUNK FOR CONT_READ
ROM:0738
ROM:0738             CONT_READ1:                                                     ; CODE XREF: CONT_READ+3j
ROM:0738 DB FF                               in      a, (0xFF)                       ; CTRL_1_PORT
ROM:073A
ROM:073A             CONT_READX:                                                     ; CODE XREF: CONT_READ+7j
ROM:073A 2F                                  cpl
ROM:073B C9                                  ret
ROM:073B             ; END OF FUNCTION CHUNK FOR CONT_READ
ROM:073C
ROM:073C             ; =============== S U B R O U T I N E =======================================
ROM:073C
ROM:073C
ROM:073C             CONT_READ:                                                      ; CODE XREF: ROM:06C5p
ROM:073C                                                                             ; ROM:06ECp
ROM:073C
ROM:073C             ; FUNCTION CHUNK AT ROM:0738 SIZE 00000004 BYTES
ROM:073C
ROM:073C 7C                                  ld      a, h
ROM:073D FE 00                               cp      #0                              ; CONTROLLER_0
ROM:073F 20 F7                               jr      NZ, CONT_READ1
ROM:0741 DB FC                               in      a, (0xFC)                       ; CTRL_0_PORT
ROM:0743 18 F5                               jr      CONT_READX
ROM:0743             ; End of function CONT_READ
ROM:0743
ROM:0745
ROM:0745             ; =============== S U B R O U T I N E =======================================
ROM:0745
ROM:0745
ROM:0745             DELAY:                                                          ; CODE XREF: CONT_SCAN+Ep
ROM:0745 00                                  nop
ROM:0746 C9                                  ret
ROM:0746             ; End of function DELAY
ROM:0746
ROM:0747             ; ---------------------------------------------------------------------------
ROM:0747             ; called from POWER_UP in the Colecovision BIOS
ROM:0747             ; - not called in this BIOS
ROM:0747
ROM:0747
ROM:0747             CONTROLLER_INIT:
ROM:0747 D3 C0                               out     (0xC0), a
ROM:0749 AF                                  xor     a
ROM:074A DD 2A 08 80                         ld      ix, (CONTROLLER_MAP)
ROM:074E DD 23                               inc     ix
ROM:0750 DD 23                               inc     ix
ROM:0752 FD 21 D7 73                         ld      iy, #DBNCE_BUFF
ROM:0756 06 0A                               ld      b, #0xA
ROM:0758
ROM:0758             CINIT1:                                                         ; CODE XREF: ROM:0768j
ROM:0758 DD 77 00                            ld      0(ix), a
ROM:075B DD 23                               inc     ix
ROM:075D FD 77 00                            ld      0(iy), a
ROM:0760 FD 23                               inc     iy
ROM:0762 FD 77 00                            ld      0(iy), a
ROM:0765 FD 23                               inc     iy
ROM:0767 05                                  dec     b
ROM:0768 20 EE                               jr      NZ, CINIT1
ROM:076A 32 EB 73                            ld      (SPIN_SW0_CT), a
ROM:076D 32 EC 73                            ld      (SPIN_SW1_CT), a
ROM:0770 32 EE 73                            ld      (S0_C0), a
ROM:0773 32 EF 73                            ld      (S0_C1), a
ROM:0776 32 F0 73                            ld      (S1_C0), a
ROM:0779 32 F1 73                            ld      (S1_C1), a
ROM:077C C9                                  ret
ROM:077D             ; ---------------------------------------------------------------------------
ROM:077D
ROM:077D             SIGNAL_TRUE:                                                    ; CODE XREF: ROM:07B2j
ROM:077D CB 76                               bit     6, (hl)                         ; REPEAT
ROM:077F 20 02                               jr      NZ, SIGNAL_TRUE1
ROM:0781 CB EE                               set     5, (hl)                         ; FREE
ROM:0783
ROM:0783             SIGNAL_TRUE1:                                                   ; CODE XREF: ROM:077Fj
ROM:0783 CB BE                               res     7, (hl)                         ; DONE
ROM:0785 3E 01                               ld      a, #1
ROM:0787 B7                                  or      a
ROM:0788 C9                                  ret
ROM:0788             ; ---------------------------------------------------------------------------
ROM:0789 01 00       TEST_SIG_PARAM:         .dw 1                                   ; DATA XREF: ROM:TEST_SIGNALQo
ROM:078B 01 00                               .dw 1
ROM:078D             ; ---------------------------------------------------------------------------
ROM:078D
ROM:078D             TEST_SIGNALQ:                                                   ; DATA XREF: ROM:TEST_SIGNALPo
ROM:078D 01 89 07                            ld      bc, #TEST_SIG_PARAM
ROM:0790 11 C2 73                            ld      de, #TEST_SIG_NUM
ROM:0793 CD F2 1A                            call    PARAM_
ROM:0796 3A C2 73                            ld      a, (TEST_SIG_NUM)
ROM:0799
ROM:0799             TEST_SIGNAL_:                                                   ; DATA XREF: ROM:TEST_SIGNALo
ROM:0799 4F                                  ld      c, a
ROM:079A 2A D3 73                            ld      hl, (TIMER_TABLE_BASE)
ROM:079D 47                                  ld      b, a
ROM:079E 11 03 00                            ld      de, #3
ROM:07A1 B7                                  or      a
ROM:07A2 28 08                               jr      Z, SIGNAL_MATCH
ROM:07A4
ROM:07A4             TEST1:                                                          ; CODE XREF: ROM:07AAj
ROM:07A4 CB 66                               bit     4, (hl)                         ; EOT
ROM:07A6 20 0C                               jr      NZ, SIGNAL_FALSE
ROM:07A8 19                                  add     hl, de
ROM:07A9 0D                                  dec     c
ROM:07AA 20 F8                               jr      NZ, TEST1
ROM:07AC
ROM:07AC             SIGNAL_MATCH:                                                   ; CODE XREF: ROM:07A2j
ROM:07AC CB 6E                               bit     5, (hl)                         ; FREE
ROM:07AE 20 04                               jr      NZ, SIGNAL_FALSE
ROM:07B0 CB 7E                               bit     7, (hl)                         ; DONE
ROM:07B2 20 C9                               jr      NZ, SIGNAL_TRUE
ROM:07B4
ROM:07B4             SIGNAL_FALSE:                                                   ; CODE XREF: ROM:07A6j
ROM:07B4                                                                             ; ROM:07AEj
ROM:07B4 AF                                  xor     a
ROM:07B5 C9                                  ret
ROM:07B6             ; ---------------------------------------------------------------------------
ROM:07B6
ROM:07B6             MAKE_NEW_TIMER:                                                 ; CODE XREF: ROM:07C8j
ROM:07B6 D5                                  push    de
ROM:07B7 E5                                  push    hl
ROM:07B8 23                                  inc     hl
ROM:07B9 23                                  inc     hl
ROM:07BA 23                                  inc     hl
ROM:07BB 04                                  inc     b
ROM:07BC 36 30                               ld      (hl), #0x30 ; '0'
ROM:07BE EB                                  ex      de, hl
ROM:07BF E1                                  pop     hl
ROM:07C0 CB A6                               res     4, (hl)                         ; EOT
ROM:07C2 EB                                  ex      de, hl
ROM:07C3 D1                                  pop     de
ROM:07C4 18 51                               jr      TIMER1
ROM:07C6             ; ---------------------------------------------------------------------------
ROM:07C6
ROM:07C6             NEXT_TIMER1:                                                    ; CODE XREF: ROM:0819j
ROM:07C6 CB 66                               bit     4, (hl)                         ; EOT
ROM:07C8 20 EC                               jr      NZ, MAKE_NEW_TIMER
ROM:07CA 23                                  inc     hl
ROM:07CB 23                                  inc     hl
ROM:07CC 23                                  inc     hl
ROM:07CD 04                                  inc     b
ROM:07CE 18 47                               jr      TIMER1
ROM:07D0             ; ---------------------------------------------------------------------------
ROM:07D0
ROM:07D0             NOT_A_LONG_REPEAT:                                              ; CODE XREF: ROM:07DEj
ROM:07D0 23                                  inc     hl
ROM:07D1 73                                  ld      (hl), e
ROM:07D2 23                                  inc     hl
ROM:07D3 72                                  ld      (hl), d
ROM:07D4 23                                  inc     hl
ROM:07D5
ROM:07D5             INIT_TIMER_EXIT:                                                ; CODE XREF: ROM:07F9j
ROM:07D5                                                                             ; ROM:082Fj
ROM:07D5 E1                                  pop     hl
ROM:07D6 CB AE                               res     5, (hl)
ROM:07D8 78                                  ld      a, b
ROM:07D9 C9                                  ret
ROM:07DA             ; ---------------------------------------------------------------------------
ROM:07DA
ROM:07DA             LONG_TIMER:                                                     ; CODE XREF: ROM:0824j
ROM:07DA CB DE                               set     3, (hl)                         ; LONG
ROM:07DC 79                                  ld      a, c
ROM:07DD B7                                  or      a
ROM:07DE 28 F0                               jr      Z, NOT_A_LONG_REPEAT
ROM:07E0 D5                                  push    de
ROM:07E1 EB                                  ex      de, hl
ROM:07E2 2A D5 73                            ld      hl, (NEXT_TIMER_DATA_BYTE)
ROM:07E5 EB                                  ex      de, hl
ROM:07E6 CB F6                               set     6, (hl)                         ; REPEAT
ROM:07E8 23                                  inc     hl
ROM:07E9 73                                  ld      (hl), e
ROM:07EA 23                                  inc     hl
ROM:07EB 72                                  ld      (hl), d
ROM:07EC EB                                  ex      de, hl
ROM:07ED D1                                  pop     de
ROM:07EE 73                                  ld      (hl), e
ROM:07EF 23                                  inc     hl
ROM:07F0 72                                  ld      (hl), d
ROM:07F1 23                                  inc     hl
ROM:07F2 73                                  ld      (hl), e
ROM:07F3 23                                  inc     hl
ROM:07F4 72                                  ld      (hl), d
ROM:07F5 23                                  inc     hl
ROM:07F6 22 D5 73                            ld      (NEXT_TIMER_DATA_BYTE), hl
ROM:07F9 18 DA                               jr      INIT_TIMER_EXIT
ROM:07F9             ; ---------------------------------------------------------------------------
ROM:07FB 02 00       REQUEST_SIG_PARAM:      .dw 2                                   ; DATA XREF: ROM:REQUEST_SIGNALQo
ROM:07FD 01 00                               .dw 1
ROM:07FF 02 00                               .dw 2
ROM:0801             ; ---------------------------------------------------------------------------
ROM:0801
ROM:0801             REQUEST_SIGNALQ:                                                ; DATA XREF: ROM:REQUEST_SIGNALPo
ROM:0801 01 FB 07                            ld      bc, #REQUEST_SIG_PARAM
ROM:0804 11 BF 73                            ld      de, # PARAM_AREA+5
ROM:0807 CD F2 1A                            call    PARAM_
ROM:080A 2A C0 73                            ld      hl, (TIMER_LENGTH)
ROM:080D 3A BF 73                            ld      a, (PARAM_AREA+5)
ROM:0810
ROM:0810             REQUEST_SIGNAL_:                                                ; DATA XREF: ROM:REQUEST_SIGNALo
ROM:0810 4F                                  ld      c, a
ROM:0811 EB                                  ex      de, hl
ROM:0812 2A D3 73                            ld      hl, (TIMER_TABLE_BASE)
ROM:0815 AF                                  xor     a
ROM:0816 47                                  ld      b, a
ROM:0817
ROM:0817             TIMER1:                                                         ; CODE XREF: ROM:07C4j
ROM:0817                                                                             ; ROM:07CEj
ROM:0817 CB 6E                               bit     5, (hl)                         ; FREE
ROM:0819 28 AB                               jr      Z, NEXT_TIMER1
ROM:081B E5                                  push    hl
ROM:081C 7E                                  ld      a, (hl)
ROM:081D E6 10                               and     #0x10
ROM:081F F6 20                               or      #0x20 ; ' '
ROM:0821 77                                  ld      (hl), a
ROM:0822 AF                                  xor     a
ROM:0823 B2                                  or      d
ROM:0824 20 B4                               jr      NZ, LONG_TIMER
ROM:0826 B1                                  or      c
ROM:0827 28 02                               jr      Z, NOT_A_REPEAT_TIMER
ROM:0829 CB F6                               set     6, (hl)                         ; REPEAT
ROM:082B
ROM:082B             NOT_A_REPEAT_TIMER:                                             ; CODE XREF: ROM:0827j
ROM:082B 23                                  inc     hl
ROM:082C 73                                  ld      (hl), e
ROM:082D 23                                  inc     hl
ROM:082E 73                                  ld      (hl), e
ROM:082F 18 A4                               jr      INIT_TIMER_EXIT
ROM:0831             ; ---------------------------------------------------------------------------
ROM:0831
ROM:0831             MOVE_IT:                                                        ; CODE XREF: ROM:088Aj
ROM:0831 06 00                               ld      b, #0
ROM:0833 B7                                  or      a
ROM:0834 E1                                  pop     hl
ROM:0835 D1                                  pop     de
ROM:0836 E5                                  push    hl
ROM:0837 2A D5 73                            ld      hl, (NEXT_TIMER_DATA_BYTE)
ROM:083A ED 52                               sbc     hl, de
ROM:083C 4D                                  ld      c, l
ROM:083D 6B                                  ld      l, e
ROM:083E 62                                  ld      h, d
ROM:083F 23                                  inc     hl
ROM:0840 23                                  inc     hl
ROM:0841 23                                  inc     hl
ROM:0842 23                                  inc     hl
ROM:0843 ED B0                               ldir
ROM:0845 01 08 00                            ld      bc, #8
ROM:0848 ED 42                               sbc     hl, bc
ROM:084A 22 D5 73                            ld      (NEXT_TIMER_DATA_BYTE), hl
ROM:084D E1                                  pop     hl
ROM:084E
ROM:084E             FREE_EXIT:                                                      ; CODE XREF: ROM:086Cj
ROM:084E                                                                             ; ROM:0879j ...
ROM:084E C9                                  ret
ROM:084E             ; ---------------------------------------------------------------------------
ROM:084F 01 00       FREE_SIG_PARAM:         .dw 1                                   ; DATA XREF: ROM:FREE_SIGNALQo
ROM:0851 01 00                               .dw 1
ROM:0853             ; ---------------------------------------------------------------------------
ROM:0853
ROM:0853             FREE_SIGNALQ:                                                   ; DATA XREF: ROM:FREE_SIGNALPo
ROM:0853 01 4F 08                            ld      bc, #FREE_SIG_PARAM
ROM:0856 11 BE 73                            ld      de, # PARAM_AREA+4
ROM:0859 CD F2 1A                            call    PARAM_
ROM:085C 3A BE 73                            ld      a, (PARAM_AREA+4)
ROM:085F
ROM:085F             FREE_SIGNAL_:                                                   ; DATA XREF: ROM:FREE_SIGNALo
ROM:085F 4F                                  ld      c, a
ROM:0860 2A D3 73                            ld      hl, (TIMER_TABLE_BASE)
ROM:0863 47                                  ld      b, a
ROM:0864 11 03 00                            ld      de, #3
ROM:0867 B7                                  or      a
ROM:0868 28 08                               jr      Z, FREE_MATCH
ROM:086A
ROM:086A             FREE1:                                                          ; CODE XREF: ROM:0870j
ROM:086A CB 66                               bit     4, (hl)                         ; EOT
ROM:086C 20 E0                               jr      NZ, FREE_EXIT
ROM:086E 19                                  add     hl, de
ROM:086F 0D                                  dec     c
ROM:0870 20 F8                               jr      NZ, FREE1
ROM:0872
ROM:0872             FREE_MATCH:                                                     ; CODE XREF: ROM:0868j
ROM:0872 CB 6E                               bit     5, (hl)                         ; FREE
ROM:0874 C0                                  ret     NZ
ROM:0875 CB EE                               set     5, (hl)                         ; FREE
ROM:0877 CB 76                               bit     6, (hl)                         ; REPEAT
ROM:0879 28 D3                               jr      Z, FREE_EXIT
ROM:087B CB 5E                               bit     3, (hl)                         ; LONG
ROM:087D 28 CF                               jr      Z, FREE_EXIT
ROM:087F
ROM:087F             FREE_COUNTER_:
ROM:087F 23                                  inc     hl
ROM:0880 5E                                  ld      e, (hl)
ROM:0881 23                                  inc     hl
ROM:0882 56                                  ld      d, (hl)
ROM:0883 D5                                  push    de
ROM:0884 2A D3 73                            ld      hl, (TIMER_TABLE_BASE)
ROM:0887 E5                                  push    hl
ROM:0888
ROM:0888             NEXT:                                                           ; CODE XREF: ROM:08B5j
ROM:0888 CB 66                               bit     4, (hl)                         ; EOT
ROM:088A 20 A5                               jr      NZ, MOVE_IT
ROM:088C CB 6E                               bit     5, (hl)                         ; FREE
ROM:088E 20 20                               jr      NZ, GET_NEXT
ROM:0890 7E                                  ld      a, (hl)
ROM:0891 E6 48                               and     #0x48 ; 'H'
ROM:0893 FE 48                               cp      #0x48 ; 'H'
ROM:0895 20 19                               jr      NZ, GET_NEXT
ROM:0897 23                                  inc     hl
ROM:0898 23                                  inc     hl
ROM:0899 7E                                  ld      a, (hl)
ROM:089A BA                                  cp      d
ROM:089B 38 13                               jr      C, GET_NEXT
ROM:089D 20 07                               jr      NZ, SUBTRACT_4
ROM:089F 2B                                  dec     hl
ROM:08A0 7E                                  ld      a, (hl)
ROM:08A1 BB                                  cp      e
ROM:08A2 38 0C                               jr      C, GET_NEXT
ROM:08A4 C8                                  ret     Z
ROM:08A5 23                                  inc     hl
ROM:08A6
ROM:08A6             SUBTRACT_4:                                                     ; CODE XREF: ROM:089Dj
ROM:08A6 56                                  ld      d, (hl)
ROM:08A7 2B                                  dec     hl
ROM:08A8 5E                                  ld      e, (hl)
ROM:08A9 1B                                  dec     de
ROM:08AA 1B                                  dec     de
ROM:08AB 1B                                  dec     de
ROM:08AC 1B                                  dec     de
ROM:08AD 73                                  ld      (hl), e
ROM:08AE 23                                  inc     hl
ROM:08AF 72                                  ld      (hl), d
ROM:08B0
ROM:08B0             GET_NEXT:                                                       ; CODE XREF: ROM:088Ej
ROM:08B0                                                                             ; ROM:0895j ...
ROM:08B0 E1                                  pop     hl
ROM:08B1 23                                  inc     hl
ROM:08B2 23                                  inc     hl
ROM:08B3 23                                  inc     hl
ROM:08B4 E5                                  push    hl
ROM:08B5 18 D1                               jr      NEXT
ROM:08B5             ; ---------------------------------------------------------------------------
ROM:08B7 02 00       INIT_TIMER_PARAM:       .dw 2                                   ; DATA XREF: ROM:INIT_TIMERQo
ROM:08B9 02 00                               .dw 2
ROM:08BB 02 00                               .dw 2
ROM:08BD             ; ---------------------------------------------------------------------------
ROM:08BD
ROM:08BD             INIT_TIMERQ:                                                    ; DATA XREF: ROM:INIT_TIMERPo
ROM:08BD 01 B7 08                            ld      bc, #INIT_TIMER_PARAM
ROM:08C0 11 BA 73                            ld      de, #PARAM_AREA
ROM:08C3 CD F2 1A                            call    PARAM_
ROM:08C6 2A BA 73                            ld      hl, (PARAM_AREA)
ROM:08C9 ED 5B BC 73                         ld      de, (PARAM_AREA+2)
ROM:08CD
ROM:08CD             INIT_TIMER_:                                                    ; DATA XREF: ROM:INIT_TIMERo
ROM:08CD 22 D3 73                            ld      (TIMER_TABLE_BASE), hl
ROM:08D0 36 30                               ld      (hl), #0x30 ; '0'
ROM:08D2 EB                                  ex      de, hl
ROM:08D3 22 D5 73                            ld      (NEXT_TIMER_DATA_BYTE), hl
ROM:08D6 C9                                  ret
ROM:08D7             ; ---------------------------------------------------------------------------
ROM:08D7             ; START OF FUNCTION CHUNK FOR DCR_TIMER
ROM:08D7
ROM:08D7             SAVE_2_BYTES:                                                   ; CODE XREF: DCR_TIMER-Fj
ROM:08D7                                                                             ; DCR_TIMER+10j
ROM:08D7 72                                  ld      (hl), d
ROM:08D8 2B                                  dec     hl
ROM:08D9 73                                  ld      (hl), e
ROM:08DA 18 14                               jr      TIMER_EXIT
ROM:08DC             ; ---------------------------------------------------------------------------
ROM:08DC
ROM:08DC             DCR_S_MODE_TBL:                                                 ; CODE XREF: DCR_TIMER+3j
ROM:08DC 23                                  inc     hl
ROM:08DD 35                                  dec     (hl)
ROM:08DE 20 10                               jr      NZ, TIMER_EXIT
ROM:08E0 E1                                  pop     hl
ROM:08E1 E5                                  push    hl
ROM:08E2 CB 76                               bit     6, (hl)
ROM:08E4 28 08                               jr      Z, SET_DONE_BIT
ROM:08E6 23                                  inc     hl
ROM:08E7 23                                  inc     hl
ROM:08E8 7E                                  ld      a, (hl)
ROM:08E9 2B                                  dec     hl
ROM:08EA 77                                  ld      (hl), a
ROM:08EB 2B                                  dec     hl
ROM:08EC E1                                  pop     hl
ROM:08ED E5                                  push    hl
ROM:08EE
ROM:08EE             SET_DONE_BIT:                                                   ; CODE XREF: DCR_TIMER-28j
ROM:08EE                                                                             ; DCR_TIMER-2j ...
ROM:08EE CB FE                               set     7, (hl)                         ; DONE
ROM:08F0
ROM:08F0             TIMER_EXIT:                                                     ; CODE XREF: DCR_TIMER-32j
ROM:08F0                                                                             ; DCR_TIMER-2Ej
ROM:08F0 E1                                  pop     hl
ROM:08F1 C9                                  ret
ROM:08F2             ; ---------------------------------------------------------------------------
ROM:08F2
ROM:08F2             DCR_L_RPT_TBL:                                                  ; CODE XREF: DCR_TIMER+7j
ROM:08F2 23                                  inc     hl
ROM:08F3 5E                                  ld      e, (hl)
ROM:08F4 23                                  inc     hl
ROM:08F5 56                                  ld      d, (hl)
ROM:08F6 EB                                  ex      de, hl
ROM:08F7 5E                                  ld      e, (hl)
ROM:08F8 23                                  inc     hl
ROM:08F9 56                                  ld      d, (hl)
ROM:08FA 1B                                  dec     de
ROM:08FB 7B                                  ld      a, e
ROM:08FC B2                                  or      d
ROM:08FD 20 D8                               jr      NZ, SAVE_2_BYTES
ROM:08FF 23                                  inc     hl
ROM:0900 5E                                  ld      e, (hl)
ROM:0901 23                                  inc     hl
ROM:0902 56                                  ld      d, (hl)
ROM:0903 2B                                  dec     hl
ROM:0904 2B                                  dec     hl
ROM:0905 72                                  ld      (hl), d
ROM:0906 2B                                  dec     hl
ROM:0907 73                                  ld      (hl), e
ROM:0908 E1                                  pop     hl
ROM:0909 E5                                  push    hl
ROM:090A 18 E2                               jr      SET_DONE_BIT
ROM:090A             ; END OF FUNCTION CHUNK FOR DCR_TIMER
ROM:090C
ROM:090C             ; =============== S U B R O U T I N E =======================================
ROM:090C
ROM:090C
ROM:090C             DCR_TIMER:                                                      ; CODE XREF: ROM:0937p
ROM:090C
ROM:090C             ; FUNCTION CHUNK AT ROM:08D7 SIZE 00000035 BYTES
ROM:090C
ROM:090C E5                                  push    hl
ROM:090D CB 5E                               bit     3, (hl)                         ; LONG
ROM:090F 28 CB                               jr      Z, DCR_S_MODE_TBL
ROM:0911 CB 76                               bit     6, (hl)                         ; REPEAT
ROM:0913 20 DD                               jr      NZ, DCR_L_RPT_TBL
ROM:0915
ROM:0915             DCR_L_MODE_TBL:
ROM:0915 23                                  inc     hl
ROM:0916 5E                                  ld      e, (hl)
ROM:0917 23                                  inc     hl
ROM:0918 56                                  ld      d, (hl)
ROM:0919 1B                                  dec     de
ROM:091A 7B                                  ld      a, e
ROM:091B B2                                  or      d
ROM:091C 20 B9                               jr      NZ, SAVE_2_BYTES
ROM:091E E1                                  pop     hl
ROM:091F E5                                  push    hl
ROM:0920 18 CC                               jr      SET_DONE_BIT
ROM:0920             ; End of function DCR_TIMER
ROM:0920
ROM:0922             ; ---------------------------------------------------------------------------
ROM:0922
ROM:0922             RAND_GEN_:                                                      ; DATA XREF: ROM:RAND_GENo
ROM:0922 2A C8 73                            ld      hl, (RAND_NUM)
ROM:0925 7C                                  ld      a, h
ROM:0926 0F                                  rrca
ROM:0927 AC                                  xor     h
ROM:0928 17                                  rla
ROM:0929 CB 1D                               rr      l
ROM:092B CB 1C                               rr      h
ROM:092D 22 C8 73                            ld      (RAND_NUM), hl
ROM:0930 7D                                  ld      a, l
ROM:0931 C9                                  ret
ROM:0932             ; ---------------------------------------------------------------------------
ROM:0932
ROM:0932             TIME_MGR_:                                                      ; DATA XREF: ROM:TIME_MGRo
ROM:0932 2A D3 73                            ld      hl, (TIMER_TABLE_BASE)
ROM:0935
ROM:0935             NEXT_TIMER0:                                                    ; CODE XREF: ROM:0940j
ROM:0935 CB 6E                               bit     5, (hl)                         ; FREE
ROM:0937 CC 0C 09                            call    Z, DCR_TIMER
ROM:093A CB 66                               bit     4, (hl)                         ; EOT
ROM:093C C0                                  ret     NZ
ROM:093D 23                                  inc     hl
ROM:093E 23                                  inc     hl
ROM:093F 23                                  inc     hl
ROM:0940 18 F3                               jr      NEXT_TIMER0
ROM:0942             ; ---------------------------------------------------------------------------
ROM:0942             ; START OF FUNCTION CHUNK FOR PUTOBJ_
ROM:0942
ROM:0942             PUTCOMPLEX:                                                     ; CODE XREF: DO_PUTOBJ+19j
ROM:0942 C5                                  push    bc
ROM:0943 D9                                  exx
ROM:0944 DD 66 03                            ld      h, 3(ix)
ROM:0947 DD 6E 02                            ld      l, 2(ix)
ROM:094A 7E                                  ld      a, (hl)
ROM:094B 23                                  inc     hl
ROM:094C 4E                                  ld      c, (hl)
ROM:094D 23                                  inc     hl
ROM:094E 46                                  ld      b, (hl)
ROM:094F 23                                  inc     hl
ROM:0950 5E                                  ld      e, (hl)
ROM:0951 23                                  inc     hl
ROM:0952 56                                  ld      d, (hl)
ROM:0953 D9                                  exx
ROM:0954 87                                  add     a, a
ROM:0955 87                                  add     a, a
ROM:0956 5F                                  ld      e, a
ROM:0957 16 00                               ld      d, #0
ROM:0959 23                                  inc     hl
ROM:095A 19                                  add     hl, de
ROM:095B 4E                                  ld      c, (hl)
ROM:095C 23                                  inc     hl
ROM:095D 46                                  ld      b, (hl)
ROM:095E 23                                  inc     hl
ROM:095F 5E                                  ld      e, (hl)
ROM:0960 23                                  inc     hl
ROM:0961 56                                  ld      d, (hl)
ROM:0962 60                                  ld      h, b
ROM:0963 69                                  ld      l, c
ROM:0964 C1                                  pop     bc
ROM:0965 79                                  ld      a, c
ROM:0966 48                                  ld      c, b
ROM:0967 CB 3F                               srl     a
ROM:0969 CB 3F                               srl     a
ROM:096B CB 3F                               srl     a
ROM:096D CB 3F                               srl     a
ROM:096F 47                                  ld      b, a
ROM:0970 C5                                  push    bc
ROM:0971 DD E5                               push    ix
ROM:0973
ROM:0973             LP1:                                                            ; CODE XREF: PUTOBJ_-B8Ej
ROM:0973 E5                                  push    hl
ROM:0974 D5                                  push    de
ROM:0975 DD 6E 04                            ld      l, 4(ix)
ROM:0978 DD 66 05                            ld      h, 5(ix)
ROM:097B DD 23                               inc     ix
ROM:097D DD 23                               inc     ix
ROM:097F 23                                  inc     hl
ROM:0980 23                                  inc     hl
ROM:0981 5E                                  ld      e, (hl)
ROM:0982 23                                  inc     hl
ROM:0983 56                                  ld      d, (hl)
ROM:0984 D5                                  push    de
ROM:0985 FD E1                               pop     iy
ROM:0987 D1                                  pop     de
ROM:0988 E1                                  pop     hl
ROM:0989 7E                                  ld      a, (hl)
ROM:098A FD CB 00 7E                         bit     7, 0(iy)
ROM:098E 28 02                               jr      Z, TBL0
ROM:0990 CB FF                               set     7, a
ROM:0992
ROM:0992             TBL0:                                                           ; CODE XREF: PUTOBJ_-BB2j
ROM:0992 FD 77 00                            ld      0(iy), a
ROM:0995 23                                  inc     hl
ROM:0996 1A                                  ld      a, (de)
ROM:0997 D9                                  exx
ROM:0998 6F                                  ld      l, a
ROM:0999 26 00                               ld      h, #0
ROM:099B 09                                  add     hl, bc
ROM:099C FD 75 01                            ld      1(iy), l
ROM:099F FD 74 02                            ld      2(iy), h
ROM:09A2 D9                                  exx
ROM:09A3 13                                  inc     de
ROM:09A4 1A                                  ld      a, (de)
ROM:09A5 D9                                  exx
ROM:09A6 6F                                  ld      l, a
ROM:09A7 26 00                               ld      h, #0
ROM:09A9 19                                  add     hl, de
ROM:09AA FD 75 03                            ld      3(iy), l
ROM:09AD FD 74 04                            ld      4(iy), h
ROM:09B0 D9                                  exx
ROM:09B1 13                                  inc     de
ROM:09B2 10 BF                               djnz    LP1
ROM:09B4 FD E1                               pop     iy
ROM:09B6 01 04 00                            ld      bc, #4
ROM:09B9 FD 09                               add     iy, bc
ROM:09BB D1                                  pop     de
ROM:09BC
ROM:09BC             LP2:                                                            ; CODE XREF: PUTOBJ_-B6Cj
ROM:09BC FD 6E 00                            ld      l, 0(iy)
ROM:09BF FD 66 01                            ld      h, 1(iy)
ROM:09C2 FD 23                               inc     iy
ROM:09C4 FD 23                               inc     iy
ROM:09C6 E5                                  push    hl
ROM:09C7 DD E1                               pop     ix
ROM:09C9 FD E5                               push    iy
ROM:09CB D5                                  push    de
ROM:09CC 43                                  ld      b, e
ROM:09CD CD 40 15                            call    PUTOBJ_
ROM:09D0 D1                                  pop     de
ROM:09D1 FD E1                               pop     iy
ROM:09D3 15                                  dec     d
ROM:09D4 20 E6                               jr      NZ, LP2
ROM:09D6 C9                                  ret
ROM:09D6             ; END OF FUNCTION CHUNK FOR PUTOBJ_
ROM:09D7             ; ---------------------------------------------------------------------------
ROM:09D7             ; START OF FUNCTION CHUNK FOR COM_PAT_COL
ROM:09D7
ROM:09D7             ELSE23:                                                         ; CODE XREF: COM_PAT_COL-6j
ROM:09D7 0E 00                               ld      c, #0
ROM:09D9
ROM:09D9             END23:                                                          ; CODE XREF: COM_PAT_COL-2j
ROM:09D9 7B                                  ld      a, e
ROM:09DA B7                                  or      a
ROM:09DB 28 08                               jr      Z, END24
ROM:09DD DD 7E 00                            ld      a, 0(ix)
ROM:09E0 A1                                  and     c
ROM:09E1 B0                                  or      b
ROM:09E2 DD 77 00                            ld      0(ix), a
ROM:09E5
ROM:09E5             END24:                                                          ; CODE XREF: COM_PAT_COL-52j
ROM:09E5 7C                                  ld      a, h
ROM:09E6 B7                                  or      a
ROM:09E7 28 08                               jr      Z, END25
ROM:09E9 DD 7E 08                            ld      a, 8(ix)
ROM:09EC A1                                  and     c
ROM:09ED B0                                  or      b
ROM:09EE DD 77 08                            ld      8(ix), a
ROM:09F1
ROM:09F1             END25:                                                          ; CODE XREF: COM_PAT_COL-46j
ROM:09F1 7D                                  ld      a, l
ROM:09F2 B7                                  or      a
ROM:09F3 28 08                               jr      Z, END26
ROM:09F5 DD 7E 10                            ld      a, 0x10(ix)
ROM:09F8 A1                                  and     c
ROM:09F9 B0                                  or      b
ROM:09FA DD 77 10                            ld      0x10(ix), a
ROM:09FD
ROM:09FD             END26:                                                          ; CODE XREF: COM_PAT_COL-3Aj
ROM:09FD DD E1                               pop     ix
ROM:09FF C9                                  ret
ROM:0A00             ; ---------------------------------------------------------------------------
ROM:0A00
ROM:0A00             ELSE18:                                                         ; CODE XREF: COM_PAT_COL+4j
ROM:0A00 B7                                  or      a
ROM:0A01 28 03                               jr      Z, END19
ROM:0A03 DD 77 00                            ld      0(ix), a
ROM:0A06
ROM:0A06             END19:                                                          ; CODE XREF: COM_PAT_COL-2Cj
ROM:0A06 7C                                  ld      a, h
ROM:0A07 B7                                  or      a
ROM:0A08 28 03                               jr      Z, END20
ROM:0A0A DD 77 08                            ld      8(ix), a
ROM:0A0D
ROM:0A0D             END20:                                                          ; CODE XREF: COM_PAT_COL-25j
ROM:0A0D 7D                                  ld      a, l
ROM:0A0E B7                                  or      a
ROM:0A0F 28 03                               jr      Z, END18
ROM:0A11 DD 77 10                            ld      0x10(ix), a
ROM:0A14
ROM:0A14             END18:                                                          ; CODE XREF: COM_PAT_COL-1Ej
ROM:0A14                                                                             ; COM_PAT_COL+1Aj
ROM:0A14 FD CB 03 7E                         bit     7, 3(iy)
ROM:0A18 C8                                  ret     Z
ROM:0A19 DD E5                               push    ix
ROM:0A1B 01 68 00                            ld      bc, #0x68 ; 'h'
ROM:0A1E DD 09                               add     ix, bc
ROM:0A20 FD 46 02                            ld      b, 2(iy)
ROM:0A23 FD CB 03 4E                         bit     1, 3(iy)
ROM:0A27 20 AE                               jr      NZ, ELSE23
ROM:0A29 0E 0F                               ld      c, #0xF
ROM:0A2B 18 AC                               jr      END23
ROM:0A2B             ; END OF FUNCTION CHUNK FOR COM_PAT_COL
ROM:0A2D
ROM:0A2D             ; =============== S U B R O U T I N E =======================================
ROM:0A2D
ROM:0A2D
ROM:0A2D             COM_PAT_COL:                                                    ; CODE XREF: PUTOBJ_-64Ap
ROM:0A2D
ROM:0A2D             ; FUNCTION CHUNK AT ROM:09D7 SIZE 00000056 BYTES
ROM:0A2D
ROM:0A2D FD CB 03 46                         bit     0, 3(iy)
ROM:0A31 20 CD                               jr      NZ, ELSE18
ROM:0A33 DD B6 00                            or      0(ix)
ROM:0A36 DD 77 00                            ld      0(ix), a
ROM:0A39 7C                                  ld      a, h
ROM:0A3A DD B6 08                            or      8(ix)
ROM:0A3D DD 77 08                            ld      8(ix), a
ROM:0A40 7D                                  ld      a, l
ROM:0A41 DD B6 10                            or      0x10(ix)
ROM:0A44 DD 77 10                            ld      0x10(ix), a
ROM:0A47 18 CB                               jr      END18
ROM:0A47             ; End of function COM_PAT_COL
ROM:0A47
ROM:0A47             ; ---------------------------------------------------------------------------
ROM:0A49 54 55 52 4E+aTurnPowerOff:          .ascii 'TURN POWER OFF'                 ; DATA XREF: BOOT_UP+1B90o
ROM:0A57 42 45 46 4F+aBeforeInsertingCartridge:.ascii 'BEFORE INSERTING CARTRIDGE'   ; DATA XREF: BOOT_UP+1B9Co
ROM:0A71 4F 52 20 45+aOrExpansionModule_:    .ascii 'OR EXPANSION MODULE.'           ; DATA XREF: BOOT_UP+1BA8o
ROM:0A85             ; <SPACE>!"#$%&'()*+,-./
ROM:0A85 00 00 00 00+SPACE:                  .db 0, 0, 0, 0, 0, 0, 0, 0              ; DATA XREF: LOAD_ASCII_+7o
ROM:0A85 00 00 00 00+                        .db 0x20, 0x20, 0x20, 0x20, 0x20, 0, 0x20, 0
ROM:0A85 20 20 20 20+                        .db 0x50, 0x50, 0x50, 0, 0, 0, 0, 0
ROM:0A85 20 00 20 00+                        .db 0x50, 0x50, 0xF8, 0x50, 0xF8, 0x50, 0x50, 0
ROM:0A85 50 50 50 00+                        .db 0x20, 0x78, 0xA0, 0x70, 0x28, 0xF0, 0x20, 0
ROM:0A85 00 00 00 00+                        .db 0xC0, 0xC8, 0x10, 0x20, 0x40, 0x98, 0x18, 0
ROM:0A85 50 50 F8 50+                        .db 0x40, 0xA0, 0xA0, 0x40, 0xA8, 0x90, 0x68, 0
ROM:0A85 F8 50 50 00+                        .db 0x20, 0x20, 0x20, 0, 0, 0, 0, 0
ROM:0A85 20 78 A0 70+                        .db 0x20, 0x40, 0x80, 0x80, 0x80, 0x40, 0x20, 0
ROM:0A85 28 F0 20 00+                        .db 0x20, 0x10, 8, 8, 8, 0x10, 0x20, 0
ROM:0A85 C0 C8 10 20+                        .db 0x20, 0xA8, 0x70, 0x20, 0x70, 0xA8, 0x20, 0
ROM:0A85 40 98 18 00+                        .db 0, 0x20, 0x20, 0xF8, 0x20, 0x20, 0, 0
ROM:0A85 40 A0 A0 40+                        .db 0, 0, 0, 0, 0x20, 0x20, 0x40, 0
ROM:0A85 A8 90 68 00+                        .db 0, 0, 0, 0xF8, 0, 0, 0, 0
ROM:0A85 20 20 20 00+                        .db 0, 0, 0, 0, 0, 0, 0x20, 0
ROM:0A85 00 00 00 00+                        .db 0, 8, 0x10, 0x20, 0x40, 0x80, 0, 0
ROM:0B05 70 88 98 A8+NUMBER_TBL:             .db 0x70, 0x88, 0x98, 0xA8, 0xC8, 0x88, 0x70, 0
ROM:0B05 C8 88 70 00+                                                                ; DATA XREF: ROM:NUMBER_TABLEo
ROM:0B05 20 60 20 20+                        .db 0x20, 0x60, 0x20, 0x20, 0x20, 0x20, 0x70, 0
ROM:0B05 20 20 70 00+                        .db 0x70, 0x88, 8, 0x30, 0x40, 0x80, 0xF8, 0
ROM:0B05 70 88 08 30+                        .db 0xF8, 8, 0x10, 0x30, 8, 0x88, 0x70, 0
ROM:0B05 40 80 F8 00+                        .db 0x10, 0x30, 0x50, 0x90, 0xF8, 0x10, 0x10, 0
ROM:0B05 F8 08 10 30+                        .db 0xF8, 0x80, 0xF0, 8, 8, 0x88, 0x70, 0
ROM:0B05 08 88 70 00+                        .db 0x38, 0x40, 0x80, 0xF0, 0x88, 0x88, 0x70, 0
ROM:0B05 10 30 50 90+                        .db 0xF8, 8, 0x10, 0x20, 0x40, 0x40, 0x40, 0
ROM:0B05 F8 10 10 00+                        .db 0x70, 0x88, 0x88, 0x70, 0x88, 0x88, 0x70, 0
ROM:0B05 F8 80 F0 08+                        .db 0x70, 0x88, 0x88, 0x78, 8, 0x10, 0xE0, 0
ROM:0B05 08 88 70 00+                        .db 0, 0, 0x20, 0, 0x20, 0, 0, 0
ROM:0B05 38 40 80 F0+                        .db 0, 0, 0x20, 0, 0x20, 0x20, 0x40, 0
ROM:0B05 88 88 70 00+                        .db 0x10, 0x20, 0x40, 0x80, 0x40, 0x20, 0x10, 0
ROM:0B05 F8 08 10 20+                        .db 0, 0, 0xF8, 0, 0xF8, 0, 0, 0
ROM:0B05 40 40 40 00+                        .db 0x40, 0x20, 0x10, 8, 0x10, 0x20, 0x40, 0
ROM:0B05 70 88 88 70+                        .db 0x70, 0x88, 0x10, 0x20, 0x20, 0, 0x20, 0
ROM:0B05 88 88 70 00+                        .db 0x70, 0x88, 0xA8, 0xB8, 0xB0, 0x80, 0x78, 0
ROM:0B8D 20 50 88 88+ASCII_TBL:              .db 0x20, 0x50, 0x88, 0x88, 0xF8, 0x88, 0x88, 0
ROM:0B8D F8 88 88 00+                                                                ; DATA XREF: ROM:ASCII_TABLEo
ROM:0B8D F0 88 88 F0+                        .db 0xF0, 0x88, 0x88, 0xF0, 0x88, 0x88, 0xF0, 0
ROM:0B8D 88 88 F0 00+                        .db 0x70, 0x88, 0x80, 0x80, 0x80, 0x88, 0x70, 0
ROM:0B8D 70 88 80 80+                        .db 0xF0, 0x88, 0x88, 0x88, 0x88, 0x88, 0xF0, 0
ROM:0B8D 80 88 70 00+                        .db 0xF8, 0x80, 0x80, 0xF0, 0x80, 0x80, 0xF8, 0
ROM:0B8D F0 88 88 88+                        .db 0xF8, 0x80, 0x80, 0xF0, 0x80, 0x80, 0x80, 0
ROM:0B8D 88 88 F0 00+                        .db 0x78, 0x80, 0x80, 0x80, 0x98, 0x88, 0x78, 0
ROM:0B8D F8 80 80 F0+                        .db 0x88, 0x88, 0x88, 0xF8, 0x88, 0x88, 0x88, 0
ROM:0B8D 80 80 F8 00+                        .db 0x70, 0x20, 0x20, 0x20, 0x20, 0x20, 0x70, 0
ROM:0B8D F8 80 80 F0+                        .db 8, 8, 8, 8, 8, 0x88, 0x70, 0
ROM:0B8D 80 80 80 00+                        .db 0x88, 0x90, 0xA0, 0xC0, 0xA0, 0x90, 0x88, 0
ROM:0B8D 78 80 80 80+                        .db 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xF8, 0
ROM:0B8D 98 88 78 00+                        .db 0x88, 0xD8, 0xA8, 0xA8, 0x88, 0x88, 0x88, 0
ROM:0B8D 88 88 88 F8+                        .db 0x88, 0x88, 0xC8, 0xA8, 0x98, 0x88, 0x88, 0
ROM:0B8D 88 88 88 00+                        .db 0x70, 0x88, 0x88, 0x88, 0x88, 0x88, 0x70, 0
ROM:0B8D 70 20 20 20+                        .db 0xF0, 0x88, 0x88, 0xF0, 0x80, 0x80, 0x80, 0
ROM:0B8D 20 20 70 00+                        .db 0x70, 0x88, 0x88, 0x88, 0xA8, 0x90, 0x68, 0
ROM:0B8D 08 08 08 08+                        .db 0xF0, 0x88, 0x88, 0xF0, 0xA0, 0x90, 0x88, 0
ROM:0B8D 08 88 70 00+                        .db 0x70, 0x88, 0x80, 0x70, 8, 0x88, 0x70, 0
ROM:0B8D 88 90 A0 C0+                        .db 0xF8, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0
ROM:0B8D A0 90 88 00+                        .db 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x70, 0
ROM:0B8D 80 80 80 80+                        .db 0x88, 0x88, 0x88, 0x88, 0x88, 0x50, 0x20, 0
ROM:0B8D 80 80 F8 00+                        .db 0x88, 0x88, 0x88, 0xA8, 0xA8, 0xD8, 0x88, 0
ROM:0B8D 88 D8 A8 A8+                        .db 0x88, 0x88, 0x50, 0x20, 0x50, 0x88, 0x88, 0
ROM:0B8D 88 88 88 00+                        .db 0x88, 0x88, 0x50, 0x20, 0x20, 0x20, 0x20, 0
ROM:0B8D 88 88 C8 A8+                        .db 0xF8, 8, 0x10, 0x20, 0x40, 0x80, 0xF8, 0
ROM:0B8D 98 88 88 00+                        .db 0xF8, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0xF8, 0
ROM:0B8D 70 88 88 88+                        .db 0, 0x80, 0x40, 0x20, 0x10, 8, 0, 0
ROM:0B8D 88 88 70 00+                        .db 0xF8, 0x18, 0x18, 0x18, 0x18, 0x18, 0xF8, 0
ROM:0B8D F0 88 88 F0+                        .db 0, 0, 0x20, 0x50, 0x88, 0, 0, 0
ROM:0B8D 80 80 80 00+                        .db 0, 0, 0, 0, 0, 0, 0, 0xF8
ROM:0B8D 70 88 88 88+                        .db 0x40, 0x20, 0x10, 0, 0, 0, 0, 0
ROM:0B8D A8 90 68 00+                        .db 0, 0, 0x70, 0x88, 0xF8, 0x88, 0x88, 0
ROM:0B8D F0 88 88 F0+                        .db 0, 0, 0xF0, 0x48, 0x70, 0x48, 0xF0, 0
ROM:0B8D A0 90 88 00+                        .db 0, 0, 0x78, 0x80, 0x80, 0x80, 0x78, 0
ROM:0B8D 70 88 80 70+                        .db 0, 0, 0xF0, 0x48, 0x48, 0x48, 0xF0, 0
ROM:0B8D 08 88 70 00+                        .db 0, 0, 0xF0, 0x80, 0xE0, 0x80, 0xF0, 0
ROM:0B8D F8 20 20 20+                        .db 0, 0, 0xF0, 0x80, 0xE0, 0x80, 0x80, 0
ROM:0B8D 20 20 20 00+                        .db 0, 0, 0x78, 0x80, 0xB8, 0x88, 0x70, 0
ROM:0B8D 88 88 88 88+                        .db 0, 0, 0x88, 0x88, 0xF8, 0x88, 0x88, 0
ROM:0B8D 88 88 70 00+                        .db 0, 0, 0xF8, 0x20, 0x20, 0x20, 0xF8, 0
ROM:0B8D 88 88 88 88+                        .db 0, 0, 0x70, 0x20, 0x20, 0xA0, 0xE0, 0
ROM:0B8D 88 50 20 00+                        .db 0, 0, 0x90, 0xA0, 0xC0, 0xA0, 0x90, 0
ROM:0B8D 88 88 88 A8+                        .db 0, 0, 0x80, 0x80, 0x80, 0x80, 0xF8, 0
ROM:0B8D A8 D8 88 00+                        .db 0, 0, 0x88, 0xD8, 0xA8, 0x88, 0x88, 0
ROM:0B8D 88 88 50 20+                        .db 0, 0, 0x88, 0xC8, 0xA8, 0x98, 0x88, 0
ROM:0B8D 50 88 88 00+                        .db 0, 0, 0xF8, 0x88, 0x88, 0x88, 0xF8, 0
ROM:0B8D 88 88 50 20+                        .db 0, 0, 0xF0, 0x88, 0xF0, 0x80, 0x80, 0
ROM:0B8D 20 20 20 00+                        .db 0, 0, 0xF8, 0x88, 0xA8, 0x90, 0xE0, 0
ROM:0B8D F8 08 10 20+                        .db 0, 0, 0xF8, 0x88, 0xF8, 0xA0, 0x90, 0
ROM:0B8D 40 80 F8 00+                        .db 0, 0, 0x78, 0x80, 0x70, 8, 0xF0, 0
ROM:0B8D F8 C0 C0 C0+                        .db 0, 0, 0xF8, 0x20, 0x20, 0x20, 0x20, 0
ROM:0B8D C0 C0 F8 00+                        .db 0, 0, 0x88, 0x88, 0x88, 0x88, 0x70, 0
ROM:0B8D 00 80 40 20+                        .db 0, 0, 0x88, 0x88, 0x90, 0xA0, 0x40, 0
ROM:0B8D 10 08 00 00+                        .db 0, 0, 0x88, 0x88, 0xA8, 0xD8, 0x88, 0
ROM:0B8D F8 18 18 18+                        .db 0, 0, 0x88, 0x60, 0x20, 0x60, 0x88, 0
ROM:0B8D 18 18 F8 00+                        .db 0, 0, 0x88, 0x50, 0x20, 0x20, 0x20, 0
ROM:0B8D 00 00 20 50+                        .db 0, 0, 0xF8, 0x10, 0x20, 0x40, 0xF8, 0
ROM:0B8D 88 00 00 00+                        .db 0x38, 0x40, 0x20, 0xC0, 0x20, 0x40, 0x38, 0
ROM:0B8D 00 00 00 00+                        .db 0x40, 0x20, 0x10, 8, 0x10, 0x20, 0x40, 0
ROM:0B8D 00 00 00 F8+                        .db 0xE0, 0x10, 0x20, 0x18, 0x20, 0x10, 0xE0, 0
ROM:0B8D 40 20 10 00+                        .db 0x40, 0xA8, 0x10, 0, 0, 0, 0, 0
ROM:0B8D 00 00 00 00+                        .db 0xA8, 0x50, 0xA8, 0x50, 0xA8, 0x50, 0xA8, 0
ROM:0D85             ; ---------------------------------------------------------------------------
ROM:0D85
ROM:0D85             vector_to_BIOS_routine:                                         ; CODE XREF: ROM:0043j
ROM:0D85 01 34 00                            ld      bc, #52                         ; number of routines
ROM:0D88
ROM:0D88             find_address_loop:                                              ; CODE XREF: ROM:0D8Fj
ROM:0D88 BD                                  cp      l
ROM:0D89 28 0A                               jr      Z, execute_routine
ROM:0D8B 2D                                  dec     l
ROM:0D8C 2D                                  dec     l
ROM:0D8D 2D                                  dec     l                               ; next jump table address
ROM:0D8E 0D                                  dec     c                               ; next (previous routine)
ROM:0D8F F2 88 0D                            jp      P, find_address_loop
ROM:0D92 C3 46 00                            jp      RST_38H_exit                    ; invalid routine - exit
ROM:0D95             ; ---------------------------------------------------------------------------
ROM:0D95
ROM:0D95             execute_routine:                                                ; CODE XREF: ROM:0D89j
ROM:0D95 E1                                  pop     hl
ROM:0D96 21 48 1D                            ld      hl, #RAND_GEN                   ; start of ROM address table
ROM:0D99 09                                  add     hl, bc
ROM:0D9A 09                                  add     hl, bc                          ; find routine address
ROM:0D9B 7E                                  ld      a, (hl)
ROM:0D9C 23                                  inc     hl
ROM:0D9D 66                                  ld      h, (hl)
ROM:0D9E 6F                                  ld      l, a                            ; transfer to HL
ROM:0D9F F1                                  pop     af
ROM:0DA0 C1                                  pop     bc
ROM:0DA1 E3                                  ex      (sp), hl                        ; swap return address for routine address
ROM:0DA2 C9                                  ret                                     ; execute routine
ROM:0DA3             ; ---------------------------------------------------------------------------
ROM:0DA3             ; START OF FUNCTION CHUNK FOR PUTOBJ_
ROM:0DA3
ROM:0DA3             AD_EXIT:                                                        ; CODE XREF: PUTOBJ_-70Aj
ROM:0DA3 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0DA7 FD 7E 12                            ld      a, 0x12(iy)
ROM:0DAA 80                                  add     a, b
ROM:0DAB FE 18                               cp      #0x18
ROM:0DAD 30 2B                               jr      NC, END15
ROM:0DAF CB 3F                               srl     a
ROM:0DB1 CB 3F                               srl     a
ROM:0DB3 CB 3F                               srl     a
ROM:0DB5 57                                  ld      d, a
ROM:0DB6 59                                  ld      e, c
ROM:0DB7 D5                                  push    de
ROM:0DB8 01 1C 00                            ld      bc, #0x1C
ROM:0DBB 09                                  add     hl, bc
ROM:0DBC ED 4B 06 80                         ld      bc, (WORK_BUFFER)
ROM:0DC0 09                                  add     hl, bc
ROM:0DC1 E5                                  push    hl
ROM:0DC2 FD 21 03 00                         ld      iy, #3
ROM:0DC6 3E 03                               ld      a, #3
ROM:0DC8 CD 1E 02                            call    PUT_VRAM_
ROM:0DCB E1                                  pop     hl
ROM:0DCC 11 68 00                            ld      de, #0x68 ; 'h'
ROM:0DCF 19                                  add     hl, de
ROM:0DD0 D1                                  pop     de
ROM:0DD1 FD 21 03 00                         ld      iy, #3
ROM:0DD5 3E 04                               ld      a, #4
ROM:0DD7 CD 1E 02                            call    PUT_VRAM_
ROM:0DDA
ROM:0DDA             END15:                                                          ; CODE XREF: PUTOBJ_-793j
ROM:0DDA C1                                  pop     bc
ROM:0DDB 04                                  inc     b
ROM:0DDC 78                                  ld      a, b
ROM:0DDD FE 03                               cp      #3
ROM:0DDF 20 47                               jr      NZ, RPT2
ROM:0DE1
ROM:0DE1             END04:                                                          ; CODE XREF: PUTOBJ_-6DDj
ROM:0DE1 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0DE5 FD 46 06                            ld      b, 6(iy)
ROM:0DE8 78                                  ld      a, b
ROM:0DE9 FE 80                               cp      #0x80 ; '€'
ROM:0DEB 28 21                               jr      Z, END16
ROM:0DED FD 4E 07                            ld      c, 7(iy)
ROM:0DF0 FD 66 11                            ld      h, 0x11(iy)
ROM:0DF3 FD 6E 12                            ld      l, 0x12(iy)
ROM:0DF6 B7                                  or      a
ROM:0DF7 ED 42                               sbc     hl, bc
ROM:0DF9 28 13                               jr      Z, END16
ROM:0DFB 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0DFE 11 08 00                            ld      de, #8
ROM:0E01 19                                  add     hl, de
ROM:0E02 FD 5E 06                            ld      e, 6(iy)
ROM:0E05 FD 56 07                            ld      d, 7(iy)
ROM:0E08 01 03 03                            ld      bc, #0x303
ROM:0E0B CD 4C 13                            call    PUT_FRAME
ROM:0E0E
ROM:0E0E             END16:                                                          ; CODE XREF: PUTOBJ_-755j
ROM:0E0E                                                                             ; PUTOBJ_-747j
ROM:0E0E FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0E12 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0E15 11 13 00                            ld      de, #0x13
ROM:0E18 19                                  add     hl, de
ROM:0E19 FD 5E 11                            ld      e, 0x11(iy)
ROM:0E1C FD 56 12                            ld      d, 0x12(iy)
ROM:0E1F 01 03 03                            ld      bc, #0x303
ROM:0E22 CD 4C 13                            call    PUT_FRAME
ROM:0E25 C9                                  ret
ROM:0E26             ; ---------------------------------------------------------------------------
ROM:0E26
ROM:0E26             ELSE04:                                                         ; CODE XREF: PUTOBJ_-6B1j
ROM:0E26 06 00                               ld      b, #0
ROM:0E28
ROM:0E28             RPT2:                                                           ; CODE XREF: PUTOBJ_-761j
ROM:0E28 C5                                  push    bc
ROM:0E29 79                                  ld      a, c
ROM:0E2A 80                                  add     a, b
ROM:0E2B 80                                  add     a, b
ROM:0E2C 80                                  add     a, b
ROM:0E2D 4F                                  ld      c, a
ROM:0E2E 21 00 00                            ld      hl, #0
ROM:0E31 11 18 00                            ld      de, #0x18
ROM:0E34 78                                  ld      a, b
ROM:0E35
ROM:0E35             AD_LP:                                                          ; CODE XREF: PUTOBJ_-706j
ROM:0E35 3D                                  dec     a
ROM:0E36 FA A3 0D                            jp      M, AD_EXIT
ROM:0E39 19                                  add     hl, de
ROM:0E3A 18 F9                               jr      AD_LP
ROM:0E3C             ; ---------------------------------------------------------------------------
ROM:0E3C
ROM:0E3C             DVEX:                                                           ; CODE XREF: PUTOBJ_-670j
ROM:0E3C FD 86 11                            add     a, 0x11(iy)
ROM:0E3F FE 20                               cp      #0x20 ; ' '
ROM:0E41 30 17                               jr      NC, NOTOS
ROM:0E43 78                                  ld      a, b
ROM:0E44 FD 86 12                            add     a, 0x12(iy)
ROM:0E47 FE 18                               cp      #0x18
ROM:0E49 30 0F                               jr      NC, NOTOS
ROM:0E4B DD E5                               push    ix
ROM:0E4D E5                                  push    hl
ROM:0E4E 3E 04                               ld      a, #4
ROM:0E50 FD 21 01 00                         ld      iy, #1
ROM:0E54 CD 1E 02                            call    PUT_VRAM_
ROM:0E57 E1                                  pop     hl
ROM:0E58 DD E1                               pop     ix
ROM:0E5A
ROM:0E5A             NOTOS:                                                          ; CODE XREF: PUTOBJ_-6FFj
ROM:0E5A                                                                             ; PUTOBJ_-6F7j
ROM:0E5A C1                                  pop     bc
ROM:0E5B 23                                  inc     hl
ROM:0E5C 13                                  inc     de
ROM:0E5D 05                                  dec     b
ROM:0E5E 78                                  ld      a, b
ROM:0E5F FE 00                               cp      #0
ROM:0E61 20 57                               jr      NZ, RPT1
ROM:0E63 C3 E1 0D                            jp      END04
ROM:0E66             ; ---------------------------------------------------------------------------
ROM:0E66
ROM:0E66             ELSE13:                                                         ; CODE XREF: PUTOBJ_-653j
ROM:0E66 0E 00                               ld      c, #0
ROM:0E68
ROM:0E68             END13:                                                          ; CODE XREF: PUTOBJ_-64Ej
ROM:0E68 06 09                               ld      b, #9
ROM:0E6A
ROM:0E6A             DLP5:                                                           ; CODE XREF: PUTOBJ_-6D1j
ROM:0E6A 7E                                  ld      a, (hl)
ROM:0E6B A1                                  and     c
ROM:0E6C B2                                  or      d
ROM:0E6D 77                                  ld      (hl), a
ROM:0E6E 23                                  inc     hl
ROM:0E6F 10 F9                               djnz    DLP5
ROM:0E71
ROM:0E71             END12:                                                          ; CODE XREF: PUTOBJ_-663j
ROM:0E71 FD 7E 05                            ld      a, 5(iy)
ROM:0E74 FD CB 04 7E                         bit     7, 4(iy)
ROM:0E78 28 02                               jr      Z, END14
ROM:0E7A C6 09                               add     a, #9
ROM:0E7C
ROM:0E7C             END14:                                                          ; CODE XREF: PUTOBJ_-6C8j
ROM:0E7C 4F                                  ld      c, a
ROM:0E7D 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0E80 11 13 00                            ld      de, #0x13
ROM:0E83 19                                  add     hl, de
ROM:0E84 06 09                               ld      b, #9
ROM:0E86
ROM:0E86             DLP6:                                                           ; CODE XREF: PUTOBJ_-6B7j
ROM:0E86 77                                  ld      (hl), a
ROM:0E87 3C                                  inc     a
ROM:0E88 23                                  inc     hl
ROM:0E89 10 FB                               djnz    DLP6
ROM:0E8B
ROM:0E8B             PM12:
ROM:0E8B FD CB 03 7E                         bit     7, 3(iy)
ROM:0E8F 20 95                               jr      NZ, ELSE04
ROM:0E91 59                                  ld      e, c
ROM:0E92 16 00                               ld      d, #0
ROM:0E94 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0E97 01 1C 00                            ld      bc, #0x1C
ROM:0E9A 09                                  add     hl, bc
ROM:0E9B FD 21 09 00                         ld      iy, #9
ROM:0E9F 3E 03                               ld      a, #3
ROM:0EA1 CD 1E 02                            call    PUT_VRAM_
ROM:0EA4 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0EA8 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0EAB 01 84 00                            ld      bc, #0x84 ; '„'
ROM:0EAE 09                                  add     hl, bc
ROM:0EAF DD 2A 06 80                         ld      ix, (WORK_BUFFER)
ROM:0EB3 01 13 00                            ld      bc, #0x13
ROM:0EB6 DD 09                               add     ix, bc
ROM:0EB8 06 09                               ld      b, #9
ROM:0EBA
ROM:0EBA             RPT1:                                                           ; CODE XREF: PUTOBJ_-6DFj
ROM:0EBA DD 7E 00                            ld      a, 0(ix)
ROM:0EBD DD 23                               inc     ix
ROM:0EBF CB 3F                               srl     a
ROM:0EC1 CB 3F                               srl     a
ROM:0EC3 CB 3F                               srl     a
ROM:0EC5 5F                                  ld      e, a
ROM:0EC6 16 00                               ld      d, #0
ROM:0EC8 C5                                  push    bc
ROM:0EC9 3E 09                               ld      a, #9
ROM:0ECB 90                                  sub     b
ROM:0ECC 06 00                               ld      b, #0
ROM:0ECE
ROM:0ECE             DVLP:                                                           ; CODE XREF: PUTOBJ_-66Aj
ROM:0ECE FE 03                               cp      #3
ROM:0ED0 DA 3C 0E                            jp      C, DVEX
ROM:0ED3 D6 03                               sub     #3
ROM:0ED5 04                                  inc     b
ROM:0ED6 18 F6                               jr      DVLP
ROM:0ED8             ; ---------------------------------------------------------------------------
ROM:0ED8
ROM:0ED8             C_LP_EXIT:                                                      ; CODE XREF: PUTOBJ_-62Fj
ROM:0ED8 E1                                  pop     hl
ROM:0ED9 FD CB 03 7E                         bit     7, 3(iy)
ROM:0EDD 20 92                               jr      NZ, END12
ROM:0EDF 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0EE2 01 84 00                            ld      bc, #0x84 ; '„'
ROM:0EE5 09                                  add     hl, bc
ROM:0EE6 FD 56 02                            ld      d, 2(iy)
ROM:0EE9 FD CB 03 4E                         bit     1, 3(iy)
ROM:0EED C2 66 0E                            jp      NZ, ELSE13
ROM:0EF0 0E 0F                               ld      c, #0xF
ROM:0EF2 C3 68 0E                            jp      END13
ROM:0EF5             ; ---------------------------------------------------------------------------
ROM:0EF5
ROM:0EF5             SHFEX:                                                          ; CODE XREF: PUTOBJ_-5F1j
ROM:0EF5 5F                                  ld      e, a
ROM:0EF6 CD 2D 0A                            call    COM_PAT_COL
ROM:0EF9 FD 7E 00                            ld      a, 0(iy)
ROM:0EFC 3C                                  inc     a
ROM:0EFD FD 77 00                            ld      0(iy), a
ROM:0F00 FE 08                               cp      #8
ROM:0F02 28 04                               jr      Z, IF11
ROM:0F04 FE 10                               cp      #0x10
ROM:0F06 20 05                               jr      NZ, END11
ROM:0F08
ROM:0F08             IF11:                                                           ; CODE XREF: PUTOBJ_-63Ej
ROM:0F08 01 10 00                            ld      bc, #0x10
ROM:0F0B DD 09                               add     ix, bc
ROM:0F0D
ROM:0F0D             END11:                                                          ; CODE XREF: PUTOBJ_-63Aj
ROM:0F0D DD 23                               inc     ix
ROM:0F0F 08                                  ex      af, af'
ROM:0F10 3D                                  dec     a
ROM:0F11 28 C5                               jr      Z, C_LP_EXIT
ROM:0F13 08                                  ex      af, af'
ROM:0F14 18 2A                               jr      COMBINE_LOOP
ROM:0F16             ; ---------------------------------------------------------------------------
ROM:0F16
ROM:0F16             ELSE10:                                                         ; CODE XREF: PUTOBJ_-5D9j
ROM:0F16 EB                                  ex      de, hl
ROM:0F17 C5                                  push    bc
ROM:0F18 01 08 00                            ld      bc, #8
ROM:0F1B ED B0                               ldir
ROM:0F1D C1                                  pop     bc
ROM:0F1E EB                                  ex      de, hl
ROM:0F1F
ROM:0F1F             END9:                                                           ; CODE XREF: PUTOBJ_-5C5j
ROM:0F1F                                                                             ; PUTOBJ_-58Aj
ROM:0F1F D1                                  pop     de
ROM:0F20 13                                  inc     de
ROM:0F21 10 78                               djnz    DLP4
ROM:0F23
ROM:0F23             PM11:
ROM:0F23 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0F27 ED 5B 06 80                         ld      de, (WORK_BUFFER)
ROM:0F2B 21 1C 00                            ld      hl, #0x1C
ROM:0F2E 19                                  add     hl, de
ROM:0F2F FD 4E 00                            ld      c, 0(iy)
ROM:0F32 06 00                               ld      b, #0
ROM:0F34 09                                  add     hl, bc
ROM:0F35 E5                                  push    hl
ROM:0F36 DD E1                               pop     ix
ROM:0F38 21 64 00                            ld      hl, #0x64 ; 'd'
ROM:0F3B 19                                  add     hl, de
ROM:0F3C E5                                  push    hl
ROM:0F3D 3E 10                               ld      a, #0x10
ROM:0F3F 08                                  ex      af, af'
ROM:0F40
ROM:0F40             COMBINE_LOOP:                                                   ; CODE XREF: PUTOBJ_-62Cj
ROM:0F40 E1                                  pop     hl
ROM:0F41 56                                  ld      d, (hl)
ROM:0F42 23                                  inc     hl
ROM:0F43 E5                                  push    hl
ROM:0F44 01 0F 00                            ld      bc, #0xF
ROM:0F47 09                                  add     hl, bc
ROM:0F48 5E                                  ld      e, (hl)
ROM:0F49 EB                                  ex      de, hl
ROM:0F4A FD 46 01                            ld      b, 1(iy)
ROM:0F4D AF                                  xor     a
ROM:0F4E
ROM:0F4E             SHFLP:                                                          ; CODE XREF: PUTOBJ_-5ECj
ROM:0F4E 05                                  dec     b
ROM:0F4F FA F5 0E                            jp      M, SHFEX
ROM:0F52 29                                  add     hl, hl
ROM:0F53 17                                  rla
ROM:0F54 18 F8                               jr      SHFLP
ROM:0F56             ; ---------------------------------------------------------------------------
ROM:0F56
ROM:0F56             ELSE9:                                                          ; CODE XREF: PUTOBJ_-5A0j
ROM:0F56 DD 96 01                            sub     1(ix)
ROM:0F59 D9                                  exx
ROM:0F5A 87                                  add     a, a
ROM:0F5B 87                                  add     a, a
ROM:0F5C 87                                  add     a, a
ROM:0F5D 6F                                  ld      l, a
ROM:0F5E 26 00                               ld      h, #0
ROM:0F60 19                                  add     hl, de
ROM:0F61 E5                                  push    hl
ROM:0F62 D9                                  exx
ROM:0F63 D1                                  pop     de
ROM:0F64 7A                                  ld      a, d
ROM:0F65 FE 70                               cp      #0x70 ; 'p'
ROM:0F67 30 AD                               jr      NC, ELSE10
ROM:0F69 C5                                  push    bc
ROM:0F6A E5                                  push    hl
ROM:0F6B D5                                  push    de
ROM:0F6C 01 08 00                            ld      bc, #8
ROM:0F6F CD 4D 03                            call    VRAM_READ
ROM:0F72 01 08 00                            ld      bc, #8
ROM:0F75 E1                                  pop     hl
ROM:0F76 09                                  add     hl, bc
ROM:0F77 EB                                  ex      de, hl
ROM:0F78 E1                                  pop     hl
ROM:0F79 09                                  add     hl, bc
ROM:0F7A C1                                  pop     bc
ROM:0F7B 18 A2                               jr      END9
ROM:0F7D             ; ---------------------------------------------------------------------------
ROM:0F7D
ROM:0F7D             ELSE8:                                                          ; CODE XREF: PUTOBJ_-52Aj
ROM:0F7D EB                                  ex      de, hl
ROM:0F7E ED B0                               ldir
ROM:0F80
ROM:0F80             END8:                                                           ; CODE XREF: PUTOBJ_-524j
ROM:0F80 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0F84 C1                                  pop     bc
ROM:0F85 FD 09                               add     iy, bc
ROM:0F87 FD 7E 04                            ld      a, 4(iy)
ROM:0F8A FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0F8E FD 77 02                            ld      2(iy), a
ROM:0F91 D1                                  pop     de
ROM:0F92 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:0F95 01 64 00                            ld      bc, #0x64 ; 'd'
ROM:0F98 09                                  add     hl, bc
ROM:0F99 06 04                               ld      b, #4
ROM:0F9B
ROM:0F9B             DLP4:                                                           ; CODE XREF: PUTOBJ_-61Fj
ROM:0F9B 1A                                  ld      a, (de)
ROM:0F9C DD BE 01                            cp      1(ix)
ROM:0F9F D5                                  push    de
ROM:0FA0 30 B4                               jr      NC, ELSE9
ROM:0FA2 D9                                  exx
ROM:0FA3 87                                  add     a, a
ROM:0FA4 87                                  add     a, a
ROM:0FA5 87                                  add     a, a
ROM:0FA6 6F                                  ld      l, a
ROM:0FA7 26 00                               ld      h, #0
ROM:0FA9 09                                  add     hl, bc
ROM:0FAA E5                                  push    hl
ROM:0FAB D9                                  exx
ROM:0FAC D1                                  pop     de
ROM:0FAD EB                                  ex      de, hl
ROM:0FAE C5                                  push    bc
ROM:0FAF 01 08 00                            ld      bc, #8
ROM:0FB2 ED B0                               ldir
ROM:0FB4 C1                                  pop     bc
ROM:0FB5 EB                                  ex      de, hl
ROM:0FB6 C3 1F 0F                            jp      END9
ROM:0FB9             ; ---------------------------------------------------------------------------
ROM:0FB9
ROM:0FB9             ELSE6:                                                          ; CODE XREF: PUTOBJ_:PM6j
ROM:0FB9 CB 2F                               sra     a
ROM:0FBB CB 2F                               sra     a
ROM:0FBD CB 2F                               sra     a
ROM:0FBF
ROM:0FBF             PM7:
ROM:0FBF FE 03                               cp      #3
ROM:0FC1 30 17                               jr      NC, END6
ROM:0FC3 57                                  ld      d, a
ROM:0FC4 D5                                  push    de
ROM:0FC5 E5                                  push    hl
ROM:0FC6 3E 03                               ld      a, #3
ROM:0FC8 CD B0 02                            call    GET_VRAM_
ROM:0FCB E1                                  pop     hl
ROM:0FCC 11 68 00                            ld      de, #0x68 ; 'h'
ROM:0FCF 19                                  add     hl, de
ROM:0FD0 D1                                  pop     de
ROM:0FD1 FD 21 01 00                         ld      iy, #1
ROM:0FD5 3E 04                               ld      a, #4
ROM:0FD7 CD B0 02                            call    GET_VRAM_
ROM:0FDA
ROM:0FDA             END6:                                                           ; CODE XREF: PUTOBJ_-57Fj
ROM:0FDA                                                                             ; PUTOBJ_-4E8j
ROM:0FDA C1                                  pop     bc
ROM:0FDB E1                                  pop     hl
ROM:0FDC D1                                  pop     de
ROM:0FDD 05                                  dec     b
ROM:0FDE C2 6D 10                            jp      NZ, DLP2
ROM:0FE1 DD E1                               pop     ix
ROM:0FE3 D9                                  exx
ROM:0FE4 DD 56 03                            ld      d, 3(ix)
ROM:0FE7 DD 5E 02                            ld      e, 2(ix)
ROM:0FEA DD 46 05                            ld      b, 5(ix)
ROM:0FED DD 4E 04                            ld      c, 4(ix)
ROM:0FF0 D9                                  exx
ROM:0FF1 DD E5                               push    ix
ROM:0FF3 E1                                  pop     hl
ROM:0FF4 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:0FF8 FD 7E 04                            ld      a, 4(iy)
ROM:0FFB 87                                  add     a, a
ROM:0FFC 4F                                  ld      c, a
ROM:0FFD 06 00                               ld      b, #0
ROM:0FFF 11 06 00                            ld      de, #6
ROM:1002 19                                  add     hl, de
ROM:1003 09                                  add     hl, bc
ROM:1004 5E                                  ld      e, (hl)
ROM:1005 23                                  inc     hl
ROM:1006 56                                  ld      d, (hl)
ROM:1007 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:100A 01 7C 00                            ld      bc, #0x7C ; '|'
ROM:100D 09                                  add     hl, bc
ROM:100E E5                                  push    hl
ROM:100F C5                                  push    bc
ROM:1010 01 05 00                            ld      bc, #5
ROM:1013 7A                                  ld      a, d
ROM:1014 FE 70                               cp      #0x70 ; 'p'
ROM:1016 D2 7D 0F                            jp      NC, ELSE8
ROM:1019 CD 4D 03                            call    VRAM_READ
ROM:101C C3 80 0F                            jp      END8
ROM:101F             ; ---------------------------------------------------------------------------
ROM:101F
ROM:101F             PM51:                                                           ; CODE XREF: PUTOBJ_-4BFj
ROM:101F 78                                  ld      a, b
ROM:1020 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:1024 FD 86 12                            add     a, 0x12(iy)
ROM:1027 FD CB 03 7E                         bit     7, 3(iy)
ROM:102B FD 21 01 00                         ld      iy, #1
ROM:102F
ROM:102F             PM6:
ROM:102F 20 88                               jr      NZ, ELSE6
ROM:1031 3E 03                               ld      a, #3
ROM:1033 CD B0 02                            call    GET_VRAM_
ROM:1036 C1                                  pop     bc
ROM:1037 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:103A C5                                  push    bc
ROM:103B 11 84 00                            ld      de, #0x84 ; '„'
ROM:103E 19                                  add     hl, de
ROM:103F 59                                  ld      e, c
ROM:1040 CB 3B                               srl     e
ROM:1042 CB 3B                               srl     e
ROM:1044 CB 3B                               srl     e
ROM:1046 16 00                               ld      d, #0
ROM:1048 3E 09                               ld      a, #9
ROM:104A 90                                  sub     b
ROM:104B 4F                                  ld      c, a
ROM:104C 06 00                               ld      b, #0
ROM:104E 09                                  add     hl, bc
ROM:104F FD 21 01 00                         ld      iy, #1
ROM:1053 3E 04                               ld      a, #4
ROM:1055 CD B0 02                            call    GET_VRAM_
ROM:1058 18 80                               jr      END6
ROM:105A             ; ---------------------------------------------------------------------------
ROM:105A
ROM:105A             ELSE5:                                                          ; CODE XREF: PUTOBJ_-476j
ROM:105A ED B0                               ldir
ROM:105C
ROM:105C             END5:                                                           ; CODE XREF: PUTOBJ_-471j
ROM:105C DD E5                               push    ix
ROM:105E ED 5B 06 80                         ld      de, (WORK_BUFFER)
ROM:1062 21 13 00                            ld      hl, #0x13
ROM:1065 19                                  add     hl, de
ROM:1066 EB                                  ex      de, hl
ROM:1067 01 14 00                            ld      bc, #0x14
ROM:106A 09                                  add     hl, bc
ROM:106B 06 09                               ld      b, #9
ROM:106D
ROM:106D             DLP2:                                                           ; CODE XREF: PUTOBJ_-562j
ROM:106D 1A                                  ld      a, (de)
ROM:106E 13                                  inc     de
ROM:106F D5                                  push    de
ROM:1070 11 08 00                            ld      de, #8
ROM:1073 19                                  add     hl, de
ROM:1074 E5                                  push    hl
ROM:1075 5F                                  ld      e, a
ROM:1076 16 00                               ld      d, #0
ROM:1078 4F                                  ld      c, a
ROM:1079 C5                                  push    bc
ROM:107A 3E 09                               ld      a, #9
ROM:107C 90                                  sub     b
ROM:107D 06 00                               ld      b, #0
ROM:107F
ROM:107F             PM52:                                                           ; CODE XREF: PUTOBJ_-4BBj
ROM:107F D6 03                               sub     #3
ROM:1081 DA 1F 10                            jp      C, PM51
ROM:1084 04                                  inc     b
ROM:1085 18 F8                               jr      PM52
ROM:1087             ; ---------------------------------------------------------------------------
ROM:1087
ROM:1087             ELSE2:                                                          ; CODE XREF: PUTOBJ_-405j
ROM:1087 EB                                  ex      de, hl
ROM:1088 ED B0                               ldir
ROM:108A
ROM:108A             END2:                                                           ; CODE XREF: PUTOBJ_-3FFj
ROM:108A 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:108D 11 13 00                            ld      de, #0x13
ROM:1090 19                                  add     hl, de
ROM:1091 D9                                  exx
ROM:1092 ED 5B 06 80                         ld      de, (WORK_BUFFER)
ROM:1096 21 08 00                            ld      hl, #8
ROM:1099 19                                  add     hl, de
ROM:109A EB                                  ex      de, hl
ROM:109B D9                                  exx
ROM:109C FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:10A0 FD 4E 05                            ld      c, 5(iy)
ROM:10A3 06 09                               ld      b, #9
ROM:10A5
ROM:10A5             DLP1:                                                           ; CODE XREF: PUTOBJ_-486j
ROM:10A5 7E                                  ld      a, (hl)
ROM:10A6 91                                  sub     c
ROM:10A7 FE 12                               cp      #0x12
ROM:10A9 30 0E                               jr      NC, END3
ROM:10AB FE 09                               cp      #9
ROM:10AD 38 02                               jr      C, END4
ROM:10AF D6 09                               sub     #9
ROM:10B1
ROM:10B1             END4:                                                           ; CODE XREF: PUTOBJ_-493j
ROM:10B1 D9                                  exx
ROM:10B2 6F                                  ld      l, a
ROM:10B3 26 00                               ld      h, #0
ROM:10B5 19                                  add     hl, de
ROM:10B6 7E                                  ld      a, (hl)
ROM:10B7 D9                                  exx
ROM:10B8 77                                  ld      (hl), a
ROM:10B9
ROM:10B9             END3:                                                           ; CODE XREF: PUTOBJ_-497j
ROM:10B9 23                                  inc     hl
ROM:10BA 10 E9                               djnz    DLP1
ROM:10BC D1                                  pop     de
ROM:10BD 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:10C0 01 11 00                            ld      bc, #0x11
ROM:10C3 09                                  add     hl, bc
ROM:10C4 01 0B 00                            ld      bc, #0xB
ROM:10C7 7A                                  ld      a, d
ROM:10C8 FE 70                               cp      #0x70 ; 'p'
ROM:10CA 30 8E                               jr      NC, ELSE5
ROM:10CC CD 4F 1B                            call    VRAM_WRITE
ROM:10CF 18 8B                               jr      END5
ROM:10D1             ; ---------------------------------------------------------------------------
ROM:10D1
ROM:10D1             ELSE1:                                                          ; CODE XREF: PUTOBJ_-3F3j
ROM:10D1 CB F8                               set     7, b
ROM:10D3
ROM:10D3             END1:                                                           ; CODE XREF: PUTOBJ_-3EFj
ROM:10D3 FD 70 03                            ld      3(iy), b
ROM:10D6 E5                                  push    hl
ROM:10D7 DD 66 03                            ld      h, 3(ix)
ROM:10DA DD 6E 02                            ld      l, 2(ix)
ROM:10DD 7E                                  ld      a, (hl)
ROM:10DE FD 77 04                            ld      4(iy), a
ROM:10E1 EE 80                               xor     #0x80 ; '€'
ROM:10E3 77                                  ld      (hl), a
ROM:10E4 23                                  inc     hl
ROM:10E5 5E                                  ld      e, (hl)
ROM:10E6 7B                                  ld      a, e
ROM:10E7 E6 07                               and     #7
ROM:10E9 ED 44                               neg
ROM:10EB C6 08                               add     a, #8
ROM:10ED FD 77 01                            ld      1(iy), a
ROM:10F0 23                                  inc     hl
ROM:10F1 56                                  ld      d, (hl)
ROM:10F2 CD 93 13                            call    PX_TO_PTRN_POS
ROM:10F5 FD 73 11                            ld      0x11(iy), e
ROM:10F8 23                                  inc     hl
ROM:10F9 5E                                  ld      e, (hl)
ROM:10FA 7B                                  ld      a, e
ROM:10FB E6 07                               and     #7
ROM:10FD FD 77 00                            ld      0(iy), a
ROM:1100 23                                  inc     hl
ROM:1101 56                                  ld      d, (hl)
ROM:1102 CD 93 13                            call    PX_TO_PTRN_POS
ROM:1105 FD 73 12                            ld      0x12(iy), e
ROM:1108 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:110B 11 13 00                            ld      de, #0x13
ROM:110E 19                                  add     hl, de
ROM:110F FD 56 12                            ld      d, 0x12(iy)
ROM:1112 FD 5E 11                            ld      e, 0x11(iy)
ROM:1115 01 03 03                            ld      bc, #0x303
ROM:1118 CD D5 12                            call    GET_BKGRND
ROM:111B DD 56 05                            ld      d, 5(ix)
ROM:111E DD 5E 04                            ld      e, 4(ix)
ROM:1121 DD 7E 06                            ld      a, 6(ix)
ROM:1124 DD E1                               pop     ix
ROM:1126 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:112A FD 77 05                            ld      5(iy), a
ROM:112D D5                                  push    de
ROM:112E 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:1131 01 06 00                            ld      bc, #6
ROM:1134 09                                  add     hl, bc
ROM:1135 01 0B 00                            ld      bc, #0xB
ROM:1138 7A                                  ld      a, d
ROM:1139 FE 70                               cp      #0x70 ; 'p'
ROM:113B D2 87 10                            jp      NC, ELSE2
ROM:113E CD 4D 03                            call    VRAM_READ
ROM:1141 C3 8A 10                            jp      END2
ROM:1144             ; ---------------------------------------------------------------------------
ROM:1144
ROM:1144             PUT_MOBILE:                                                     ; CODE XREF: DO_PUTOBJ+Ej
ROM:1144 FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:1148 3A C3 73                            ld      a, (VDP_MODE_WORD)
ROM:114B CB 4F                               bit     1, a
ROM:114D 20 82                               jr      NZ, ELSE1
ROM:114F CB B8                               res     7, b
ROM:1151 18 80                               jr      END1
ROM:1153             ; ---------------------------------------------------------------------------
ROM:1153
ROM:1153             DONT_PUT:                                                       ; CODE XREF: PUTOBJ_-31Fj
ROM:1153                                                                             ; PUTOBJ_-319j ...
ROM:1153 FD E5                               push    iy
ROM:1155 DD E5                               push    ix
ROM:1157 FD E5                               push    iy
ROM:1159 FD E5                               push    iy
ROM:115B AF                                  xor     a
ROM:115C 16 00                               ld      d, #0
ROM:115E DD 5E 04                            ld      e, 4(ix)
ROM:1161 E1                                  pop     hl
ROM:1162 FD 21 01 00                         ld      iy, #1
ROM:1166 CD B0 02                            call    GET_VRAM_
ROM:1169 AF                                  xor     a
ROM:116A FD E1                               pop     iy
ROM:116C FD 77 01                            ld      1(iy), a
ROM:116F CB FF                               set     7, a
ROM:1171 FD 77 03                            ld      3(iy), a
ROM:1174 AF                                  xor     a
ROM:1175 57                                  ld      d, a
ROM:1176 DD E1                               pop     ix
ROM:1178 DD 5E 04                            ld      e, 4(ix)
ROM:117B E1                                  pop     hl
ROM:117C FD 21 01 00                         ld      iy, #1
ROM:1180 CD 1E 02                            call    PUT_VRAM_
ROM:1183 C9                                  ret
ROM:1184             ; ---------------------------------------------------------------------------
ROM:1184
ROM:1184             CONTINUE:                                                       ; CODE XREF: PUTOBJ_-2FFj
ROM:1184                                                                             ; PUTOBJ_-2C0j
ROM:1184 DD 6E 02                            ld      l, 2(ix)
ROM:1187 DD 66 03                            ld      h, 3(ix)
ROM:118A 11 01 00                            ld      de, #1
ROM:118D 19                                  add     hl, de
ROM:118E 7E                                  ld      a, (hl)
ROM:118F FD 77 01                            ld      1(iy), a
ROM:1192 DD 6E 00                            ld      l, 0(ix)
ROM:1195 DD 66 01                            ld      h, 1(ix)
ROM:1198 11 05 00                            ld      de, #5
ROM:119B 19                                  add     hl, de
ROM:119C EB                                  ex      de, hl
ROM:119D 1A                                  ld      a, (de)
ROM:119E 6F                                  ld      l, a
ROM:119F 13                                  inc     de
ROM:11A0 1A                                  ld      a, (de)
ROM:11A1 67                                  ld      h, a
ROM:11A2 E5                                  push    hl
ROM:11A3 DD 6E 02                            ld      l, 2(ix)
ROM:11A6 DD 66 03                            ld      h, 3(ix)
ROM:11A9 11 00 00                            ld      de, #0
ROM:11AC 19                                  add     hl, de
ROM:11AD 7E                                  ld      a, (hl)
ROM:11AE CB 27                               sla     a
ROM:11B0 06 00                               ld      b, #0
ROM:11B2 4F                                  ld      c, a
ROM:11B3 E1                                  pop     hl
ROM:11B4 09                                  add     hl, bc
ROM:11B5 7E                                  ld      a, (hl)
ROM:11B6 FD 77 03                            ld      3(iy), a
ROM:11B9
ROM:11B9             PUT_Y_AND_NAME:                                                 ; CODE XREF: PUTOBJ_-28Dj
ROM:11B9 DD 6E 02                            ld      l, 2(ix)
ROM:11BC DD 66 03                            ld      h, 3(ix)
ROM:11BF 11 03 00                            ld      de, #3
ROM:11C2 19                                  add     hl, de
ROM:11C3 7E                                  ld      a, (hl)
ROM:11C4 FD 77 00                            ld      0(iy), a
ROM:11C7 DD 6E 00                            ld      l, 0(ix)
ROM:11CA DD 66 01                            ld      h, 1(ix)
ROM:11CD 11 05 00                            ld      de, #5
ROM:11D0 19                                  add     hl, de
ROM:11D1 EB                                  ex      de, hl
ROM:11D2 1A                                  ld      a, (de)
ROM:11D3 6F                                  ld      l, a
ROM:11D4 13                                  inc     de
ROM:11D5 1A                                  ld      a, (de)
ROM:11D6 67                                  ld      h, a
ROM:11D7 E5                                  push    hl
ROM:11D8 DD 6E 02                            ld      l, 2(ix)
ROM:11DB DD 66 03                            ld      h, 3(ix)
ROM:11DE 11 00 00                            ld      de, #0
ROM:11E1 19                                  add     hl, de
ROM:11E2 7E                                  ld      a, (hl)
ROM:11E3 CB 27                               sla     a
ROM:11E5 06 00                               ld      b, #0
ROM:11E7 4F                                  ld      c, a
ROM:11E8 E1                                  pop     hl
ROM:11E9 09                                  add     hl, bc
ROM:11EA 23                                  inc     hl
ROM:11EB 7E                                  ld      a, (hl)
ROM:11EC DD 6E 00                            ld      l, 0(ix)
ROM:11EF DD 66 01                            ld      h, 1(ix)
ROM:11F2 11 01 00                            ld      de, #1
ROM:11F5 19                                  add     hl, de
ROM:11F6 86                                  add     a, (hl)
ROM:11F7 FD 77 02                            ld      2(iy), a
ROM:11FA AF                                  xor     a
ROM:11FB 57                                  ld      d, a
ROM:11FC DD 5E 04                            ld      e, 4(ix)
ROM:11FF FD E5                               push    iy
ROM:1201 E1                                  pop     hl
ROM:1202 FD 21 01 00                         ld      iy, #1
ROM:1206 CD 1E 02                            call    PUT_VRAM_
ROM:1209 C9                                  ret
ROM:120A             ; ---------------------------------------------------------------------------
ROM:120A
ROM:120A             PUT1SPRITE:                                                     ; CODE XREF: DO_PUTOBJ+16j
ROM:120A FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:120E DD 6E 02                            ld      l, 2(ix)
ROM:1211 DD 66 03                            ld      h, 3(ix)
ROM:1214 11 01 00                            ld      de, #1
ROM:1217 19                                  add     hl, de
ROM:1218 4E                                  ld      c, (hl)
ROM:1219 23                                  inc     hl
ROM:121A 46                                  ld      b, (hl)
ROM:121B 78                                  ld      a, b
ROM:121C B7                                  or      a
ROM:121D 28 0B                               jr      Z, OK__3
ROM:121F FE FF                               cp      #0xFF
ROM:1221 C2 53 11                            jp      NZ, DONT_PUT
ROM:1224 79                                  ld      a, c
ROM:1225 FE E1                               cp      #0xE1 ; 'á'
ROM:1227 FA 53 11                            jp      M, DONT_PUT
ROM:122A
ROM:122A             OK__3:                                                          ; CODE XREF: PUTOBJ_-323j
ROM:122A 23                                  inc     hl
ROM:122B 4E                                  ld      c, (hl)
ROM:122C 23                                  inc     hl
ROM:122D 46                                  ld      b, (hl)
ROM:122E 78                                  ld      a, b
ROM:122F B7                                  or      a
ROM:1230 28 0B                               jr      Z, OK__4
ROM:1232 FE FF                               cp      #0xFF
ROM:1234 C2 53 11                            jp      NZ, DONT_PUT
ROM:1237 79                                  ld      a, c
ROM:1238 FE E1                               cp      #0xE1 ; 'á'
ROM:123A FA 53 11                            jp      M, DONT_PUT
ROM:123D
ROM:123D             OK__4:                                                          ; CODE XREF: PUTOBJ_-310j
ROM:123D 2B                                  dec     hl
ROM:123E 2B                                  dec     hl
ROM:123F 7E                                  ld      a, (hl)
ROM:1240 B7                                  or      a
ROM:1241 CA 84 11                            jp      Z, CONTINUE
ROM:1244 46                                  ld      b, (hl)
ROM:1245 2B                                  dec     hl
ROM:1246 4E                                  ld      c, (hl)
ROM:1247 21 20 00                            ld      hl, #32
ROM:124A 18 3D                               jr      OK__4_cont
ROM:124C             ; ---------------------------------------------------------------------------
ROM:124C
ROM:124C             PUT0SPRITE:                                                     ; CODE XREF: DO_PUTOBJ+12j
ROM:124C FD 2A 06 80                         ld      iy, (WORK_BUFFER)
ROM:1250 DD 6E 02                            ld      l, 2(ix)                        ; STATUS
ROM:1253 DD 66 03                            ld      h, 3(ix)                        ; STATUS+1
ROM:1256 23                                  inc     hl
ROM:1257 4E                                  ld      c, (hl)
ROM:1258 23                                  inc     hl
ROM:1259 46                                  ld      b, (hl)
ROM:125A 78                                  ld      a, b
ROM:125B B7                                  or      a
ROM:125C 28 0B                               jr      Z, OK__1
ROM:125E FE FF                               cp      #0xFF
ROM:1260 C2 53 11                            jp      NZ, DONT_PUT
ROM:1263 79                                  ld      a, c
ROM:1264 FE F9                               cp      #0xF9 ; 'ù'
ROM:1266 FA 53 11                            jp      M, DONT_PUT
ROM:1269
ROM:1269             OK__1:                                                          ; CODE XREF: PUTOBJ_-2E4j
ROM:1269 23                                  inc     hl
ROM:126A 4E                                  ld      c, (hl)
ROM:126B 23                                  inc     hl
ROM:126C 46                                  ld      b, (hl)
ROM:126D 78                                  ld      a, b
ROM:126E B7                                  or      a
ROM:126F 28 0B                               jr      Z, OK__2
ROM:1271 FE FF                               cp      #0xFF
ROM:1273 C2 53 11                            jp      NZ, DONT_PUT
ROM:1276 79                                  ld      a, c
ROM:1277 FE F9                               cp      #0xF9 ; 'ù'
ROM:1279 FA 53 11                            jp      M, DONT_PUT
ROM:127C
ROM:127C             OK__2:                                                          ; CODE XREF: PUTOBJ_-2D1j
ROM:127C 2B                                  dec     hl
ROM:127D 2B                                  dec     hl
ROM:127E 7E                                  ld      a, (hl)
ROM:127F B7                                  or      a
ROM:1280 CA 84 11                            jp      Z, CONTINUE
ROM:1283 46                                  ld      b, (hl)
ROM:1284 2B                                  dec     hl
ROM:1285 4E                                  ld      c, (hl)
ROM:1286 21 08 00                            ld      hl, #8
ROM:1289
ROM:1289             OK__4_cont:                                                     ; CODE XREF: PUTOBJ_-2F6j
ROM:1289 09                                  add     hl, bc
ROM:128A 7D                                  ld      a, l
ROM:128B FD 77 01                            ld      1(iy), a
ROM:128E DD 6E 00                            ld      l, 0(ix)
ROM:1291 DD 66 01                            ld      h, 1(ix)
ROM:1294 11 05 00                            ld      de, #5
ROM:1297 19                                  add     hl, de
ROM:1298 EB                                  ex      de, hl
ROM:1299 1A                                  ld      a, (de)
ROM:129A 6F                                  ld      l, a
ROM:129B 13                                  inc     de
ROM:129C 1A                                  ld      a, (de)
ROM:129D 67                                  ld      h, a
ROM:129E E5                                  push    hl
ROM:129F DD 6E 02                            ld      l, 2(ix)                        ; STATUS
ROM:12A2 DD 66 03                            ld      h, 3(ix)                        ; STATUS+1
ROM:12A5 7E                                  ld      a, (hl)
ROM:12A6 CB 27                               sla     a
ROM:12A8 06 00                               ld      b, #0
ROM:12AA 4F                                  ld      c, a
ROM:12AB E1                                  pop     hl
ROM:12AC 09                                  add     hl, bc
ROM:12AD 7E                                  ld      a, (hl)
ROM:12AE F6 80                               or      #0x80 ; '€'
ROM:12B0 FD 77 03                            ld      3(iy), a                        ; COLOR_AND_TAG
ROM:12B3 C3 B9 11                            jp      PUT_Y_AND_NAME
ROM:12B3             ; END OF FUNCTION CHUNK FOR PUTOBJ_
ROM:12B6             ; ---------------------------------------------------------------------------
ROM:12B6             ; START OF FUNCTION CHUNK FOR CALC_OFFSET
ROM:12B6
ROM:12B6             ELSE_12:                                                        ; CODE XREF: CALC_OFFSET-6j
ROM:12B6 16 00                               ld      d, #0
ROM:12B8
ROM:12B8             END_IF_12:                                                      ; CODE XREF: CALC_OFFSET-2j
ROM:12B8 19                                  add     hl, de
ROM:12B9 EB                                  ex      de, hl
ROM:12BA E1                                  pop     hl
ROM:12BB C9                                  ret
ROM:12BC             ; ---------------------------------------------------------------------------
ROM:12BC
ROM:12BC             ELSE11:                                                         ; CODE XREF: CALC_OFFSET+3j
ROM:12BC 26 00                               ld      h, #0
ROM:12BE
ROM:12BE             END_IF_11:                                                      ; CODE XREF: CALC_OFFSET+7j
ROM:12BE 6A                                  ld      l, d
ROM:12BF 29                                  add     hl, hl
ROM:12C0 29                                  add     hl, hl
ROM:12C1 29                                  add     hl, hl
ROM:12C2 29                                  add     hl, hl
ROM:12C3 29                                  add     hl, hl
ROM:12C4 CB 7B                               bit     7, e
ROM:12C6 28 EE                               jr      Z, ELSE_12
ROM:12C8 16 FF                               ld      d, #0xFF
ROM:12CA 18 EC                               jr      END_IF_12
ROM:12CA             ; END OF FUNCTION CHUNK FOR CALC_OFFSET
ROM:12CC
ROM:12CC             ; =============== S U B R O U T I N E =======================================
ROM:12CC
ROM:12CC
ROM:12CC             CALC_OFFSET:                                                    ; CODE XREF: GET_BKGRNDp
ROM:12CC                                                                             ; PUT_FRAME+7p
ROM:12CC
ROM:12CC             ; FUNCTION CHUNK AT ROM:12B6 SIZE 00000016 BYTES
ROM:12CC
ROM:12CC E5                                  push    hl
ROM:12CD CB 7A                               bit     7, d
ROM:12CF 28 EB                               jr      Z, ELSE11
ROM:12D1 26 FF                               ld      h, #0xFF
ROM:12D3 18 E9                               jr      END_IF_11
ROM:12D3             ; End of function CALC_OFFSET
ROM:12D3
ROM:12D5
ROM:12D5             ; =============== S U B R O U T I N E =======================================
ROM:12D5
ROM:12D5
ROM:12D5             GET_BKGRND:                                                     ; CODE XREF: PUTOBJ_-428p
ROM:12D5                                                                             ; PUTOBJ_-D8p
ROM:12D5 CD CC 12                            call    CALC_OFFSET
ROM:12D8 C5                                  push    bc
ROM:12D9 06 00                               ld      b, #0
ROM:12DB C5                                  push    bc
ROM:12DC FD E1                               pop     iy
ROM:12DE C1                                  pop     bc
ROM:12DF
ROM:12DF             RPT_2:                                                          ; CODE XREF: GET_BKGRND+24j
ROM:12DF C5                                  push    bc
ROM:12E0 D5                                  push    de
ROM:12E1 E5                                  push    hl
ROM:12E2 FD E5                               push    iy
ROM:12E4 3E 02                               ld      a, #2
ROM:12E6 CD B0 02                            call    GET_VRAM_
ROM:12E9 FD E1                               pop     iy
ROM:12EB E1                                  pop     hl
ROM:12EC D1                                  pop     de
ROM:12ED C1                                  pop     bc
ROM:12EE C5                                  push    bc
ROM:12EF 06 00                               ld      b, #0
ROM:12F1 09                                  add     hl, bc
ROM:12F2 01 20 00                            ld      bc, #0x20 ; ' '
ROM:12F5 EB                                  ex      de, hl
ROM:12F6 09                                  add     hl, bc
ROM:12F7 EB                                  ex      de, hl
ROM:12F8 C1                                  pop     bc
ROM:12F9 10 E4                               djnz    RPT_2
ROM:12FB C9                                  ret
ROM:12FB             ; End of function GET_BKGRND
ROM:12FB
ROM:12FC             ; ---------------------------------------------------------------------------
ROM:12FC             ; START OF FUNCTION CHUNK FOR PUT_FRAME
ROM:12FC
ROM:12FC             ELSE_9:                                                         ; CODE XREF: PUT_FRAME-11j
ROM:12FC                                                                             ; PUT_FRAME-Fj
ROM:12FC C5                                  push    bc
ROM:12FD 06 00                               ld      b, #0
ROM:12FF C5                                  push    bc
ROM:1300 FD E1                               pop     iy
ROM:1302 C1                                  pop     bc
ROM:1303
ROM:1303             END_IF_9:                                                       ; CODE XREF: PUT_FRAME-2j
ROM:1303                                                                             ; PUT_FRAME+3Bj
ROM:1303 1E 00                               ld      e, #0
ROM:1305
ROM:1305             RPT_1:                                                          ; CODE XREF: PUT_FRAME-18j
ROM:1305 7A                                  ld      a, d
ROM:1306 83                                  add     a, e
ROM:1307 CB 7F                               bit     7, a
ROM:1309 20 19                               jr      NZ, END_IF_10
ROM:130B FE 18                               cp      #0x18
ROM:130D 30 15                               jr      NC, END_IF_10
ROM:130F C5                                  push    bc
ROM:1310 D5                                  push    de
ROM:1311 D9                                  exx
ROM:1312 C5                                  push    bc
ROM:1313 D5                                  push    de
ROM:1314 E5                                  push    hl
ROM:1315 FD E5                               push    iy
ROM:1317 3E 02                               ld      a, #2
ROM:1319 CD 1E 02                            call    PUT_VRAM_
ROM:131C FD E1                               pop     iy
ROM:131E E1                                  pop     hl
ROM:131F D1                                  pop     de
ROM:1320 C1                                  pop     bc
ROM:1321 D9                                  exx
ROM:1322 D1                                  pop     de
ROM:1323 C1                                  pop     bc
ROM:1324
ROM:1324             END_IF_10:                                                      ; CODE XREF: PUT_FRAME-43j
ROM:1324                                                                             ; PUT_FRAME-3Fj
ROM:1324 D9                                  exx
ROM:1325 C5                                  push    bc
ROM:1326 06 00                               ld      b, #0
ROM:1328 09                                  add     hl, bc
ROM:1329 EB                                  ex      de, hl
ROM:132A 01 20 00                            ld      bc, #0x20 ; ' '
ROM:132D 09                                  add     hl, bc
ROM:132E EB                                  ex      de, hl
ROM:132F C1                                  pop     bc
ROM:1330 D9                                  exx
ROM:1331 1C                                  inc     e
ROM:1332 7B                                  ld      a, e
ROM:1333 B8                                  cp      b
ROM:1334 20 CF                               jr      NZ, RPT_1
ROM:1336 C9                                  ret
ROM:1337             ; ---------------------------------------------------------------------------
ROM:1337
ROM:1337             ELSE_8:                                                         ; CODE XREF: PUT_FRAME+1Bj
ROM:1337 7B                                  ld      a, e
ROM:1338 81                                  add     a, c
ROM:1339 FE 1F                               cp      #0x1F
ROM:133B 28 BF                               jr      Z, ELSE_9
ROM:133D 38 BD                               jr      C, ELSE_9
ROM:133F 3E 20                               ld      a, #0x20 ; ' '
ROM:1341 93                                  sub     e
ROM:1342 D5                                  push    de
ROM:1343 5F                                  ld      e, a
ROM:1344 16 00                               ld      d, #0
ROM:1346 D5                                  push    de
ROM:1347 FD E1                               pop     iy
ROM:1349 D1                                  pop     de
ROM:134A 18 B7                               jr      END_IF_9
ROM:134A             ; END OF FUNCTION CHUNK FOR PUT_FRAME
ROM:134C
ROM:134C             ; =============== S U B R O U T I N E =======================================
ROM:134C
ROM:134C
ROM:134C             PUT_FRAME:                                                      ; CODE XREF: PUTOBJ_-735p
ROM:134C                                                                             ; PUTOBJ_-71Ep ...
ROM:134C
ROM:134C             ; FUNCTION CHUNK AT ROM:12FC SIZE 00000050 BYTES
ROM:134C
ROM:134C C5                                  push    bc
ROM:134D D5                                  push    de
ROM:134E E5                                  push    hl
ROM:134F D9                                  exx
ROM:1350 E1                                  pop     hl
ROM:1351 D1                                  pop     de
ROM:1352 C1                                  pop     bc
ROM:1353 CD CC 12                            call    CALC_OFFSET
ROM:1356 D9                                  exx
ROM:1357 7B                                  ld      a, e
ROM:1358 CB 7F                               bit     7, a
ROM:135A 20 03                               jr      NZ, XP_NEG
ROM:135C FE 20                               cp      #0x20 ; ' '
ROM:135E D0                                  ret     NC
ROM:135F
ROM:135F             XP_NEG:                                                         ; CODE XREF: PUT_FRAME+Ej
ROM:135F 81                                  add     a, c
ROM:1360 CB 7F                               bit     7, a
ROM:1362 C0                                  ret     NZ
ROM:1363 B7                                  or      a
ROM:1364 C8                                  ret     Z
ROM:1365 CB 7B                               bit     7, e
ROM:1367 28 CE                               jr      Z, ELSE_8
ROM:1369 79                                  ld      a, c
ROM:136A 83                                  add     a, e
ROM:136B D5                                  push    de
ROM:136C FE 21                               cp      #33
ROM:136E 38 02                               jr      C, LT33
ROM:1370 3E 20                               ld      a, #32
ROM:1372
ROM:1372             LT33:                                                           ; CODE XREF: PUT_FRAME+22j
ROM:1372 5F                                  ld      e, a
ROM:1373 16 00                               ld      d, #0
ROM:1375 D5                                  push    de
ROM:1376 FD E1                               pop     iy
ROM:1378 D1                                  pop     de
ROM:1379 7B                                  ld      a, e
ROM:137A D9                                  exx
ROM:137B C5                                  push    bc
ROM:137C ED 44                               neg
ROM:137E 4F                                  ld      c, a
ROM:137F 06 00                               ld      b, #0
ROM:1381 09                                  add     hl, bc
ROM:1382 EB                                  ex      de, hl
ROM:1383 09                                  add     hl, bc
ROM:1384 EB                                  ex      de, hl
ROM:1385 C1                                  pop     bc
ROM:1386 D9                                  exx
ROM:1387 C3 03 13                            jp      END_IF_9
ROM:1387             ; End of function PUT_FRAME
ROM:1387
ROM:138A             ; ---------------------------------------------------------------------------
ROM:138A             ; START OF FUNCTION CHUNK FOR PX_TO_PTRN_POS
ROM:138A
ROM:138A             NEGTV:                                                          ; CODE XREF: PX_TO_PTRN_POS+Fj
ROM:138A 21 80 00                            ld      hl, #0x80 ; '€'
ROM:138D 19                                  add     hl, de
ROM:138E E1                                  pop     hl
ROM:138F D8                                  ret     C
ROM:1390 1E 80                               ld      e, #0x80 ; '€'
ROM:1392 C9                                  ret
ROM:1392             ; END OF FUNCTION CHUNK FOR PX_TO_PTRN_POS
ROM:1393
ROM:1393             ; =============== S U B R O U T I N E =======================================
ROM:1393
ROM:1393
ROM:1393             PX_TO_PTRN_POS:                                                 ; CODE XREF: PUTOBJ_-44Ep
ROM:1393                                                                             ; PUTOBJ_-43Ep ...
ROM:1393
ROM:1393             ; FUNCTION CHUNK AT ROM:138A SIZE 00000009 BYTES
ROM:1393
ROM:1393 E5                                  push    hl
ROM:1394 CB 2A                               sra     d
ROM:1396 CB 1B                               rr      e
ROM:1398 CB 2A                               sra     d
ROM:139A CB 1B                               rr      e
ROM:139C CB 2A                               sra     d
ROM:139E CB 1B                               rr      e
ROM:13A0 CB 7A                               bit     7, d
ROM:13A2 20 E6                               jr      NZ, NEGTV
ROM:13A4 21 80 FF                            ld      hl, #-128
ROM:13A7 19                                  add     hl, de
ROM:13A8 E1                                  pop     hl
ROM:13A9 D0                                  ret     NC
ROM:13AA 1E 7F                               ld      e, #127
ROM:13AC C9                                  ret
ROM:13AC             ; End of function PX_TO_PTRN_POS
ROM:13AC
ROM:13AC             ; ---------------------------------------------------------------------------
ROM:13AD 54 4F 20 53+aToSelectGameOp:        .ascii 'TO SELECT GAME OPTION,'         ; DATA XREF: ROM:0071o
ROM:13C3 50 52 45 53+aPressButtonOnK:        .ascii 'PRESS BUTTON ON KEYPAD.'        ; DATA XREF: ROM:007Do
ROM:13DA 31 20 3D 20+a1Skill1OnePlay:        .ascii '1 = SKILL 1/ONE PLAYERS'        ; DATA XREF: ROM:0089o
ROM:13F1 54 57 4F    aTwo:                   .ascii 'TWO'                            ; DATA XREF: ROM:00A7o
ROM:13F4 03                                  .db    3
ROM:13F5 04                                  .db    4
ROM:13F6 0E                                  .db  0xE
ROM:13F7 0F                                  .db  0xF
ROM:13F8 05                                  .db    5
ROM:13F9 14                                  .db 0x14
ROM:13FA 00                                  .db    0
ROM:13FB 00                                  .db    0
ROM:13FC 05                                  .db    5
ROM:13FD 00                                  .db    0
ROM:13FE 10                                  .db 0x10
ROM:13FF 11                                  .db 0x11
ROM:1400 0A                                  .db  0xA
ROM:1401 0B                                  .db  0xB
ROM:1402 15                                  .db 0x15
ROM:1403 16                                  .db 0x16
ROM:1404 06                                  .db    6
ROM:1405 07                                  .db    7
ROM:1406 10                                  .db 0x10
ROM:1407 11                                  .db 0x11
ROM:1408 05                                  .db    5
ROM:1409 14                                  .db 0x14
ROM:140A 00                                  .db    0
ROM:140B 00                                  .db    0
ROM:140C 01                                  .db    1
ROM:140D 02                                  .db    2
ROM:140E 0E                                  .db  0xE
ROM:140F 0F                                  .db  0xF
ROM:1410 03                                  .db    3
ROM:1411 04                                  .db    4
ROM:1412 0E                                  .db  0xE
ROM:1413 0F                                  .db  0xF
ROM:1414 03                                  .db    3
ROM:1415 04                                  .db    4
ROM:1416 0E                                  .db  0xE
ROM:1417 0F                                  .db  0xF
ROM:1418 0C                                  .db  0xC
ROM:1419 0D                                  .db  0xD
ROM:141A 17                                  .db 0x17
ROM:141B 18                                  .db 0x18
ROM:141C FF                                  .db 0xFF
ROM:141D             ; ---------------------------------------------------------------------------
ROM:141D             ; START OF FUNCTION CHUNK FOR PUTOBJ_
ROM:141D
ROM:141D             M_XY2:                                                          ; CODE XREF: PUTOBJ_:M_XY2_PLUS_1j
ROM:141D 29                                  add     hl, hl
ROM:141E
ROM:141E             M_XY2_PLUS_1:                                                   ; CODE XREF: PUTOBJ_-B1j
ROM:141E 10 FD                               djnz    M_XY2
ROM:1420 E5                                  push    hl
ROM:1421 D9                                  exx
ROM:1422 C1                                  pop     bc
ROM:1423 E1                                  pop     hl
ROM:1424 C3 4F 1B                            jp      VRAM_WRITE
ROM:1427             ; ---------------------------------------------------------------------------
ROM:1427
ROM:1427             M_XY:                                                           ; CODE XREF: PUTOBJ_:M_XY_PLUS_1j
ROM:1427 29                                  add     hl, hl
ROM:1428
ROM:1428             M_XY_PLUS_1:                                                    ; CODE XREF: PUTOBJ_-A6j
ROM:1428 10 FD                               djnz    M_XY
ROM:142A E5                                  push    hl
ROM:142B C1                                  pop     bc
ROM:142C EB                                  ex      de, hl
ROM:142D D1                                  pop     de
ROM:142E 13                                  inc     de
ROM:142F 13                                  inc     de
ROM:1430 13                                  inc     de
ROM:1431 13                                  inc     de
ROM:1432 CD 4D 03                            call    VRAM_READ
ROM:1435
ROM:1435             SKIP_OLD:                                                       ; CODE XREF: PUTOBJ_-8Bj
ROM:1435 E1                                  pop     hl
ROM:1436
ROM:1436             END_IF_1:                                                       ; CODE XREF: PUTOBJ_-7Aj
ROM:1436 7E                                  ld      a, (hl)
ROM:1437 FE 80                               cp      #0x80 ; '€'
ROM:1439 28 0F                               jr      Z, END_IF_2
ROM:143B 5E                                  ld      e, (hl)
ROM:143C 23                                  inc     hl
ROM:143D 56                                  ld      d, (hl)
ROM:143E 23                                  inc     hl
ROM:143F 4E                                  ld      c, (hl)
ROM:1440 23                                  inc     hl
ROM:1441 46                                  ld      b, (hl)
ROM:1442 23                                  inc     hl
ROM:1443 DD E5                               push    ix
ROM:1445 CD 4C 13                            call    PUT_FRAME
ROM:1448 DD E1                               pop     ix
ROM:144A
ROM:144A             END_IF_2:                                                       ; CODE XREF: PUTOBJ_-107j
ROM:144A E1                                  pop     hl
ROM:144B D1                                  pop     de
ROM:144C C1                                  pop     bc
ROM:144D C5                                  push    bc
ROM:144E D5                                  push    de
ROM:144F E5                                  push    hl
ROM:1450 DD 66 05                            ld      h, 5(ix)
ROM:1453 DD 6E 04                            ld      l, 4(ix)
ROM:1456 3E 70                               ld      a, #0x70 ; 'p'
ROM:1458 BC                                  cp      h
ROM:1459 38 03                               jr      C, END_IF_3
ROM:145B 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:145E
ROM:145E             END_IF_3:                                                       ; CODE XREF: PUTOBJ_-E7j
ROM:145E 73                                  ld      (hl), e
ROM:145F 23                                  inc     hl
ROM:1460 72                                  ld      (hl), d
ROM:1461 23                                  inc     hl
ROM:1462 71                                  ld      (hl), c
ROM:1463 23                                  inc     hl
ROM:1464 70                                  ld      (hl), b
ROM:1465 23                                  inc     hl
ROM:1466 DD E5                               push    ix
ROM:1468 CD D5 12                            call    GET_BKGRND
ROM:146B DD E1                               pop     ix
ROM:146D E1                                  pop     hl
ROM:146E D1                                  pop     de
ROM:146F C1                                  pop     bc
ROM:1470 DD E5                               push    ix
ROM:1472 CD 4C 13                            call    PUT_FRAME
ROM:1475 DD E1                               pop     ix
ROM:1477 DD 56 05                            ld      d, 5(ix)
ROM:147A 3E 70                               ld      a, #0x70 ; 'p'
ROM:147C BA                                  cp      d
ROM:147D C8                                  ret     Z
ROM:147E D8                                  ret     C
ROM:147F DD 5E 04                            ld      e, 4(ix)
ROM:1482 D9                                  exx
ROM:1483 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:1486 E5                                  push    hl
ROM:1487 23                                  inc     hl
ROM:1488 23                                  inc     hl
ROM:1489 5E                                  ld      e, (hl)
ROM:148A 16 00                               ld      d, #0
ROM:148C 23                                  inc     hl
ROM:148D 46                                  ld      b, (hl)
ROM:148E EB                                  ex      de, hl
ROM:148F 18 8D                               jr      M_XY2_PLUS_1
ROM:1491             ; ---------------------------------------------------------------------------
ROM:1491
ROM:1491             GET_OLD:                                                        ; CODE XREF: PUTOBJ_-8Ej
ROM:1491 23                                  inc     hl
ROM:1492 23                                  inc     hl
ROM:1493 46                                  ld      b, (hl)
ROM:1494 23                                  inc     hl
ROM:1495 5E                                  ld      e, (hl)
ROM:1496 16 00                               ld      d, #0
ROM:1498 23                                  inc     hl
ROM:1499 EB                                  ex      de, hl
ROM:149A 18 8C                               jr      M_XY_PLUS_1
ROM:149C             ; ---------------------------------------------------------------------------
ROM:149C
ROM:149C             ELSE_1:                                                         ; CODE XREF: PUTOBJ_-81j
ROM:149C 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:149F DD 56 05                            ld      d, 5(ix)
ROM:14A2 DD 5E 04                            ld      e, 4(ix)
ROM:14A5 E5                                  push    hl
ROM:14A6 D5                                  push    de
ROM:14A7 E5                                  push    hl
ROM:14A8 01 04 00                            ld      bc, #4
ROM:14AB CD 4D 03                            call    VRAM_READ
ROM:14AE E1                                  pop     hl
ROM:14AF 7E                                  ld      a, (hl)
ROM:14B0 FE 80                               cp      #0x80 ; '€'
ROM:14B2 20 DD                               jr      NZ, GET_OLD
ROM:14B4 D1                                  pop     de
ROM:14B5 C3 35 14                            jp      SKIP_OLD
ROM:14B8             ; ---------------------------------------------------------------------------
ROM:14B8
ROM:14B8             S_OLD_SCRN:                                                     ; CODE XREF: PUTOBJ_-41j
ROM:14B8 C5                                  push    bc
ROM:14B9 D5                                  push    de
ROM:14BA E5                                  push    hl
ROM:14BB FE 70                               cp      #0x70 ; 'p'
ROM:14BD 28 02                               jr      Z, EQUAL_TO
ROM:14BF 38 DB                               jr      C, ELSE_1
ROM:14C1
ROM:14C1             EQUAL_TO:                                                       ; CODE XREF: PUTOBJ_-83j
ROM:14C1 67                                  ld      h, a
ROM:14C2 DD 6E 04                            ld      l, 4(ix)
ROM:14C5 7E                                  ld      a, (hl)
ROM:14C6 C3 36 14                            jp      END_IF_1
ROM:14C9             ; ---------------------------------------------------------------------------
ROM:14C9
ROM:14C9             PUT_SEMI:                                                       ; CODE XREF: DO_PUTOBJ+Aj
ROM:14C9 DD 56 03                            ld      d, 3(ix)
ROM:14CC DD 5E 02                            ld      e, 2(ix)
ROM:14CF D5                                  push    de
ROM:14D0 FD E1                               pop     iy
ROM:14D2 FD 56 02                            ld      d, 2(iy)
ROM:14D5 FD 5E 01                            ld      e, 1(iy)
ROM:14D8 CD 93 13                            call    PX_TO_PTRN_POS
ROM:14DB 4B                                  ld      c, e
ROM:14DC FD 56 04                            ld      d, 4(iy)
ROM:14DF FD 5E 03                            ld      e, 3(iy)
ROM:14E2 CD 93 13                            call    PX_TO_PTRN_POS
ROM:14E5 43                                  ld      b, e
ROM:14E6 FD 5E 00                            ld      e, 0(iy)
ROM:14E9 16 00                               ld      d, #0
ROM:14EB 19                                  add     hl, de
ROM:14EC 19                                  add     hl, de
ROM:14ED 1E 05                               ld      e, #5
ROM:14EF 19                                  add     hl, de
ROM:14F0 5E                                  ld      e, (hl)
ROM:14F1 23                                  inc     hl
ROM:14F2 56                                  ld      d, (hl)
ROM:14F3 EB                                  ex      de, hl
ROM:14F4 C5                                  push    bc
ROM:14F5 D1                                  pop     de
ROM:14F6 4E                                  ld      c, (hl)
ROM:14F7 23                                  inc     hl
ROM:14F8 46                                  ld      b, (hl)
ROM:14F9 23                                  inc     hl
ROM:14FA DD 7E 05                            ld      a, 5(ix)
ROM:14FD CB 7F                               bit     7, a
ROM:14FF 28 B7                               jr      Z, S_OLD_SCRN
ROM:1501 CD 4C 13                            call    PUT_FRAME
ROM:1504 C9                                  ret
ROM:1504             ; END OF FUNCTION CHUNK FOR PUTOBJ_
ROM:1505
ROM:1505             ; =============== S U B R O U T I N E =======================================
ROM:1505
ROM:1505
ROM:1505             DO_PUTOBJ:                                                      ; CODE XREF: PUTOBJ_+5j
ROM:1505                                                                             ; ROM:1596p
ROM:1505 DD 66 01                            ld      h, 1(ix)
ROM:1508 DD 6E 00                            ld      l, 0(ix)
ROM:150B 7E                                  ld      a, (hl)
ROM:150C 4F                                  ld      c, a
ROM:150D E6 0F                               and     #0xF
ROM:150F CA C9 14                            jp      Z, PUT_SEMI
ROM:1512 3D                                  dec     a
ROM:1513 CA 44 11                            jp      Z, PUT_MOBILE
ROM:1516 3D                                  dec     a
ROM:1517 CA 4C 12                            jp      Z, PUT0SPRITE
ROM:151A 3D                                  dec     a
ROM:151B CA 0A 12                            jp      Z, PUT1SPRITE
ROM:151E C3 42 09                            jp      PUTCOMPLEX
ROM:151E             ; End of function DO_PUTOBJ
ROM:151E
ROM:1521             ; ---------------------------------------------------------------------------
ROM:1521
ROM:1521             NOT_TOO_BIG:                                                    ; CODE XREF: PUTOBJ_+1Cj
ROM:1521 32 CB 73                            ld      (QUEUE_HEAD), a
ROM:1524 ED 53 CD 73                         ld      (HEAD_ADDRESS), de
ROM:1528 C9                                  ret
ROM:1528             ; ---------------------------------------------------------------------------
ROM:1529 02 00       PUTOBJ_PAR:             .dw 2                                   ; DATA XREF: ROM:PUTOBJQo
ROM:152B 02 00                               .dw 2
ROM:152D 01 00                               .dw 1
ROM:152F             ; ---------------------------------------------------------------------------
ROM:152F
ROM:152F             PUTOBJQ:                                                        ; DATA XREF: ROM:PUTOBJPo
ROM:152F 01 29 15                            ld      bc, #PUTOBJ_PAR
ROM:1532 11 BA 73                            ld      de, #PARAM_AREA
ROM:1535 CD F2 1A                            call    PARAM_
ROM:1538 DD 2A BA 73                         ld      ix, (PARAM_AREA)
ROM:153C 3A BC 73                            ld      a, (PARAM_AREA+2)
ROM:153F 47                                  ld      b, a
ROM:1540
ROM:1540             ; =============== S U B R O U T I N E =======================================
ROM:1540
ROM:1540
ROM:1540             PUTOBJ_:                                                        ; CODE XREF: PUTOBJ_-B73p
ROM:1540                                                                             ; DATA XREF: ROM:PUTOBJo
ROM:1540
ROM:1540             ; FUNCTION CHUNK AT ROM:0942 SIZE 00000095 BYTES
ROM:1540             ; FUNCTION CHUNK AT ROM:0DA3 SIZE 00000513 BYTES
ROM:1540             ; FUNCTION CHUNK AT ROM:141D SIZE 000000E8 BYTES
ROM:1540
ROM:1540 3A C6 73                            ld      a, (DEFER_WRITES)
ROM:1543 FE 01                               cp      #1
ROM:1545 20 BE                               jr      NZ, DO_PUTOBJ
ROM:1547
ROM:1547             SET_UP_WRITE:
ROM:1547 DD E5                               push    ix
ROM:1549 2A CD 73                            ld      hl, (HEAD_ADDRESS)
ROM:154C D1                                  pop     de
ROM:154D 73                                  ld      (hl), e
ROM:154E 23                                  inc     hl
ROM:154F 72                                  ld      (hl), d
ROM:1550 23                                  inc     hl
ROM:1551 70                                  ld      (hl), b
ROM:1552 23                                  inc     hl
ROM:1553 EB                                  ex      de, hl
ROM:1554 3A CB 73                            ld      a, (QUEUE_HEAD)
ROM:1557 3C                                  inc     a
ROM:1558 21 CA 73                            ld      hl, #QUEUE_SIZE
ROM:155B BE                                  cp      (hl)
ROM:155C 20 C3                               jr      NZ, NOT_TOO_BIG
ROM:155E 3E 00                               ld      a, #0
ROM:1560 32 CB 73                            ld      (QUEUE_HEAD), a
ROM:1563 2A D1 73                            ld      hl, (BUFFER)
ROM:1566 22 CD 73                            ld      (HEAD_ADDRESS), hl
ROM:1569 C9                                  ret
ROM:1569             ; End of function PUTOBJ_
ROM:1569
ROM:156A             ; ---------------------------------------------------------------------------
ROM:156A
ROM:156A             WRTR_END_WHILE:                                                 ; CODE XREF: ROM:1587j
ROM:156A F1                                  pop     af
ROM:156B 32 C6 73                            ld      (DEFER_WRITES), a
ROM:156E C9                                  ret
ROM:156F             ; ---------------------------------------------------------------------------
ROM:156F
ROM:156F             WRTR_ELSE:                                                      ; CODE XREF: ROM:15A1j
ROM:156F 32 CC 73                            ld      (QUEUE_TAIL), a
ROM:1572 E1                                  pop     hl
ROM:1573 22 CF 73                            ld      (TAIL_ADDRESS), hl
ROM:1576 18 08                               jr      WRTR_END_IF
ROM:1578             ; ---------------------------------------------------------------------------
ROM:1578
ROM:1578             WRITER_:                                                        ; DATA XREF: ROM:WRITERo
ROM:1578 3A C6 73                            ld      a, (DEFER_WRITES)
ROM:157B F5                                  push    af
ROM:157C AF                                  xor     a
ROM:157D 32 C6 73                            ld      (DEFER_WRITES), a
ROM:1580
ROM:1580             WRTR_END_IF:                                                    ; CODE XREF: ROM:1576j
ROM:1580                                                                             ; ROM:15AFj
ROM:1580 3A CC 73                            ld      a, (QUEUE_TAIL)
ROM:1583 21 CB 73                            ld      hl, #QUEUE_HEAD
ROM:1586 BE                                  cp      (hl)
ROM:1587 28 E1                               jr      Z, WRTR_END_WHILE
ROM:1589 2A CF 73                            ld      hl, (TAIL_ADDRESS)
ROM:158C 5E                                  ld      e, (hl)
ROM:158D 23                                  inc     hl
ROM:158E 56                                  ld      d, (hl)
ROM:158F 23                                  inc     hl
ROM:1590 46                                  ld      b, (hl)
ROM:1591 23                                  inc     hl
ROM:1592 D5                                  push    de
ROM:1593 DD E1                               pop     ix
ROM:1595 E5                                  push    hl
ROM:1596 CD 05 15                            call    DO_PUTOBJ
ROM:1599 3A CC 73                            ld      a, (QUEUE_TAIL)
ROM:159C 3C                                  inc     a
ROM:159D 21 CA 73                            ld      hl, #QUEUE_SIZE
ROM:15A0 BE                                  cp      (hl)
ROM:15A1 20 CC                               jr      NZ, WRTR_ELSE
ROM:15A3 3E 00                               ld      a, #0
ROM:15A5 32 CC 73                            ld      (QUEUE_TAIL), a
ROM:15A8 2A D1 73                            ld      hl, (BUFFER)
ROM:15AB 22 CF 73                            ld      (TAIL_ADDRESS), hl
ROM:15AE E1                                  pop     hl
ROM:15AF 18 CF                               jr      WRTR_END_IF
ROM:15AF             ; ---------------------------------------------------------------------------
ROM:15B1 02 00       INIT_QUEUE_P:           .dw 2                                   ; DATA XREF: ROM:INIT_QUEUEQo
ROM:15B3 01 00                               .dw 1
ROM:15B5 FE FF                               .dw 0xFFFE
ROM:15B7             ; ---------------------------------------------------------------------------
ROM:15B7
ROM:15B7             INIT_QUEUEQ:                                                    ; DATA XREF: ROM:INIT_WRITERPo
ROM:15B7 01 B1 15                            ld      bc, #INIT_QUEUE_P
ROM:15BA 11 BA 73                            ld      de, #PARAM_AREA
ROM:15BD CD F2 1A                            call    PARAM_
ROM:15C0 3A BA 73                            ld      a, (PARAM_AREA)
ROM:15C3 2A BB 73                            ld      hl, (PARAM_AREA+1)
ROM:15C6
ROM:15C6             INIT_QUEUE:                                                     ; DATA XREF: ROM:INIT_WRITERo
ROM:15C6 32 CA 73                            ld      (QUEUE_SIZE), a
ROM:15C9 3E 00                               ld      a, #0
ROM:15CB 32 CB 73                            ld      (QUEUE_HEAD), a
ROM:15CE 32 CC 73                            ld      (QUEUE_TAIL), a
ROM:15D1 22 D1 73                            ld      (BUFFER), hl
ROM:15D4 22 CD 73                            ld      (HEAD_ADDRESS), hl
ROM:15D7 22 CF 73                            ld      (TAIL_ADDRESS), hl
ROM:15DA C9                                  ret
ROM:15DB             ; ---------------------------------------------------------------------------
ROM:15DB             ; START OF FUNCTION CHUNK FOR ACTIVATE_
ROM:15DB
ROM:15DB             ACT_0SPRT:                                                      ; CODE XREF: ACTIVATE_+17j
ROM:15DB                                                                             ; ACTIVATE_+1Bj
ROM:15DB 03                                  inc     bc
ROM:15DC 03                                  inc     bc
ROM:15DD 03                                  inc     bc
ROM:15DE 03                                  inc     bc
ROM:15DF 03                                  inc     bc
ROM:15E0 EB                                  ex      de, hl
ROM:15E1 23                                  inc     hl
ROM:15E2 7E                                  ld      a, (hl)
ROM:15E3 5F                                  ld      e, a
ROM:15E4 16 00                               ld      d, #0
ROM:15E6 D5                                  push    de
ROM:15E7 23                                  inc     hl
ROM:15E8 5E                                  ld      e, (hl)
ROM:15E9 23                                  inc     hl
ROM:15EA 56                                  ld      d, (hl)
ROM:15EB 23                                  inc     hl
ROM:15EC 86                                  add     a, (hl)
ROM:15ED 02                                  ld      (bc), a
ROM:15EE 4E                                  ld      c, (hl)
ROM:15EF 06 00                               ld      b, #0
ROM:15F1 C5                                  push    bc
ROM:15F2 FD E1                               pop     iy
ROM:15F4 EB                                  ex      de, hl
ROM:15F5 D1                                  pop     de
ROM:15F6 F1                                  pop     af
ROM:15F7 D0                                  ret     NC
ROM:15F8 3E 01                               ld      a, #1
ROM:15FA CD 1E 02                            call    PUT_VRAM_
ROM:15FD C9                                  ret
ROM:15FE             ; ---------------------------------------------------------------------------
ROM:15FE
ROM:15FE             ACT_MOBILE:                                                     ; CODE XREF: ACTIVATE_+13j
ROM:15FE CD 77 16                            call    INIT_XP_OS
ROM:1601 13                                  inc     de
ROM:1602 1A                                  ld      a, (de)
ROM:1603 FD 77 05                            ld      5(iy), a
ROM:1606 13                                  inc     de
ROM:1607 1A                                  ld      a, (de)
ROM:1608 FD 77 06                            ld      6(iy), a
ROM:160B F1                                  pop     af
ROM:160C C9                                  ret
ROM:160C             ; END OF FUNCTION CHUNK FOR ACTIVATE_
ROM:160D
ROM:160D             ; =============== S U B R O U T I N E =======================================
ROM:160D
ROM:160D
ROM:160D             SUP_UPDATE:                                                     ; CODE XREF: ACTIVATE_-4Fp
ROM:160D                                                                             ; ACTIVATE_-47p
ROM:160D C5                                  push    bc
ROM:160E 01 00 01                            ld      bc, #0x100
ROM:1611 EB                                  ex      de, hl
ROM:1612 09                                  add     hl, bc
ROM:1613 EB                                  ex      de, hl
ROM:1614 C1                                  pop     bc
ROM:1615 C9                                  ret
ROM:1615             ; End of function SUP_UPDATE
ROM:1615
ROM:1616             ; ---------------------------------------------------------------------------
ROM:1616             ; START OF FUNCTION CHUNK FOR SUP_GEN_CLR
ROM:1616
ROM:1616             ONE_BYTE:                                                       ; CODE XREF: SUP_GEN_CLR+19j
ROM:1616 09                                  add     hl, bc
ROM:1617 4D                                  ld      c, l
ROM:1618 44                                  ld      b, h
ROM:1619 FD E5                               push    iy
ROM:161B E1                                  pop     hl
ROM:161C
ROM:161C             NEXT_COLOR:                                                     ; CODE XREF: SUP_GEN_CLR-4j
ROM:161C E5                                  push    hl
ROM:161D 0A                                  ld      a, (bc)
ROM:161E C5                                  push    bc
ROM:161F 01 08 00                            ld      bc, #8
ROM:1622 2A 06 80                            ld      hl, (WORK_BUFFER)
ROM:1625 09                                  add     hl, bc
ROM:1626 06 08                               ld      b, #8
ROM:1628
ROM:1628             DUPLI:                                                          ; CODE XREF: SUP_GEN_CLR-18j
ROM:1628 2B                                  dec     hl
ROM:1629 77                                  ld      (hl), a
ROM:162A 10 FC                               djnz    DUPLI
ROM:162C D5                                  push    de
ROM:162D FD 21 01 00                         ld      iy, #1
ROM:1631 3E 04                               ld      a, #4
ROM:1633 CD 1E 02                            call    PUT_VRAM_
ROM:1636 D1                                  pop     de
ROM:1637 C1                                  pop     bc
ROM:1638 13                                  inc     de
ROM:1639 03                                  inc     bc
ROM:163A E1                                  pop     hl
ROM:163B 2B                                  dec     hl
ROM:163C 7C                                  ld      a, h
ROM:163D B5                                  or      l
ROM:163E 20 DC                               jr      NZ, NEXT_COLOR
ROM:1640 18 21                               jr      O_B_RET
ROM:1640             ; END OF FUNCTION CHUNK FOR SUP_GEN_CLR
ROM:1642
ROM:1642             ; =============== S U B R O U T I N E =======================================
ROM:1642
ROM:1642
ROM:1642             SUP_GEN_CLR:                                                    ; CODE XREF: ACTIVATE_-52p
ROM:1642                                                                             ; ACTIVATE_-4Ap ...
ROM:1642
ROM:1642             ; FUNCTION CHUNK AT ROM:1616 SIZE 0000002C BYTES
ROM:1642
ROM:1642 F5                                  push    af
ROM:1643 C5                                  push    bc
ROM:1644 FD E5                               push    iy
ROM:1646 D5                                  push    de
ROM:1647 E5                                  push    hl
ROM:1648 3E 03                               ld      a, #3
ROM:164A CD 1E 02                            call    PUT_VRAM_
ROM:164D E1                                  pop     hl
ROM:164E D1                                  pop     de
ROM:164F FD E1                               pop     iy
ROM:1651 C1                                  pop     bc
ROM:1652 F1                                  pop     af
ROM:1653 F5                                  push    af
ROM:1654 C5                                  push    bc
ROM:1655 FD E5                               push    iy
ROM:1657 D5                                  push    de
ROM:1658 E5                                  push    hl
ROM:1659 CB 67                               bit     4, a
ROM:165B 20 B9                               jr      NZ, ONE_BYTE
ROM:165D 09                                  add     hl, bc
ROM:165E 3E 04                               ld      a, #4
ROM:1660 CD 1E 02                            call    PUT_VRAM_
ROM:1663
ROM:1663             O_B_RET:                                                        ; CODE XREF: SUP_GEN_CLR-2j
ROM:1663 E1                                  pop     hl
ROM:1664 D1                                  pop     de
ROM:1665 FD E1                               pop     iy
ROM:1667 C1                                  pop     bc
ROM:1668 F1                                  pop     af
ROM:1669 C9                                  ret
ROM:1669             ; End of function SUP_GEN_CLR
ROM:1669
ROM:1669             ; ---------------------------------------------------------------------------
ROM:166A 80          INIT_80:                .db 0x80 ; €                            ; DATA XREF: INIT_XP_OS:OS_IN_VRAMo
ROM:166B             ; ---------------------------------------------------------------------------
ROM:166B             ; START OF FUNCTION CHUNK FOR INIT_XP_OS
ROM:166B
ROM:166B             OS_IN_VRAM:                                                     ; CODE XREF: INIT_XP_OS+Ej
ROM:166B 21 6A 16                            ld      hl, #INIT_80
ROM:166E 01 01 00                            ld      bc, #1
ROM:1671 CD 4F 1B                            call    VRAM_WRITE
ROM:1674
ROM:1674             SM_BY_OLD:                                                      ; CODE XREF: INIT_XP_OS+9j
ROM:1674                                                                             ; INIT_XP_OS+13j
ROM:1674 D1                                  pop     de
ROM:1675 13                                  inc     de
ROM:1676 C9                                  ret
ROM:1676             ; END OF FUNCTION CHUNK FOR INIT_XP_OS
ROM:1677
ROM:1677             ; =============== S U B R O U T I N E =======================================
ROM:1677
ROM:1677
ROM:1677             INIT_XP_OS:                                                     ; CODE XREF: ACTIVATE_:ACT_MOBILEp
ROM:1677                                                                             ; ACTIVATE_:ACT_SEMIp
ROM:1677
ROM:1677             ; FUNCTION CHUNK AT ROM:166B SIZE 0000000C BYTES
ROM:1677
ROM:1677 C5                                  push    bc
ROM:1678 FD E1                               pop     iy
ROM:167A D5                                  push    de
ROM:167B 5E                                  ld      e, (hl)
ROM:167C 23                                  inc     hl
ROM:167D 56                                  ld      d, (hl)
ROM:167E CB 7A                               bit     7, d
ROM:1680 20 F2                               jr      NZ, SM_BY_OLD
ROM:1682 7A                                  ld      a, d
ROM:1683 FE 70                               cp      #0x70 ; 'p'
ROM:1685 38 E4                               jr      C, OS_IN_VRAM
ROM:1687 3E 80                               ld      a, #0x80 ; '€'
ROM:1689 12                                  ld      (de), a
ROM:168A 18 E8                               jr      SM_BY_OLD
ROM:168A             ; End of function INIT_XP_OS
ROM:168A
ROM:168C             ; ---------------------------------------------------------------------------
ROM:168C             ; START OF FUNCTION CHUNK FOR ACTIVATE_
ROM:168C
ROM:168C             SEMI_GRI:                                                       ; CODE XREF: ACTIVATE_-6Bj
ROM:168C EB                                  ex      de, hl
ROM:168D 4E                                  ld      c, (hl)
ROM:168E 06 00                               ld      b, #0
ROM:1690 C5                                  push    bc
ROM:1691 FD E1                               pop     iy
ROM:1693 23                                  inc     hl
ROM:1694 7E                                  ld      a, (hl)
ROM:1695 23                                  inc     hl
ROM:1696 66                                  ld      h, (hl)
ROM:1697 6F                                  ld      l, a
ROM:1698 E5                                  push    hl
ROM:1699 C5                                  push    bc
ROM:169A D5                                  push    de
ROM:169B FD E5                               push    iy
ROM:169D 3E 03                               ld      a, #3
ROM:169F CD 1E 02                            call    PUT_VRAM_
ROM:16A2 C1                                  pop     bc
ROM:16A3 E1                                  pop     hl
ROM:16A4 5D                                  ld      e, l
ROM:16A5 54                                  ld      d, h
ROM:16A6 09                                  add     hl, bc
ROM:16A7 2B                                  dec     hl
ROM:16A8 CB 3C                               srl     h
ROM:16AA CB 1D                               rr      l
ROM:16AC CB 3C                               srl     h
ROM:16AE CB 1D                               rr      l
ROM:16B0 CB 3C                               srl     h
ROM:16B2 CB 1D                               rr      l
ROM:16B4 CB 2B                               sra     e
ROM:16B6 CB 2B                               sra     e
ROM:16B8 CB 2B                               sra     e
ROM:16BA B7                                  or      a
ROM:16BB ED 52                               sbc     hl, de
ROM:16BD 23                                  inc     hl
ROM:16BE E5                                  push    hl
ROM:16BF FD E1                               pop     iy
ROM:16C1 E1                                  pop     hl
ROM:16C2 29                                  add     hl, hl
ROM:16C3 29                                  add     hl, hl
ROM:16C4 29                                  add     hl, hl
ROM:16C5 C1                                  pop     bc
ROM:16C6 09                                  add     hl, bc
ROM:16C7 3E 04                               ld      a, #4
ROM:16C9 CD 1E 02                            call    PUT_VRAM_
ROM:16CC F1                                  pop     af
ROM:16CD C9                                  ret
ROM:16CE             ; ---------------------------------------------------------------------------
ROM:16CE
ROM:16CE             ACT_SEMI:                                                       ; CODE XREF: ACTIVATE_+Fj
ROM:16CE CD 77 16                            call    INIT_XP_OS
ROM:16D1 1A                                  ld      a, (de)
ROM:16D2 6F                                  ld      l, a
ROM:16D3 13                                  inc     de
ROM:16D4 1A                                  ld      a, (de)
ROM:16D5 85                                  add     a, l
ROM:16D6 FD 77 05                            ld      5(iy), a
ROM:16D9 26 00                               ld      h, #0
ROM:16DB F1                                  pop     af
ROM:16DC D0                                  ret     NC
ROM:16DD F5                                  push    af
ROM:16DE 3A C3 73                            ld      a, (VDP_MODE_WORD)
ROM:16E1 CB 4F                               bit     1, a
ROM:16E3 28 A7                               jr      Z, SEMI_GRI
ROM:16E5 EB                                  ex      de, hl
ROM:16E6 44                                  ld      b, h
ROM:16E7 4D                                  ld      c, l
ROM:16E8 6E                                  ld      l, (hl)
ROM:16E9 26 00                               ld      h, #0
ROM:16EB E5                                  push    hl
ROM:16EC 29                                  add     hl, hl
ROM:16ED 29                                  add     hl, hl
ROM:16EE 29                                  add     hl, hl
ROM:16EF E5                                  push    hl
ROM:16F0 03                                  inc     bc
ROM:16F1 0A                                  ld      a, (bc)
ROM:16F2 6F                                  ld      l, a
ROM:16F3 03                                  inc     bc
ROM:16F4 0A                                  ld      a, (bc)
ROM:16F5 67                                  ld      h, a
ROM:16F6 C1                                  pop     bc
ROM:16F7 FD E1                               pop     iy
ROM:16F9 F1                                  pop     af
ROM:16FA CB 7F                               bit     7, a
ROM:16FC C4 42 16                            call    NZ, SUP_GEN_CLR
ROM:16FF CD 0D 16                            call    SUP_UPDATE
ROM:1702 CB 77                               bit     6, a
ROM:1704 C4 42 16                            call    NZ, SUP_GEN_CLR
ROM:1707 CD 0D 16                            call    SUP_UPDATE
ROM:170A CB 6F                               bit     5, a
ROM:170C C4 42 16                            call    NZ, SUP_GEN_CLR
ROM:170F C9                                  ret
ROM:1710             ; ---------------------------------------------------------------------------
ROM:1710
ROM:1710             ACT_CMPLX:                                                      ; CODE XREF: ACTIVATE_+1Fj
ROM:1710 1A                                  ld      a, (de)
ROM:1711 1F                                  rra
ROM:1712 1F                                  rra
ROM:1713 1F                                  rra
ROM:1714 1F                                  rra
ROM:1715 E6 0F                               and     #0xF
ROM:1717 47                                  ld      b, a
ROM:1718 5E                                  ld      e, (hl)
ROM:1719 23                                  inc     hl
ROM:171A 56                                  ld      d, (hl)
ROM:171B 23                                  inc     hl
ROM:171C B7                                  or      a
ROM:171D 28 10                               jr      Z, CMPLX9
ROM:171F
ROM:171F             CMPLX4:                                                         ; CODE XREF: ACTIVATE_-21j
ROM:171F F1                                  pop     af
ROM:1720 F5                                  push    af
ROM:1721 E5                                  push    hl
ROM:1722 C5                                  push    bc
ROM:1723 EB                                  ex      de, hl
ROM:1724 CD 4E 17                            call    ACTIVATE_
ROM:1727 C1                                  pop     bc
ROM:1728 E1                                  pop     hl
ROM:1729 5E                                  ld      e, (hl)
ROM:172A 23                                  inc     hl
ROM:172B 56                                  ld      d, (hl)
ROM:172C 23                                  inc     hl
ROM:172D 10 F0                               djnz    CMPLX4
ROM:172F
ROM:172F             CMPLX9:                                                         ; CODE XREF: ACTIVATE_-31j
ROM:172F F1                                  pop     af
ROM:1730 C9                                  ret
ROM:1730             ; END OF FUNCTION CHUNK FOR ACTIVATE_
ROM:1730             ; ---------------------------------------------------------------------------
ROM:1731 02 00       ACTIVATE_P:             .dw 2                                   ; DATA XREF: ROM:ACTIVATEQo
ROM:1733 FE FF                               .dw 0xFFFE
ROM:1735 01 00                               .dw 1
ROM:1737             ; ---------------------------------------------------------------------------
ROM:1737
ROM:1737             ACTIVATEQ:                                                      ; DATA XREF: ROM:ACTIVATEPo
ROM:1737 01 31 17                            ld      bc, #ACTIVATE_P
ROM:173A 11 BA 73                            ld      de, #PARAM_AREA
ROM:173D CD F2 1A                            call    PARAM_
ROM:1740 2A BA 73                            ld      hl, (PARAM_AREA)
ROM:1743 5E                                  ld      e, (hl)
ROM:1744 23                                  inc     hl
ROM:1745 56                                  ld      d, (hl)
ROM:1746 EB                                  ex      de, hl
ROM:1747 3A BC 73                            ld      a, (PARAM_AREA+2)
ROM:174A B7                                  or      a
ROM:174B 28 01                               jr      Z, ACTIVATE_
ROM:174D 37                                  scf
ROM:174E
ROM:174E             ; =============== S U B R O U T I N E =======================================
ROM:174E
ROM:174E
ROM:174E             ACTIVATE_:                                                      ; CODE XREF: ACTIVATE_-2Ap
ROM:174E                                                                             ; ROM:174Bj
ROM:174E                                                                             ; DATA XREF: ...
ROM:174E
ROM:174E             ; FUNCTION CHUNK AT ROM:15DB SIZE 00000032 BYTES
ROM:174E             ; FUNCTION CHUNK AT ROM:168C SIZE 000000A5 BYTES
ROM:174E
ROM:174E 5E                                  ld      e, (hl)
ROM:174F 23                                  inc     hl
ROM:1750 56                                  ld      d, (hl)
ROM:1751 23                                  inc     hl
ROM:1752 4E                                  ld      c, (hl)
ROM:1753 23                                  inc     hl
ROM:1754 46                                  ld      b, (hl)
ROM:1755 23                                  inc     hl
ROM:1756 3E 00                               ld      a, #0
ROM:1758 02                                  ld      (bc), a
ROM:1759 1A                                  ld      a, (de)
ROM:175A F5                                  push    af
ROM:175B E6 0F                               and     #0xF
ROM:175D CA CE 16                            jp      Z, ACT_SEMI
ROM:1760 3D                                  dec     a
ROM:1761 CA FE 15                            jp      Z, ACT_MOBILE
ROM:1764 3D                                  dec     a
ROM:1765 CA DB 15                            jp      Z, ACT_0SPRT
ROM:1768 3D                                  dec     a
ROM:1769 CA DB 15                            jp      Z, ACT_0SPRT
ROM:176C 3D                                  dec     a
ROM:176D 28 A1                               jr      Z, ACT_CMPLX
ROM:176F F1                                  pop     af
ROM:1770 C9                                  ret
ROM:1770             ; End of function ACTIVATE_
ROM:1770
ROM:1771
ROM:1771             ; =============== S U B R O U T I N E =======================================
ROM:1771
ROM:1771
ROM:1771             DE_TO_DEST:                                                     ; CODE XREF: LOAD_NEXT_NOTE-97p
ROM:1771                                                                             ; LOAD_NEXT_NOTE-74p ...
ROM:1771 DD E5                               push    ix
ROM:1773 FD E1                               pop     iy
ROM:1775 FD 19                               add     iy, de
ROM:1777 FD E5                               push    iy
ROM:1779 D1                                  pop     de
ROM:177A C9                                  ret
ROM:177A             ; End of function DE_TO_DEST
ROM:177A
ROM:177B             ; ---------------------------------------------------------------------------
ROM:177B             ; START OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:177B
ROM:177B             TYPE3:                                                          ; CODE XREF: LOAD_NEXT_NOTE-AEj
ROM:177B 1E 08                               ld      e, #8
ROM:177D 16 00                               ld      d, #0
ROM:177F 19                                  add     hl, de
ROM:1780 DD 75 01                            ld      1(ix), l
ROM:1783 DD 74 02                            ld      2(ix), h
ROM:1786 2B                                  dec     hl
ROM:1787 DD E5                               push    ix
ROM:1789 FD E1                               pop     iy
ROM:178B 1E 09                               ld      e, #9
ROM:178D FD 19                               add     iy, de
ROM:178F FD E5                               push    iy
ROM:1791 D1                                  pop     de
ROM:1792 01 07 00                            ld      bc, #7
ROM:1795 ED B8                               lddr
ROM:1797
ROM:1797             MODB0:                                                          ; CODE XREF: LOAD_NEXT_NOTE-86j
ROM:1797                                                                             ; LOAD_NEXT_NOTE-68j ...
ROM:1797 DD E5                               push    ix
ROM:1799 E1                                  pop     hl
ROM:179A F1                                  pop     af
ROM:179B C1                                  pop     bc
ROM:179C FE FF                               cp      #0xFF
ROM:179E C8                                  ret     Z
ROM:179F 57                                  ld      d, a
ROM:17A0 E6 3F                               and     #0x3F ; '?'
ROM:17A2 FE 04                               cp      #4
ROM:17A4 20 02                               jr      NZ, L20_LOAD_NEX
ROM:17A6 06 3E                               ld      b, #0x3E ; '>'
ROM:17A8
ROM:17A8             L20_LOAD_NEX:                                                   ; CODE XREF: LOAD_NEXT_NOTE-BAj
ROM:17A8 7A                                  ld      a, d
ROM:17A9 E6 C0                               and     #0xC0 ; 'À'
ROM:17AB B0                                  or      b
ROM:17AC 77                                  ld      (hl), a
ROM:17AD C9                                  ret
ROM:17AE             ; ---------------------------------------------------------------------------
ROM:17AE
ROM:17AE             L17:                                                            ; CODE XREF: LOAD_NEXT_NOTE-82j
ROM:17AE FE 02                               cp      #2
ROM:17B0 20 C9                               jr      NZ, TYPE3
ROM:17B2
ROM:17B2             TYPE2:
ROM:17B2 1E 06                               ld      e, #6
ROM:17B4 16 00                               ld      d, #0
ROM:17B6 19                                  add     hl, de
ROM:17B7 F1                                  pop     af
ROM:17B8 F5                                  push    af
ROM:17B9 E6 C0                               and     #0xC0 ; 'À'
ROM:17BB 20 01                               jr      NZ, L18
ROM:17BD 2B                                  dec     hl
ROM:17BE
ROM:17BE             L18:                                                            ; CODE XREF: LOAD_NEXT_NOTE-A3j
ROM:17BE DD 75 01                            ld      1(ix), l
ROM:17C1 DD 74 02                            ld      2(ix), h
ROM:17C4 2B                                  dec     hl
ROM:17C5 1E 09                               ld      e, #9
ROM:17C7 CD 71 17                            call    DE_TO_DEST
ROM:17CA 01 02 00                            ld      bc, #2
ROM:17CD ED B8                               lddr
ROM:17CF 3E 00                               ld      a, #0
ROM:17D1 12                                  ld      (de), a
ROM:17D2 1B                                  dec     de
ROM:17D3 1B                                  dec     de
ROM:17D4 0E 03                               ld      c, #3
ROM:17D6 ED B8                               lddr
ROM:17D8 18 BD                               jr      MODB0
ROM:17DA             ; ---------------------------------------------------------------------------
ROM:17DA
ROM:17DA             L16:                                                            ; CODE XREF: LOAD_NEXT_NOTE-62j
ROM:17DA FE 01                               cp      #1
ROM:17DC 20 D0                               jr      NZ, L17
ROM:17DE 11 06 00                            ld      de, #6
ROM:17E1 19                                  add     hl, de
ROM:17E2 DD 75 01                            ld      1(ix), l
ROM:17E5 DD 74 02                            ld      2(ix), h
ROM:17E8 2B                                  dec     hl
ROM:17E9 1C                                  inc     e
ROM:17EA CD 71 17                            call    DE_TO_DEST
ROM:17ED 01 05 00                            ld      bc, #5
ROM:17F0 ED B8                               lddr
ROM:17F2 DD 36 08 00                         ld      8(ix), #0
ROM:17F6 18 9F                               jr      MODB0
ROM:17F8             ; ---------------------------------------------------------------------------
ROM:17F8
ROM:17F8             L15:                                                            ; CODE XREF: LOAD_NEXT_NOTE-30j
ROM:17F8 C5                                  push    bc
ROM:17F9 78                                  ld      a, b
ROM:17FA E6 03                               and     #3
ROM:17FC 20 DC                               jr      NZ, L16
ROM:17FE 23                                  inc     hl
ROM:17FF 23                                  inc     hl
ROM:1800 23                                  inc     hl
ROM:1801 23                                  inc     hl
ROM:1802 DD 74 02                            ld      2(ix), h
ROM:1805 DD 75 01                            ld      1(ix), l
ROM:1808 11 05 00                            ld      de, #5
ROM:180B 2B                                  dec     hl
ROM:180C CD 71 17                            call    DE_TO_DEST
ROM:180F 01 03 00                            ld      bc, #3
ROM:1812 ED B8                               lddr
ROM:1814 DD 36 07 00                         ld      7(ix), #0
ROM:1818 DD 36 08 00                         ld      8(ix), #0
ROM:181C C3 97 17                            jp      MODB0
ROM:181C             ; END OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:181F             ; ---------------------------------------------------------------------------
ROM:181F
ROM:181F             PASS1:                                                          ; DATA XREF: LOAD_NEXT_NOTE-18o
ROM:181F 11 07 00                            ld      de, #7
ROM:1822 FD 19                               add     iy, de
ROM:1824 11 97 17                            ld      de, #MODB0
ROM:1827 D5                                  push    de
ROM:1828 FD E9                               jp      (iy)
ROM:182A             ; ---------------------------------------------------------------------------
ROM:182A             ; START OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:182A
ROM:182A             L14:                                                            ; CODE XREF: LOAD_NEXT_NOTE-Aj
ROM:182A E6 3C                               and     #0x3C ; '<'
ROM:182C FE 04                               cp      #4
ROM:182E 20 C8                               jr      NZ, L15
ROM:1830
ROM:1830             EFFECT:
ROM:1830 FD E1                               pop     iy
ROM:1832 FD E5                               push    iy
ROM:1834 C5                                  push    bc
ROM:1835 23                                  inc     hl
ROM:1836 5E                                  ld      e, (hl)
ROM:1837 DD 73 01                            ld      1(ix), e
ROM:183A 23                                  inc     hl
ROM:183B 56                                  ld      d, (hl)
ROM:183C DD 72 02                            ld      2(ix), d
ROM:183F 23                                  inc     hl
ROM:1840 FD E5                               push    iy
ROM:1842 F1                                  pop     af
ROM:1843 D5                                  push    de
ROM:1844 FD E1                               pop     iy
ROM:1846 11 1F 18                            ld      de, #PASS1
ROM:1849 D5                                  push    de
ROM:184A FD E9                               jp      (iy)
ROM:184C             ; ---------------------------------------------------------------------------
ROM:184C
ROM:184C             ENDNOREP:                                                       ; CODE XREF: LOAD_NEXT_NOTE-6j
ROM:184C 3E FF                               ld      a, #0xFF
ROM:184E F5                                  push    af
ROM:184F C3 97 17                            jp      MODB0
ROM:1852             ; ---------------------------------------------------------------------------
ROM:1852
ROM:1852             L13:                                                            ; CODE XREF: LOAD_NEXT_NOTE+14j
ROM:1852 CB 67                               bit     4, a
ROM:1854 28 D4                               jr      Z, L14
ROM:1856 CB 5F                               bit     3, a
ROM:1858 28 F2                               jr      Z, ENDNOREP
ROM:185A C1                                  pop     bc
ROM:185B C3 77 19                            jp      JUKE_BOX
ROM:185B             ; END OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:185E
ROM:185E             ; =============== S U B R O U T I N E =======================================
ROM:185E
ROM:185E
ROM:185E             LOAD_NEXT_NOTE:                                                 ; CODE XREF: PROCESS_DATA_AREA-Cp
ROM:185E                                                                             ; LOAD_NEXT_NOTE+133p
ROM:185E
ROM:185E             ; FUNCTION CHUNK AT ROM:177B SIZE 000000A4 BYTES
ROM:185E             ; FUNCTION CHUNK AT ROM:182A SIZE 00000034 BYTES
ROM:185E             ; FUNCTION CHUNK AT ROM:1910 SIZE 00000003 BYTES
ROM:185E             ; FUNCTION CHUNK AT ROM:1977 SIZE 00000020 BYTES
ROM:185E
ROM:185E DD 7E 00                            ld      a, 0(ix)
ROM:1861 E6 3F                               and     #0x3F ; '?'
ROM:1863 F5                                  push    af
ROM:1864 DD 36 00 FF                         ld      0(ix), #0xFF
ROM:1868 DD 6E 01                            ld      l, 1(ix)
ROM:186B DD 66 02                            ld      h, 2(ix)
ROM:186E 7E                                  ld      a, (hl)
ROM:186F 47                                  ld      b, a
ROM:1870 CB 6F                               bit     5, a
ROM:1872 28 DE                               jr      Z, L13
ROM:1874 C5                                  push    bc
ROM:1875 E6 1F                               and     #0x1F
ROM:1877 23                                  inc     hl
ROM:1878 DD 75 01                            ld      1(ix), l
ROM:187B DD 74 02                            ld      2(ix), h
ROM:187E DD 36 04 F0                         ld      4(ix), #0xF0 ; 'ð'              ; ATN
ROM:1882 DD 77 05                            ld      5(ix), a                        ; NLEN
ROM:1885 DD 36 07 00                         ld      7(ix), #0                       ; FSTEP
ROM:1889 DD 36 08 00                         ld      8(ix), #0                       ; ASTEP
ROM:188D C3 97 17                            jp      MODB0
ROM:188D             ; End of function LOAD_NEXT_NOTE
ROM:188D
ROM:1890             ; ---------------------------------------------------------------------------
ROM:1890             ; START OF FUNCTION CHUNK FOR TONE_OUT
ROM:1890
ROM:1890             L7:                                                             ; CODE XREF: TONE_OUT+4j
ROM:1890 CD 30 1B                            call    UPATNCTRL
ROM:1893 C3 49 1A                            jp      UPFREQ
ROM:1893             ; END OF FUNCTION CHUNK FOR TONE_OUT
ROM:1896
ROM:1896             ; =============== S U B R O U T I N E =======================================
ROM:1896
ROM:1896
ROM:1896             TONE_OUT:                                                       ; CODE XREF: ROM:18BCp
ROM:1896                                                                             ; ROM:18C9p ...
ROM:1896
ROM:1896             ; FUNCTION CHUNK AT ROM:1890 SIZE 00000006 BYTES
ROM:1896             ; FUNCTION CHUNK AT ROM:1A49 SIZE 0000001B BYTES
ROM:1896
ROM:1896 DD 5E 00                            ld      e, 0(ix)
ROM:1899 1C                                  inc     e
ROM:189A 20 F4                               jr      NZ, L7
ROM:189C D3 FF                               out     (0xFF), a                       ; SOUND_PORT
ROM:189E C9                                  ret
ROM:189E             ; End of function TONE_OUT
ROM:189E
ROM:189F             ; ---------------------------------------------------------------------------
ROM:189F
ROM:189F             L5:                                                             ; CODE XREF: ROM:18E5j
ROM:189F CD 30 1B                            call    UPATNCTRL
ROM:18A2 DD 7E 04                            ld      a, 4(ix)
ROM:18A5 E6 0F                               and     #0xF
ROM:18A7 21 2A 70                            ld      hl, #SAVE_CTRL
ROM:18AA BE                                  cp      (hl)
ROM:18AB C8                                  ret     Z
ROM:18AC 77                                  ld      (hl), a
ROM:18AD 0E E0                               ld      c, #0xE0 ; 'à'
ROM:18AF C3 30 1B                            jp      UPATNCTRL
ROM:18B2             ; ---------------------------------------------------------------------------
ROM:18B2
ROM:18B2             PLAY_SONGS_:                                                    ; DATA XREF: ROM:PLAYSONGSo
ROM:18B2 3E 9F                               ld      a, #0x9F ; 'Ÿ'
ROM:18B4 0E 90                               ld      c, #0x90 ; ''
ROM:18B6 16 80                               ld      d, #0x80 ; '€'
ROM:18B8 DD 2A 24 70                         ld      ix, (PTR_TO_S_ON_1)
ROM:18BC CD 96 18                            call    TONE_OUT
ROM:18BF 3E BF                               ld      a, #0xBF ; '¿'
ROM:18C1 0E B0                               ld      c, #0xB0 ; '°'
ROM:18C3 16 A0                               ld      d, #0xA0 ; ' '
ROM:18C5 DD 2A 26 70                         ld      ix, (PTR_TO_S_ON_2)
ROM:18C9 CD 96 18                            call    TONE_OUT
ROM:18CC 3E DF                               ld      a, #0xDF ; 'ß'
ROM:18CE 0E D0                               ld      c, #0xD0 ; 'Ð'
ROM:18D0 16 C0                               ld      d, #0xC0 ; 'À'
ROM:18D2 DD 2A 28 70                         ld      ix, (PTR_TO_S_ON_3)
ROM:18D6 CD 96 18                            call    TONE_OUT
ROM:18D9 3E FF                               ld      a, #0xFF
ROM:18DB 0E F0                               ld      c, #0xF0 ; 'ð'
ROM:18DD DD 2A 22 70                         ld      ix, (PTR_TO_S_ON_0)
ROM:18E1 DD 5E 00                            ld      e, 0(ix)
ROM:18E4 1C                                  inc     e
ROM:18E5 20 B8                               jr      NZ, L5
ROM:18E7 D3 FF                               out     (0xFF), a
ROM:18E9 C9                                  ret
ROM:18EA             ; ---------------------------------------------------------------------------
ROM:18EA             ; START OF FUNCTION CHUNK FOR PROCESS_DATA_AREA
ROM:18EA
ROM:18EA             L10:                                                            ; CODE XREF: PROCESS_DATA_AREA+8j
ROM:18EA CD 64 1A                            call    ATN_SWEEP
ROM:18ED CD BC 1A                            call    FREQ_SWEEP
ROM:18F0 C0                                  ret     NZ
ROM:18F1 DD 7E 00                            ld      a, 0(ix)
ROM:18F4 F5                                  push    af
ROM:18F5 CD 5E 18                            call    LOAD_NEXT_NOTE
ROM:18F8 C1                                  pop     bc
ROM:18F9 DD 7E 00                            ld      a, 0(ix)
ROM:18FC B8                                  cp      b
ROM:18FD C4 13 19                            call    NZ, UP_CH_DATA_PTRS
ROM:1900 C9                                  ret
ROM:1900             ; END OF FUNCTION CHUNK FOR PROCESS_DATA_AREA
ROM:1901
ROM:1901             ; =============== S U B R O U T I N E =======================================
ROM:1901
ROM:1901
ROM:1901             PROCESS_DATA_AREA:                                              ; CODE XREF: ROM:195Ap
ROM:1901
ROM:1901             ; FUNCTION CHUNK AT ROM:18EA SIZE 00000017 BYTES
ROM:1901
ROM:1901 CD E0 19                            call    AREA_SONG_IS
ROM:1904 FE FF                               cp      #0xFF
ROM:1906 C8                                  ret     Z
ROM:1907 FE 3E                               cp      #0x3E ; '>'
ROM:1909 20 DF                               jr      NZ, L10
ROM:190B 11 07 00                            ld      de, #7
ROM:190E 19                                  add     hl, de
ROM:190F E9                                  jp      (hl)
ROM:190F             ; End of function PROCESS_DATA_AREA
ROM:190F
ROM:1910             ; ---------------------------------------------------------------------------
ROM:1910             ; START OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:1910
ROM:1910             DONE_SNDMAN:                                                    ; CODE XREF: UP_CH_DATA_PTRS+1Aj
ROM:1910 DD E1                               pop     ix
ROM:1912 C9                                  ret
ROM:1912             ; END OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:1913
ROM:1913             ; =============== S U B R O U T I N E =======================================
ROM:1913
ROM:1913
ROM:1913             UP_CH_DATA_PTRS:                                                ; CODE XREF: PROCESS_DATA_AREA-4p
ROM:1913                                                                             ; LOAD_NEXT_NOTE+136j
ROM:1913 DD E5                               push    ix
ROM:1915 21 65 19                            ld      hl, #DUMAREA
ROM:1918 22 22 70                            ld      (PTR_TO_S_ON_0), hl
ROM:191B 22 24 70                            ld      (PTR_TO_S_ON_1), hl
ROM:191E 22 26 70                            ld      (PTR_TO_S_ON_2), hl
ROM:1921 22 28 70                            ld      (PTR_TO_S_ON_3), hl
ROM:1924 06 01                               ld      b, #1
ROM:1926 CD 08 1A                            call    PT_IX_TO_SxDATA
ROM:1929
ROM:1929             L2:                                                             ; CODE XREF: UP_CH_DATA_PTRS+3Bj
ROM:1929 DD 7E 00                            ld      a, 0(ix)
ROM:192C B7                                  or      a
ROM:192D 28 E1                               jr      Z, DONE_SNDMAN
ROM:192F FE FF                               cp      #0xFF
ROM:1931 28 15                               jr      Z, L9
ROM:1933 DD 7E 00                            ld      a, 0(ix)
ROM:1936 E6 C0                               and     #0xC0 ; 'À'
ROM:1938 07                                  rlca
ROM:1939 07                                  rlca
ROM:193A 07                                  rlca
ROM:193B 5F                                  ld      e, a
ROM:193C 16 00                               ld      d, #0
ROM:193E 21 22 70                            ld      hl, #PTR_TO_S_ON_0
ROM:1941 19                                  add     hl, de
ROM:1942 DD E5                               push    ix
ROM:1944 D1                                  pop     de
ROM:1945 73                                  ld      (hl), e
ROM:1946 23                                  inc     hl
ROM:1947 72                                  ld      (hl), d
ROM:1948
ROM:1948             L9:                                                             ; CODE XREF: UP_CH_DATA_PTRS+1Ej
ROM:1948 1E 0A                               ld      e, #0xA
ROM:194A 16 00                               ld      d, #0
ROM:194C DD 19                               add     ix, de
ROM:194E 18 D9                               jr      L2
ROM:194E             ; End of function UP_CH_DATA_PTRS
ROM:194E
ROM:1950             ; ---------------------------------------------------------------------------
ROM:1950
ROM:1950             SND_MANAGER:                                                    ; DATA XREF: ROM:SOUND_MANo
ROM:1950 06 01                               ld      b, #1
ROM:1952 CD 08 1A                            call    PT_IX_TO_SxDATA
ROM:1955
ROM:1955             L1:                                                             ; CODE XREF: ROM:1963j
ROM:1955 AF                                  xor     a
ROM:1956 DD BE 00                            cp      0(ix)
ROM:1959 C8                                  ret     Z
ROM:195A CD 01 19                            call    PROCESS_DATA_AREA
ROM:195D 1E 0A                               ld      e, #0xA
ROM:195F 16 00                               ld      d, #0
ROM:1961 DD 19                               add     ix, de
ROM:1963 18 F0                               jr      L1
ROM:1963             ; ---------------------------------------------------------------------------
ROM:1965 FF          DUMAREA:                .db 0xFF                                ; DATA XREF: UP_CH_DATA_PTRS+2o
ROM:1965                                                                             ; ROM:19C1o
ROM:1966 01 00       JUKE_BOX_PAR:           .dw 1                                   ; DATA XREF: ROM:JUKE_BOXQo
ROM:1968 01 00                               .dw 1
ROM:196A             ; ---------------------------------------------------------------------------
ROM:196A
ROM:196A             JUKE_BOXQ:                                                      ; DATA XREF: ROM:PLAY_ITPo
ROM:196A 01 66 19                            ld      bc, #JUKE_BOX_PAR
ROM:196D 11 BA 73                            ld      de, #PARAM_AREA
ROM:1970 CD F2 1A                            call    PARAM_
ROM:1973 3A BA 73                            ld      a, (PARAM_AREA)
ROM:1976 47                                  ld      b, a
ROM:1977             ; START OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:1977
ROM:1977             JUKE_BOX:                                                       ; CODE XREF: LOAD_NEXT_NOTE-3j
ROM:1977                                                                             ; DATA XREF: ROM:PLAY_ITo
ROM:1977 C5                                  push    bc
ROM:1978 CD 08 1A                            call    PT_IX_TO_SxDATA
ROM:197B DD 7E 00                            ld      a, 0(ix)
ROM:197E E6 3F                               and     #0x3F ; '?'
ROM:1980 C1                                  pop     bc
ROM:1981 B8                                  cp      b
ROM:1982 C8                                  ret     Z
ROM:1983 DD 70 00                            ld      0(ix), b
ROM:1986 2B                                  dec     hl
ROM:1987 2B                                  dec     hl
ROM:1988 56                                  ld      d, (hl)
ROM:1989 2B                                  dec     hl
ROM:198A 5E                                  ld      e, (hl)
ROM:198B DD 73 01                            ld      1(ix), e
ROM:198E DD 72 02                            ld      2(ix), d
ROM:1991 CD 5E 18                            call    LOAD_NEXT_NOTE
ROM:1994 C3 13 19                            jp      UP_CH_DATA_PTRS
ROM:1994             ; END OF FUNCTION CHUNK FOR LOAD_NEXT_NOTE
ROM:1994             ; ---------------------------------------------------------------------------
ROM:1997 02 00       INIT_SOUND_PAR:         .dw 2                                   ; DATA XREF: ROM:INIT_SOUNDQo
ROM:1999 01 00                               .dw 1
ROM:199B 02 00                               .dw 2
ROM:199D             ; ---------------------------------------------------------------------------
ROM:199D
ROM:199D             INIT_SOUNDQ:                                                    ; DATA XREF: ROM:SOUND_INITPo
ROM:199D 01 97 19                            ld      bc, #INIT_SOUND_PAR
ROM:19A0 11 BA 73                            ld      de, #PARAM_AREA
ROM:19A3 CD F2 1A                            call    PARAM_
ROM:19A6 3A BA 73                            ld      a, (PARAM_AREA)
ROM:19A9 47                                  ld      b, a
ROM:19AA 2A BB 73                            ld      hl, (PARAM_AREA+1)
ROM:19AD
ROM:19AD             INIT_SOUND:                                                     ; DATA XREF: ROM:SOUND_INITo
ROM:19AD 22 20 70                            ld      (PTR_LST_OF_SND_ADDRS), hl
ROM:19B0 23                                  inc     hl
ROM:19B1 23                                  inc     hl
ROM:19B2 5E                                  ld      e, (hl)
ROM:19B3 23                                  inc     hl
ROM:19B4 56                                  ld      d, (hl)
ROM:19B5 EB                                  ex      de, hl
ROM:19B6 1E 0A                               ld      e, #0xA
ROM:19B8 16 00                               ld      d, #0
ROM:19BA
ROM:19BA             B1:                                                             ; CODE XREF: ROM:19BDj
ROM:19BA 36 FF                               ld      (hl), #0xFF
ROM:19BC 19                                  add     hl, de
ROM:19BD 10 FB                               djnz    B1
ROM:19BF 36 00                               ld      (hl), #0
ROM:19C1 21 65 19                            ld      hl, #DUMAREA
ROM:19C4 22 22 70                            ld      (PTR_TO_S_ON_0), hl
ROM:19C7 22 24 70                            ld      (PTR_TO_S_ON_1), hl
ROM:19CA 22 26 70                            ld      (PTR_TO_S_ON_2), hl
ROM:19CD 22 28 70                            ld      (PTR_TO_S_ON_3), hl
ROM:19D0 3E FF                               ld      a, #0xFF
ROM:19D2 32 2A 70                            ld      (SAVE_CTRL), a
ROM:19D5
ROM:19D5             ; =============== S U B R O U T I N E =======================================
ROM:19D5
ROM:19D5
ROM:19D5             ALL_OFF:                                                        ; CODE XREF: BOOT_UP+1B75p
ROM:19D5                                                                             ; BOOT_UP+1BB4p
ROM:19D5                                                                             ; DATA XREF: ...
ROM:19D5 06 04                               ld      b, #4                           ; num generators
ROM:19D7 3E 9F                               ld      a, #0x9F ; 'Ÿ'                  ; 1st off code
ROM:19D9
ROM:19D9             gen_off:                                                        ; CODE XREF: ALL_OFF+8j
ROM:19D9 D3 FF                               out     (0xFF), a                       ; turn off
ROM:19DB C6 20                               add     a, #0x20 ; ' '                  ; calc next off code
ROM:19DD 10 FA                               djnz    gen_off
ROM:19DF C9                                  ret
ROM:19DF             ; End of function ALL_OFF
ROM:19DF
ROM:19E0
ROM:19E0             ; =============== S U B R O U T I N E =======================================
ROM:19E0
ROM:19E0
ROM:19E0             AREA_SONG_IS:                                                   ; CODE XREF: PROCESS_DATA_AREAp
ROM:19E0 DD 7E 00                            ld      a, 0(ix)
ROM:19E3 FE FF                               cp      #0xFF
ROM:19E5 C8                                  ret     Z
ROM:19E6 E6 3F                               and     #0x3F ; '?'
ROM:19E8 FE 3E                               cp      #0x3E ; '>'
ROM:19EA C0                                  ret     NZ
ROM:19EB DD E5                               push    ix
ROM:19ED E1                                  pop     hl
ROM:19EE 23                                  inc     hl
ROM:19EF 5E                                  ld      e, (hl)
ROM:19F0 23                                  inc     hl
ROM:19F1 56                                  ld      d, (hl)
ROM:19F2 EB                                  ex      de, hl
ROM:19F3 C9                                  ret
ROM:19F3             ; End of function AREA_SONG_IS
ROM:19F3
ROM:19F4             ; ---------------------------------------------------------------------------
ROM:19F4 DD 75 01                            ld      1(ix), l
ROM:19F7 DD 74 02                            ld      2(ix), h
ROM:19FA 1A                                  ld      a, (de)
ROM:19FB E6 3F                               and     #0x3F ; '?'
ROM:19FD 47                                  ld      b, a
ROM:19FE DD 7E 00                            ld      a, 0(ix)
ROM:1A01 E6 C0                               and     #0xC0 ; 'À'
ROM:1A03 B0                                  or      b
ROM:1A04 DD 77 00                            ld      0(ix), a
ROM:1A07 C9                                  ret
ROM:1A08
ROM:1A08             ; =============== S U B R O U T I N E =======================================
ROM:1A08
ROM:1A08
ROM:1A08             PT_IX_TO_SxDATA:                                                ; CODE XREF: UP_CH_DATA_PTRS+13p
ROM:1A08                                                                             ; ROM:1952p ...
ROM:1A08 2A 20 70                            ld      hl, (PTR_LST_OF_SND_ADDRS)
ROM:1A0B 2B                                  dec     hl
ROM:1A0C 2B                                  dec     hl
ROM:1A0D 48                                  ld      c, b
ROM:1A0E 06 00                               ld      b, #0
ROM:1A10 CB 01                               rlc     c
ROM:1A12 CB 01                               rlc     c
ROM:1A14 09                                  add     hl, bc
ROM:1A15 5E                                  ld      e, (hl)
ROM:1A16 23                                  inc     hl
ROM:1A17 56                                  ld      d, (hl)
ROM:1A18 D5                                  push    de
ROM:1A19 DD E1                               pop     ix
ROM:1A1B C9                                  ret
ROM:1A1B             ; End of function PT_IX_TO_SxDATA
ROM:1A1B
ROM:1A1C
ROM:1A1C             ; =============== S U B R O U T I N E =======================================
ROM:1A1C
ROM:1A1C
ROM:1A1C             ADD816:                                                         ; CODE XREF: FREQ_SWEEP-9p
ROM:1A1C 06 00                               ld      b, #0
ROM:1A1E CB 7F                               bit     7, a
ROM:1A20 28 02                               jr      Z, POS
ROM:1A22 06 FF                               ld      b, #0xFF
ROM:1A24
ROM:1A24             POS:                                                            ; CODE XREF: ADD816+4j
ROM:1A24 86                                  add     a, (hl)
ROM:1A25 77                                  ld      (hl), a
ROM:1A26 23                                  inc     hl
ROM:1A27 7E                                  ld      a, (hl)
ROM:1A28 88                                  adc     a, b
ROM:1A29 77                                  ld      (hl), a
ROM:1A2A 2B                                  dec     hl
ROM:1A2B C9                                  ret
ROM:1A2B             ; End of function ADD816
ROM:1A2B
ROM:1A2C
ROM:1A2C             ; =============== S U B R O U T I N E =======================================
ROM:1A2C
ROM:1A2C
ROM:1A2C             MSNTOLSN:                                                       ; CODE XREF: ATN_SWEEP+13p
ROM:1A2C                                                                             ; FREQ_SWEEP-16p
ROM:1A2C 7E                                  ld      a, (hl)
ROM:1A2D E6 F0                               and     #0xF0 ; 'ð'
ROM:1A2F 47                                  ld      b, a
ROM:1A30 0F                                  rrca
ROM:1A31 0F                                  rrca
ROM:1A32 0F                                  rrca
ROM:1A33 0F                                  rrca
ROM:1A34 B0                                  or      b
ROM:1A35 77                                  ld      (hl), a
ROM:1A36 C9                                  ret
ROM:1A36             ; End of function MSNTOLSN
ROM:1A36
ROM:1A37             ; ---------------------------------------------------------------------------
ROM:1A37 AF                                  xor     a
ROM:1A38 ED 6F                               rld
ROM:1A3A 3D                                  dec     a
ROM:1A3B F5                                  push    af
ROM:1A3C ED 67                               rrd
ROM:1A3E F1                                  pop     af
ROM:1A3F C9                                  ret
ROM:1A40
ROM:1A40             ; =============== S U B R O U T I N E =======================================
ROM:1A40
ROM:1A40
ROM:1A40             DECLSN:                                                         ; CODE XREF: ATN_SWEEP+Ep
ROM:1A40                                                                             ; ATN_SWEEP+17p ...
ROM:1A40 AF                                  xor     a
ROM:1A41 ED 67                               rrd
ROM:1A43 3D                                  dec     a
ROM:1A44 F5                                  push    af
ROM:1A45 ED 6F                               rld
ROM:1A47 F1                                  pop     af
ROM:1A48 C9                                  ret
ROM:1A48             ; End of function DECLSN
ROM:1A48
ROM:1A49             ; ---------------------------------------------------------------------------
ROM:1A49             ; START OF FUNCTION CHUNK FOR TONE_OUT
ROM:1A49
ROM:1A49             UPFREQ:                                                         ; CODE XREF: TONE_OUT-3j
ROM:1A49 DD 7E 03                            ld      a, 3(ix)
ROM:1A4C E6 0F                               and     #0xF
ROM:1A4E B2                                  or      d
ROM:1A4F D3 FF                               out     (0xFF), a
ROM:1A51 DD 7E 03                            ld      a, 3(ix)
ROM:1A54 E6 F0                               and     #0xF0 ; 'ð'
ROM:1A56 57                                  ld      d, a
ROM:1A57 DD 7E 04                            ld      a, 4(ix)
ROM:1A5A E6 0F                               and     #0xF
ROM:1A5C B2                                  or      d
ROM:1A5D 0F                                  rrca
ROM:1A5E 0F                                  rrca
ROM:1A5F 0F                                  rrca
ROM:1A60 0F                                  rrca
ROM:1A61 D3 FF                               out     (0xFF), a
ROM:1A63 C9                                  ret
ROM:1A63             ; END OF FUNCTION CHUNK FOR TONE_OUT
ROM:1A64
ROM:1A64             ; =============== S U B R O U T I N E =======================================
ROM:1A64
ROM:1A64
ROM:1A64             ATN_SWEEP:                                                      ; CODE XREF: PROCESS_DATA_AREA:L10p
ROM:1A64 DD 7E 08                            ld      a, 8(ix)
ROM:1A67 FE 00                               cp      #0
ROM:1A69 C8                                  ret     Z
ROM:1A6A DD E5                               push    ix
ROM:1A6C E1                                  pop     hl
ROM:1A6D 16 00                               ld      d, #0
ROM:1A6F 1E 09                               ld      e, #9
ROM:1A71 19                                  add     hl, de
ROM:1A72 CD 40 1A                            call    DECLSN
ROM:1A75 20 21                               jr      NZ, L22
ROM:1A77 CD 2C 1A                            call    MSNTOLSN
ROM:1A7A 2B                                  dec     hl
ROM:1A7B CD 40 1A                            call    DECLSN
ROM:1A7E 28 16                               jr      Z, L23
ROM:1A80 7E                                  ld      a, (hl)
ROM:1A81 E6 F0                               and     #0xF0 ; 'ð'
ROM:1A83 5F                                  ld      e, a
ROM:1A84 2B                                  dec     hl
ROM:1A85 2B                                  dec     hl
ROM:1A86 2B                                  dec     hl
ROM:1A87 2B                                  dec     hl
ROM:1A88 7E                                  ld      a, (hl)
ROM:1A89 E6 F0                               and     #0xF0 ; 'ð'
ROM:1A8B 83                                  add     a, e
ROM:1A8C 5F                                  ld      e, a
ROM:1A8D 7E                                  ld      a, (hl)
ROM:1A8E E6 0F                               and     #0xF
ROM:1A90 B3                                  or      e
ROM:1A91 77                                  ld      (hl), a
ROM:1A92 F6 FF                               or      #0xFF
ROM:1A94 18 02                               jr      L22
ROM:1A96             ; ---------------------------------------------------------------------------
ROM:1A96
ROM:1A96             L23:                                                            ; CODE XREF: ATN_SWEEP+1Aj
ROM:1A96 36 00                               ld      (hl), #0
ROM:1A98
ROM:1A98             L22:                                                            ; CODE XREF: ATN_SWEEP+11j
ROM:1A98                                                                             ; ATN_SWEEP+30j
ROM:1A98 C9                                  ret
ROM:1A98             ; End of function ATN_SWEEP
ROM:1A98
ROM:1A99             ; ---------------------------------------------------------------------------
ROM:1A99             ; START OF FUNCTION CHUNK FOR FREQ_SWEEP
ROM:1A99
ROM:1A99             L20:                                                            ; CODE XREF: FREQ_SWEEP+5j
ROM:1A99 DD E5                               push    ix
ROM:1A9B E1                                  pop     hl
ROM:1A9C 1E 06                               ld      e, #6
ROM:1A9E 16 00                               ld      d, #0
ROM:1AA0 19                                  add     hl, de
ROM:1AA1 CD 40 1A                            call    DECLSN
ROM:1AA4 20 15                               jr      NZ, L21
ROM:1AA6 CD 2C 1A                            call    MSNTOLSN
ROM:1AA9 2B                                  dec     hl
ROM:1AAA 7E                                  ld      a, (hl)
ROM:1AAB 3D                                  dec     a
ROM:1AAC C8                                  ret     Z
ROM:1AAD 77                                  ld      (hl), a
ROM:1AAE 2B                                  dec     hl
ROM:1AAF 2B                                  dec     hl
ROM:1AB0 DD 7E 07                            ld      a, 7(ix)
ROM:1AB3 CD 1C 1A                            call    ADD816
ROM:1AB6 23                                  inc     hl
ROM:1AB7 CB 96                               res     2, (hl)
ROM:1AB9 F6 FF                               or      #0xFF
ROM:1ABB
ROM:1ABB             L21:                                                            ; CODE XREF: FREQ_SWEEP-18j
ROM:1ABB C9                                  ret
ROM:1ABB             ; END OF FUNCTION CHUNK FOR FREQ_SWEEP
ROM:1ABC
ROM:1ABC             ; =============== S U B R O U T I N E =======================================
ROM:1ABC
ROM:1ABC
ROM:1ABC             FREQ_SWEEP:                                                     ; CODE XREF: PROCESS_DATA_AREA-14p
ROM:1ABC
ROM:1ABC             ; FUNCTION CHUNK AT ROM:1A99 SIZE 00000023 BYTES
ROM:1ABC
ROM:1ABC DD 7E 07                            ld      a, 7(ix)
ROM:1ABF FE 00                               cp      #0
ROM:1AC1 20 D6                               jr      NZ, L20
ROM:1AC3 DD 7E 05                            ld      a, 5(ix)
ROM:1AC6 3D                                  dec     a
ROM:1AC7 C8                                  ret     Z
ROM:1AC8 DD 77 05                            ld      5(ix), a
ROM:1ACB C9                                  ret
ROM:1ACB             ; End of function FREQ_SWEEP
ROM:1ACB
ROM:1ACC             ; ---------------------------------------------------------------------------
ROM:1ACC             ; START OF FUNCTION CHUNK FOR PARAM_
ROM:1ACC
ROM:1ACC             L00F8:                                                          ; CODE XREF: PARAM_-Bj
ROM:1ACC E1                                  pop     hl
ROM:1ACD C3 1E 1B                            jp      L00C4
ROM:1AD0             ; ---------------------------------------------------------------------------
ROM:1AD0
ROM:1AD0             L00DA:                                                          ; CODE XREF: PARAM_+22j
ROM:1AD0 E1                                  pop     hl
ROM:1AD1 E3                                  ex      (sp), hl
ROM:1AD2 E5                                  push    hl
ROM:1AD3 0F                                  rrca
ROM:1AD4 67                                  ld      h, a
ROM:1AD5 0B                                  dec     bc
ROM:1AD6 0A                                  ld      a, (bc)
ROM:1AD7 6F                                  ld      l, a
ROM:1AD8 E3                                  ex      (sp), hl
ROM:1AD9 03                                  inc     bc
ROM:1ADA 03                                  inc     bc
ROM:1ADB
ROM:1ADB             L00E5:                                                          ; CODE XREF: PARAM_-7j
ROM:1ADB 1A                                  ld      a, (de)
ROM:1ADC 77                                  ld      (hl), a
ROM:1ADD 23                                  inc     hl
ROM:1ADE 13                                  inc     de
ROM:1ADF E3                                  ex      (sp), hl
ROM:1AE0 2B                                  dec     hl
ROM:1AE1 AF                                  xor     a
ROM:1AE2 BD                                  cp      l
ROM:1AE3 C2 EA 1A                            jp      NZ, L00F4
ROM:1AE6 BC                                  cp      h
ROM:1AE7 CA CC 1A                            jp      Z, L00F8
ROM:1AEA
ROM:1AEA             L00F4:                                                          ; CODE XREF: PARAM_-Fj
ROM:1AEA E3                                  ex      (sp), hl
ROM:1AEB C3 DB 1A                            jp      L00E5
ROM:1AEE             ; ---------------------------------------------------------------------------
ROM:1AEE
ROM:1AEE             L00D6:                                                          ; CODE XREF: PARAM_+35j
ROM:1AEE E1                                  pop     hl
ROM:1AEF EB                                  ex      de, hl
ROM:1AF0 E3                                  ex      (sp), hl
ROM:1AF1 E9                                  jp      (hl)
ROM:1AF1             ; END OF FUNCTION CHUNK FOR PARAM_
ROM:1AF2
ROM:1AF2             ; =============== S U B R O U T I N E =======================================
ROM:1AF2
ROM:1AF2
ROM:1AF2             PARAM_:                                                         ; CODE XREF: ROM:0151p
ROM:1AF2                                                                             ; ROM:016Bp ...
ROM:1AF2
ROM:1AF2             ; FUNCTION CHUNK AT ROM:1ACC SIZE 00000026 BYTES
ROM:1AF2
ROM:1AF2 E1                                  pop     hl
ROM:1AF3 E3                                  ex      (sp), hl
ROM:1AF4 E5                                  push    hl
ROM:1AF5 0A                                  ld      a, (bc)
ROM:1AF6 6F                                  ld      l, a
ROM:1AF7 03                                  inc     bc
ROM:1AF8 0A                                  ld      a, (bc)
ROM:1AF9 03                                  inc     bc
ROM:1AFA 67                                  ld      h, a
ROM:1AFB E3                                  ex      (sp), hl
ROM:1AFC D5                                  push    de
ROM:1AFD
ROM:1AFD             L00A3:                                                          ; CODE XREF: PARAM_+3Bj
ROM:1AFD 5E                                  ld      e, (hl)
ROM:1AFE 23                                  inc     hl
ROM:1AFF 56                                  ld      d, (hl)
ROM:1B00 23                                  inc     hl
ROM:1B01 E5                                  push    hl
ROM:1B02 7B                                  ld      a, e
ROM:1B03 B2                                  or      d
ROM:1B04 C2 11 1B                            jp      NZ, L00B7
ROM:1B07 E1                                  pop     hl
ROM:1B08 5E                                  ld      e, (hl)
ROM:1B09 23                                  inc     hl
ROM:1B0A 56                                  ld      d, (hl)
ROM:1B0B 23                                  inc     hl
ROM:1B0C E5                                  push    hl
ROM:1B0D EB                                  ex      de, hl
ROM:1B0E 5E                                  ld      e, (hl)
ROM:1B0F 23                                  inc     hl
ROM:1B10 56                                  ld      d, (hl)
ROM:1B11
ROM:1B11             L00B7:                                                          ; CODE XREF: PARAM_+12j
ROM:1B11 03                                  inc     bc
ROM:1B12 0A                                  ld      a, (bc)
ROM:1B13 07                                  rlca
ROM:1B14 D2 D0 1A                            jp      NC, L00DA
ROM:1B17 03                                  inc     bc
ROM:1B18 E1                                  pop     hl
ROM:1B19 E3                                  ex      (sp), hl
ROM:1B1A 73                                  ld      (hl), e
ROM:1B1B 23                                  inc     hl
ROM:1B1C 72                                  ld      (hl), d
ROM:1B1D 23                                  inc     hl
ROM:1B1E
ROM:1B1E             L00C4:                                                          ; CODE XREF: PARAM_-25j
ROM:1B1E D1                                  pop     de
ROM:1B1F E3                                  ex      (sp), hl
ROM:1B20 2B                                  dec     hl
ROM:1B21 AF                                  xor     a
ROM:1B22 BC                                  cp      h
ROM:1B23 C2 2A 1B                            jp      NZ, L00D0
ROM:1B26 BD                                  cp      l
ROM:1B27 CA EE 1A                            jp      Z, L00D6
ROM:1B2A
ROM:1B2A             L00D0:                                                          ; CODE XREF: PARAM_+31j
ROM:1B2A E3                                  ex      (sp), hl
ROM:1B2B E5                                  push    hl
ROM:1B2C EB                                  ex      de, hl
ROM:1B2D C3 FD 1A                            jp      L00A3
ROM:1B2D             ; End of function PARAM_
ROM:1B2D
ROM:1B30
ROM:1B30             ; =============== S U B R O U T I N E =======================================
ROM:1B30
ROM:1B30
ROM:1B30             UPATNCTRL:                                                      ; CODE XREF: TONE_OUT:L7p
ROM:1B30                                                                             ; ROM:L5p ...
ROM:1B30 DD 7E 04                            ld      a, 4(ix)
ROM:1B33 CB 61                               bit     4, c                            ; ATN
ROM:1B35 28 04                               jr      Z, L24
ROM:1B37 0F                                  rrca
ROM:1B38 0F                                  rrca
ROM:1B39 0F                                  rrca
ROM:1B3A 0F                                  rrca
ROM:1B3B
ROM:1B3B             L24:                                                            ; CODE XREF: UPATNCTRL+5j
ROM:1B3B E6 0F                               and     #0xF
ROM:1B3D B1                                  or      c
ROM:1B3E D3 FF                               out     (0xFF), a
ROM:1B40 C9                                  ret
ROM:1B40             ; End of function UPATNCTRL
ROM:1B40
ROM:1B41
ROM:1B41             ; =============== S U B R O U T I N E =======================================
ROM:1B41
ROM:1B41
ROM:1B41             LOAD_ASCII_:                                                    ; CODE XREF: DISPLAY_LOGO+Dp
ROM:1B41                                                                             ; DATA XREF: ROM:LOAD_ASCIIo
ROM:1B41 2A F8 73                            ld      hl, (PATTERNGENTBL)
ROM:1B44 11 00 01                            ld      de, #0x100
ROM:1B47 19                                  add     hl, de                          ; calc VDP RAM address
ROM:1B48 11 85 0A                            ld      de, #SPACE                      ; 'message'
ROM:1B4B EB                                  ex      de, hl
ROM:1B4C 01 00 03                            ld      bc, #0x300
ROM:1B4C             ; End of function LOAD_ASCII_
ROM:1B4C
ROM:1B4F             ; HL = message
ROM:1B4F             ; DE = VPD RAM address
ROM:1B4F             ; BC = length
ROM:1B4F
ROM:1B4F             ; =============== S U B R O U T I N E =======================================
ROM:1B4F
ROM:1B4F
ROM:1B4F             VRAM_WRITE:                                                     ; CODE XREF: ROM:007Ap
ROM:1B4F                                                                             ; ROM:0086p ...
ROM:1B4F 78                                  ld      a, b
ROM:1B50 B1                                  or      c                               ; zero length?
ROM:1B51 C8                                  ret     Z                               ; yes, return
ROM:1B52 EB                                  ex      de, hl
ROM:1B53 CD 72 03                            call    REG_READ
ROM:1B56 7D                                  ld      a, l
ROM:1B57 D3 BF                               out     (0xBF), a                       ; VDP_RAM_ADDR
ROM:1B59 3E 40                               ld      a, #0x40 ; '@'
ROM:1B5B B4                                  or      h                               ; add base address
ROM:1B5C D3 BF                               out     (0xBF), a                       ; VDP_RAM_ADDR
ROM:1B5E
ROM:1B5E             output_loop:                                                    ; CODE XREF: VRAM_WRITE+16j
ROM:1B5E 1A                                  ld      a, (de)                         ; message char
ROM:1B5F D3 BE                               out     (0xBE), a                       ; VDP_DATA
ROM:1B61 13                                  inc     de                              ; next character
ROM:1B62 0B                                  dec     bc
ROM:1B63 78                                  ld      a, b
ROM:1B64 B1                                  or      c                               ; done?
ROM:1B65 20 F7                               jr      NZ, output_loop                 ; no, loop
ROM:1B67 EB                                  ex      de, hl
ROM:1B68 C3 72 03                            jp      REG_READ
ROM:1B68             ; End of function VRAM_WRITE
ROM:1B68
ROM:1B6B             ; ---------------------------------------------------------------------------
ROM:1B6B             ; START OF FUNCTION CHUNK FOR BOOT_UP
ROM:1B6B
ROM:1B6B             POWER_UP:                                                       ; CODE XREF: BOOT_UP+3j
ROM:1B6B 11 01 00                            ld      de, #1                          ; delay=1
ROM:1B6E 2A 0A 80                            ld      hl, (START_GAME)
ROM:1B71 E5                                  push    hl                              ; address to stack (for RET)
ROM:1B72 CD D8 00                            call    delay_DE
ROM:1B75 CD D5 19                            call    ALL_OFF                         ; turn off sound chip
ROM:1B78 2A 00 80                            ld      hl, (CARTRIDGE)
ROM:1B7B 01 55 AA                            ld      bc, #0xAA55                     ; execute game, no delay?
ROM:1B7E A7                                  and     a
ROM:1B7F ED 42                               sbc     hl, bc                          ; match?
ROM:1B81 C8                                  ret     Z                               ; yes, execute
ROM:1B82 2A 00 80                            ld      hl, (CARTRIDGE)
ROM:1B85 11 AA 55                            ld      de, #0x55AA                     ; display CV logo title screen
ROM:1B88 A7                                  and     a
ROM:1B89 ED 52                               sbc     hl, de                          ; match?
ROM:1B8B 28 2C                               jr      Z, display_CV_logo              ; yes, execute
ROM:1B8D             ; no cartridge
ROM:1B8D CD 3D 1C                            call    DISPLAY_LOGO
ROM:1B90 21 49 0A                            ld      hl, #aTurnPowerOff              ; "TURN POWER OFF"
ROM:1B93 11 09 19                            ld      de, #0x1909                     ; VDP RAM address offset
ROM:1B96 01 0E 00                            ld      bc, #14                         ; length
ROM:1B99 CD 4F 1B                            call    VRAM_WRITE
ROM:1B9C 21 57 0A                            ld      hl, #aBeforeInsertingCartridge  ; "BEFORE INSERTING CARTRIDGE"
ROM:1B9F 11 43 19                            ld      de, #0x1943                     ; VDP RAM address offset
ROM:1BA2 01 1A 00                            ld      bc, #26                         ; length
ROM:1BA5 CD 4F 1B                            call    VRAM_WRITE
ROM:1BA8 21 71 0A                            ld      hl, #aOrExpansionModule_        ; "OR EXPANSION MODULE."
ROM:1BAB 11 86 19                            ld      de, #0x1986                     ; VDP RAM address offset
ROM:1BAE 01 1A 00                            ld      bc, #26                         ; length
ROM:1BB1 CD 4F 1B                            call    VRAM_WRITE
ROM:1BB4 CD D5 19                            call    ALL_OFF
ROM:1BB7
ROM:1BB7             spin_forever:                                                   ; CODE XREF: BOOT_UP:spin_foreverj
ROM:1BB7 18 FE                               jr      spin_forever
ROM:1BB9             ; ---------------------------------------------------------------------------
ROM:1BB9
ROM:1BB9             display_CV_logo:                                                ; CODE XREF: BOOT_UP+1B8Bj
ROM:1BB9 11 33 00                            ld      de, #0x33 ; '3'
ROM:1BBC ED 53 C8 73                         ld      (RAND_NUM), de
ROM:1BC0 AF                                  xor     a
ROM:1BC1 D3 CF                               out     (0xCF), a                       ; JOY1
ROM:1BC3 32 F1 73                            ld      (S1_C1), a
ROM:1BC6 21 F1 73                            ld      hl, #S1_C1
ROM:1BC9 11 F0 73                            ld      de, #S1_C0
ROM:1BCC 01 1A 00                            ld      bc, #26
ROM:1BCF ED B8                               lddr
ROM:1BD1 ED 5B 08 80                         ld      de, (CONTROLLER_MAP)            ; ptr controller state table
ROM:1BD5 13                                  inc     de
ROM:1BD6 13                                  inc     de                              ; skip flags
ROM:1BD7 0E 0A                               ld      c, #10                          ; length
ROM:1BD9 ED B0                               ldir                                    ; copy
ROM:1BDB 21 00 00                            ld      hl, #0
ROM:1BDE 22 C6 73                            ld      (DEFER_WRITES), hl
ROM:1BE1 CD 3D 1C                            call    DISPLAY_LOGO
ROM:1BE4 21 24 80                            ld      hl, #GAME_NAME
ROM:1BE7 11 50 19                            ld      de, #0x1950                     ; VDP RAM offset (line centre)
ROM:1BEA CD F9 1B                            call    centre_print_msg                ; game name
ROM:1BED 11 10 19                            ld      de, #0x1910                     ; VDP RAM offset (line centre)
ROM:1BF0 CD F9 1B                            call    centre_print_msg                ; licensor
ROM:1BF3 11 20 00                            ld      de, #0x20 ; ' '
ROM:1BF6 C3 D8 00                            jp      delay_DE                        ; return
ROM:1BF6             ; END OF FUNCTION CHUNK FOR BOOT_UP
ROM:1BF9
ROM:1BF9             ; =============== S U B R O U T I N E =======================================
ROM:1BF9
ROM:1BF9
ROM:1BF9             centre_print_msg:                                               ; CODE XREF: BOOT_UP+1BEAp
ROM:1BF9                                                                             ; BOOT_UP+1BF0p
ROM:1BF9 E5                                  push    hl                              ; save ptr string
ROM:1BFA D5                                  push    de                              ; save VDP RAM offset
ROM:1BFB 01 00 00                            ld      bc, #0                          ; init char counter
ROM:1BFE 3E 2F                               ld      a, #0x2F ; '/'                  ; separator
ROM:1C00
ROM:1C00             find_end_of_string:                                             ; CODE XREF: centre_print_msg+Cj
ROM:1C00 BE                                  cp      (hl)                            ; end of string?
ROM:1C01 28 04                               jr      Z, end_of_string                ; skip, exit
ROM:1C03 23                                  inc     hl                              ; next char
ROM:1C04 03                                  inc     bc                              ; inc count
ROM:1C05 18 F9                               jr      find_end_of_string              ; loop
ROM:1C07             ; ---------------------------------------------------------------------------
ROM:1C07
ROM:1C07             end_of_string:                                                  ; CODE XREF: centre_print_msg+8j
ROM:1C07 E1                                  pop     hl                              ; restore VDP offset
ROM:1C08 D1                                  pop     de                              ; restore ptr string
ROM:1C09 C5                                  push    bc                              ; save length of string
ROM:1C0A CB 38                               srl     b
ROM:1C0C CB 19                               rr      c                               ; len/2
ROM:1C0E B7                                  or      a                               ; clear C
ROM:1C0F ED 42                               sbc     hl, bc                          ; calc starting position
ROM:1C11 C1                                  pop     bc                              ; restore name length
ROM:1C12 EB                                  ex      de, hl
ROM:1C13 CD 4F 1B                            call    VRAM_WRITE                      ; print string
ROM:1C16 23                                  inc     hl                              ; skip separator
ROM:1C17 C9                                  ret
ROM:1C17             ; End of function centre_print_msg
ROM:1C17
ROM:1C17             ; ---------------------------------------------------------------------------
ROM:1C18 4C 41 53 45+aLaser2001:             .ascii 'LASER 2001'                     ; DATA XREF: DISPLAY_LOGO+10o
ROM:1C22 45 58 50 41+aExpansionModul:        .ascii 'EXPANSION MODULE #1'            ; DATA XREF: DISPLAY_LOGO+1Co
ROM:1C35 31 39 38 34+a1984Vtl:               .ascii '1984 VTL'                       ; DATA XREF: DISPLAY_LOGO+28o
ROM:1C3D
ROM:1C3D             ; =============== S U B R O U T I N E =======================================
ROM:1C3D
ROM:1C3D
ROM:1C3D             DISPLAY_LOGO:                                                   ; CODE XREF: ROM:GAME_OPT_p
ROM:1C3D                                                                             ; BOOT_UP+1B8Dp ...
ROM:1C3D 21 00 00                            ld      hl, #0                          ; VDP RAM offset
ROM:1C40 11 00 40                            ld      de, #0x4000                     ; 16kB
ROM:1C43 AF                                  xor     a                               ; fill=$00
ROM:1C44 CD 2E 01                            call    FILL_VRAM_
ROM:1C47 CD FD 00                            call    MODE_1_
ROM:1C4A CD 41 1B                            call    LOAD_ASCII_
ROM:1C4D 21 18 1C                            ld      hl, #aLaser2001                 ; "LASER 2001"
ROM:1C50 11 2B 18                            ld      de, #0x182B
ROM:1C53 01 0A 00                            ld      bc, #10                         ; length
ROM:1C56 CD 4F 1B                            call    VRAM_WRITE
ROM:1C59 21 22 1C                            ld      hl, #aExpansionModul            ; "EXPANSION MODULE #1"
ROM:1C5C 11 67 18                            ld      de, #0x1867                     ; VDP RAM offset
ROM:1C5F 01 13 00                            ld      bc, #19                         ; length
ROM:1C62 CD 4F 1B                            call    VRAM_WRITE
ROM:1C65 21 35 1C                            ld      hl, #a1984Vtl                   ; "1984 VTL"
ROM:1C68 11 EC 19                            ld      de, #0x19EC                     ; VDP RAM offset
ROM:1C6B 01 08 00                            ld      bc, #8                          ; length
ROM:1C6E CD 4F 1B                            call    VRAM_WRITE
ROM:1C71 21 00 20                            ld      hl, #0x2000                     ; VDP RAM offset
ROM:1C74 11 20 00                            ld      de, #32                         ; length
ROM:1C77 3E F0                               ld      a, #0xF0 ; 'ð'                  ; fill char
ROM:1C79 C3 2E 01                            jp      FILL_VRAM_
ROM:1C79             ; End of function DISPLAY_LOGO
ROM:1C79
ROM:1C79             ; ---------------------------------------------------------------------------
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1C7C FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1D43 BF                                  .db 0xBF ; ¿
ROM:1D44 FF                                  .db 0xFF
ROM:1D45 FF                                  .db 0xFF
ROM:1D46 FF                                  .db 0xFF
ROM:1D47 BE                                  .db 0xBE ; ¾
ROM:1D48 22 09       RAND_GEN:               .dw RAND_GEN_                           ; DATA XREF: ROM:0D96o
ROM:1D4A 40 15       PUTOBJ:                 .dw PUTOBJ_
ROM:1D4C 4E 17       ACTIVATE:               .dw ACTIVATE_
ROM:1D4E 50 19       SOUND_MAN:              .dw SND_MANAGER
ROM:1D50 77 19       PLAY_IT:                .dw JUKE_BOX
ROM:1D52 AD 19       SOUND_INIT:             .dw INIT_SOUND
ROM:1D54 66 06       POLLER:                 .dw POLLER_
ROM:1D56 78 15       WRITER:                 .dw WRITER_
ROM:1D58 C6 15       INIT_WRITER:            .dw INIT_QUEUE
ROM:1D5A 4D 03       READ_VRAM:              .dw VRAM_READ
ROM:1D5C 4F 1B       WRITE_VRAM:             .dw VRAM_WRITE
ROM:1D5E 72 03       READ_REGISTER:          .dw REG_READ
ROM:1D60 73 01       WRITE_REGISTER:         .dw REG_WRITE
ROM:1D62 D5 19       TURN_OFF_SOUND:         .dw ALL_OFF
ROM:1D64 32 09       TIME_MGR:               .dw TIME_MGR_
ROM:1D66 99 07       TEST_SIGNAL:            .dw TEST_SIGNAL_
ROM:1D68 10 08       REQUEST_SIGNAL:         .dw REQUEST_SIGNAL_
ROM:1D6A 5F 08       FREE_SIGNAL:            .dw FREE_SIGNAL_
ROM:1D6C CD 08       INIT_TIMER:             .dw INIT_TIMER_
ROM:1D6E 9E 01       WR_SPR_NM_TBL:          .dw WR_SPR_NM_TBL_
ROM:1D70 E2 01       INIT_SPR_ORDER:         .dw INIT_SPR_ORDER_
ROM:1D72 1E 02       PUT_VRAM:               .dw PUT_VRAM_
ROM:1D74 B0 02       GET_VRAM:               .dw GET_VRAM_
ROM:1D76 FE 02       INIT_TABLE:             .dw INIT_TABLE_
ROM:1D78 6A 19       PLAY_ITP:               .dw JUKE_BOXQ
ROM:1D7A 9D 19       SOUND_INITP:            .dw INIT_SOUNDQ
ROM:1D7C B7 15       INIT_WRITERP:           .dw INIT_QUEUEQ
ROM:1D7E 39 03       READ_VRAMP:             .dw READ_VRAMQ
ROM:1D80 4B 01       WRITE_VRAMP:            .dw WRITE_VRAMQ                         ; * BROKEN!
ROM:1D82 65 01       WRITE_REGISTERP:        .dw REG_WRITEQ
ROM:1D84 8D 07       TEST_SIGNALP:           .dw TEST_SIGNALQ
ROM:1D86 01 08       REQUEST_SIGNALP:        .dw REQUEST_SIGNALQ
ROM:1D88 53 08       FREE_SIGNALP:           .dw FREE_SIGNALQ
ROM:1D8A BD 08       INIT_TIMERP:            .dw INIT_TIMERQ
ROM:1D8C 92 01       WR_SPR_NM_TBLP:         .dw WR_SPR_NM_TBLQ
ROM:1D8E D6 01       INIT_SPR_ORDERP:        .dw INIT_SPR_ORDERQ
ROM:1D90 07 02       PUT_VRAMP:              .dw PUT_VRAMQ
ROM:1D92 99 02       GET_VRAMP:              .dw GET_VRAMQ
ROM:1D94 EF 02       INIT_TABLEP:            .dw INIT_TABLEQ
ROM:1D96 08 07       UPDATE_SPINNER:         .dw UPATE_SPINNER_
ROM:1D98 FD 00       MODE_1:                 .dw MODE_1_
ROM:1D9A 2E 01       FILL_VRAM:              .dw FILL_VRAM_
ROM:1D9C 41 1B       LOAD_ASCII:             .dw LOAD_ASCII_
ROM:1D9E 6E 00       GAME_OPT:               .dw GAME_OPT_
ROM:1DA0 DA 06       DECODER:                .dw DECODER_
ROM:1DA2 18 07       CONTROLLER_SCAN:        .dw CONT_SCAN
ROM:1DA4 37 05       ENLARGE:                .dw ENLRG
ROM:1DA6 63 05       ROTATE_90:              .dw ROT_90
ROM:1DA8 57 05       REFLECT_HORIZONTAL:     .dw RFLCT_HOR
ROM:1DAA 5D 05       REFLECT_VERTICAL:       .dw RFLCT_VER
ROM:1DAC 2F 15       PUTOBJP:                .dw PUTOBJQ
ROM:1DAE 37 17       ACTIVATEP:              .dw ACTIVATEQ
ROM:1DB0 B2 18       PLAYSONGS:              .dw PLAY_SONGS_
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+                        .db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
ROM:1DB2 FF FF FF FF+; end of 'ROM'
ROM:1DB2 FF FF FF FF+
RAM:7000             ; ===========================================================================
RAM:7000
RAM:7000             ; Segment type: Regular
RAM:7000                                     .org 0x7000
RAM:7000 ??                                  .ds 1
RAM:7001 ??                                  .ds 1
RAM:7002 ??                                  .ds 1
RAM:7003 ??                                  .ds 1
RAM:7004 ??                                  .ds 1
RAM:7005 ??                                  .ds 1
RAM:7006 ??                                  .ds 1
RAM:7007 ??                                  .ds 1
RAM:7008 ??                                  .ds 1
RAM:7009 ??                                  .ds 1
RAM:700A ??                                  .ds 1
RAM:700B ??                                  .ds 1
RAM:700C ??                                  .ds 1
RAM:700D ??                                  .ds 1
RAM:700E ??                                  .ds 1
RAM:700F ??                                  .ds 1
RAM:7010 ??                                  .ds 1
RAM:7011 ??                                  .ds 1
RAM:7012 ??                                  .ds 1
RAM:7013 ??                                  .ds 1
RAM:7014 ??                                  .ds 1
RAM:7015 ??                                  .ds 1
RAM:7016 ??                                  .ds 1
RAM:7017 ??                                  .ds 1
RAM:7018 ??                                  .ds 1
RAM:7019 ??                                  .ds 1
RAM:701A ??                                  .ds 1
RAM:701B ??                                  .ds 1
RAM:701C ??                                  .ds 1
RAM:701D ??                                  .ds 1
RAM:701E ??                                  .ds 1
RAM:701F ??                                  .ds 1
RAM:7020 ?? ??       PTR_LST_OF_SND_ADDRS:   .ds 2                                   ; DATA XREF: ROM:INIT_SOUNDw
RAM:7020                                                                             ; PT_IX_TO_SxDATAr
RAM:7022 ?? ??       PTR_TO_S_ON_0:          .ds 2                                   ; DATA XREF: ROM:18DDr
RAM:7022                                                                             ; UP_CH_DATA_PTRS+5w ...
RAM:7024 ?? ??       PTR_TO_S_ON_1:          .ds 2                                   ; DATA XREF: ROM:18B8r
RAM:7024                                                                             ; UP_CH_DATA_PTRS+8w ...
RAM:7026 ?? ??       PTR_TO_S_ON_2:          .ds 2                                   ; DATA XREF: ROM:18C5r
RAM:7026                                                                             ; UP_CH_DATA_PTRS+Bw ...
RAM:7028 ?? ??       PTR_TO_S_ON_3:          .ds 2                                   ; DATA XREF: ROM:18D2r
RAM:7028                                                                             ; UP_CH_DATA_PTRS+Ew ...
RAM:702A ??          SAVE_CTRL:              .ds 1                                   ; DATA XREF: ROM:18A7o
RAM:702A                                                                             ; ROM:19D2w
RAM:702B ?? ?? ?? ??+                        .ds 0x38E
RAM:73B9 ??          STACK:                  .ds 1                                   ; DATA XREF: BOOT_UPo
RAM:73BA ?? ?? ?? ??+PARAM_AREA:             .ds 6                                   ; DATA XREF: ROM:014Eo
RAM:73BA ?? ??                                                                       ; ROM:0154r ...
RAM:73C0 ?? ??       TIMER_LENGTH:           .ds 2                                   ; DATA XREF: ROM:080Ar
RAM:73C2 ??          TEST_SIG_NUM:           .ds 1                                   ; DATA XREF: ROM:0790o
RAM:73C2                                                                             ; ROM:0796r
RAM:73C3 ?? ??       VDP_MODE_WORD:          .ds 2                                   ; DATA XREF: MODE_1_+3w
RAM:73C3                                                                             ; REG_WRITE+Ew ...
RAM:73C5 ??          VDP_STATUS_BYTE:        .ds 1
RAM:73C6 ??          DEFER_WRITES:           .ds 1                                   ; DATA XREF: PUTOBJ_r
RAM:73C6                                                                             ; ROM:156Bw ...
RAM:73C7 ??          MUX_SPRITES:            .ds 1                                   ; DATA XREF: PUT_VRAM_+5r
RAM:73C8 ?? ??       RAND_NUM:               .ds 2                                   ; DATA XREF: ROM:RAND_GEN_r
RAM:73C8                                                                             ; ROM:092Dw ...
RAM:73CA ??          QUEUE_SIZE:             .ds 1                                   ; DATA XREF: PUTOBJ_+18o
RAM:73CA                                                                             ; ROM:159Do ...
RAM:73CB ??          QUEUE_HEAD:             .ds 1                                   ; DATA XREF: ROM:NOT_TOO_BIGw
RAM:73CB                                                                             ; PUTOBJ_+14r ...
RAM:73CC ??          QUEUE_TAIL:             .ds 1                                   ; DATA XREF: ROM:WRTR_ELSEw
RAM:73CC                                                                             ; ROM:WRTR_END_IFr ...
RAM:73CD ?? ??       HEAD_ADDRESS:           .ds 2                                   ; DATA XREF: ROM:1524w
RAM:73CD                                                                             ; PUTOBJ_+9r ...
RAM:73CF ?? ??       TAIL_ADDRESS:           .ds 2                                   ; DATA XREF: ROM:1573w
RAM:73CF                                                                             ; ROM:1589r ...
RAM:73D1 ?? ??       BUFFER:                 .ds 2                                   ; DATA XREF: PUTOBJ_+23r
RAM:73D1                                                                             ; ROM:15A8r ...
RAM:73D3 ?? ??       TIMER_TABLE_BASE:       .ds 2                                   ; DATA XREF: ROM:079Ar
RAM:73D3                                                                             ; ROM:0812r ...
RAM:73D5 ?? ??       NEXT_TIMER_DATA_BYTE:   .ds 2                                   ; DATA XREF: ROM:07E2r
RAM:73D5                                                                             ; ROM:07F6w ...
RAM:73D7 ?? ?? ?? ??+DBNCE_BUFF:             .ds 0x14                                ; DATA XREF: ROM:0669o
RAM:73D7 ?? ?? ?? ??+                                                                ; ROM:0752o
RAM:73EB ??          SPIN_SW0_CT:            .ds 1                                   ; DATA XREF: ROM:0687o
RAM:73EB                                                                             ; ROM:06DFo ...
RAM:73EC ??          SPIN_SW1_CT:            .ds 1                                   ; DATA XREF: ROM:06B2o
RAM:73EC                                                                             ; ROM:076Dw
RAM:73ED ??                                  .ds 1
RAM:73EE ??          S0_C0:                  .ds 1                                   ; DATA XREF: ROM:0684r
RAM:73EE                                                                             ; CONT_SCAN+3w ...
RAM:73EF ??          S0_C1:                  .ds 1                                   ; DATA XREF: ROM:06AFr
RAM:73EF                                                                             ; CONT_SCAN+9w ...
RAM:73F0 ??          S1_C0:                  .ds 1                                   ; DATA XREF: ROM:0692r
RAM:73F0                                                                             ; CONT_SCAN+14w ...
RAM:73F1 ??          S1_C1:                  .ds 1                                   ; DATA XREF: ROM:06BCr
RAM:73F1                                                                             ; CONT_SCAN+1Aw ...
RAM:73F2 ?? ??       VRAM_ADDR_TABLE:        .ds 2                                   ; DATA XREF: MODE_1_+9o
RAM:73F2                                                                             ; ROM:01A3o ...
RAM:73F2                                                                             ; ; aka SPRINTNAMETBL
RAM:73F4 ?? ??       SPRITEGENTBL:           .ds 2
RAM:73F6 ?? ??       PATTERNNAMETBL:         .ds 2
RAM:73F8 ?? ??       PATTERNGENTBL:          .ds 2
RAM:73FA ?? ??       COLORTBL:               .ds 2
RAM:73FC ?? ??       SAVE_TEMP:              .ds 2
RAM:73FE ?? ??       SAVED_COUNT:            .ds 2                                   ; DATA XREF: SET_COUNTw
RAM:73FE                                                                             ; SET_COUNT+2Br ...
RAM:73FE             ; end of 'RAM'
RAM:73FE
RAM_2:7400             ; ===========================================================================
RAM_2:7400
RAM_2:7400             ; Segment type: Regular
RAM_2:7400                                     .org 0x7400
RAM_2:7400 ?? ?? ?? ??+msg_buf:                .ds 0x10                                ; DATA XREF: ROM:008Co
RAM_2:7400 ?? ?? ?? ??+                                                                ; ROM:0094o ...
RAM_2:7410 ?? ?? ?? ??+                        .ds 0x3F0
RAM_2:7410 ?? ?? ?? ??+; end of 'RAM_2'
RAM_2:7410 ?? ?? ?? ??+
CART_ROM:8000             ; ===========================================================================
CART_ROM:8000
CART_ROM:8000             ; Segment type: Regular
CART_ROM:8000                                     .org 0x8000
CART_ROM:8000 ?? ??       CARTRIDGE:              .ds 2                                   ; DATA XREF: BOOT_UP+1B78r
CART_ROM:8000                                                                             ; BOOT_UP+1B82r
CART_ROM:8002 ?? ??       LOCAL_SPR_TBL:          .ds 2                                   ; DATA XREF: ROM:OUTPUT_LOOP_TABLE_MAr
CART_ROM:8002                                                                             ; PUT_VRAM_+Er
CART_ROM:8004 ?? ??       SPRITE_ORDER:           .ds 2                                   ; DATA XREF: ROM:WR_SPR_NM_TBL_r
CART_ROM:8004                                                                             ; ROM:01E4r
CART_ROM:8006 ?? ??       WORK_BUFFER:            .ds 2                                   ; DATA XREF: PUT_COLOR+6r
CART_ROM:8006                                                                             ; GET_COLOR+6r ...
CART_ROM:8008 ?? ??       CONTROLLER_MAP:         .ds 2                                   ; DATA XREF: ROM:066Dr
CART_ROM:8008                                                                             ; ROM:074Ar ...
CART_ROM:800A ?? ??       START_GAME:             .ds 2                                   ; DATA XREF: BOOT_UP+1B6Er
CART_ROM:800C ?? ?? ??    RST_8H_RAM:             .ds 3
CART_ROM:800F ?? ?? ??    RST_10H_RAM:            .ds 3
CART_ROM:8012 ?? ?? ??    RST_18H_RAM:            .ds 3
CART_ROM:8015 ?? ?? ??    RST_20H_RAM:            .ds 3
CART_ROM:8018 ?? ?? ??    RST_28H_RAM:            .ds 3
CART_ROM:801B ?? ?? ??    RST_30H_RAM:            .ds 3
CART_ROM:801E ?? ?? ??    IRQ_INT_VECT:           .ds 3
CART_ROM:8021 ?? ?? ??    NMI_INT_VECT:           .ds 3
CART_ROM:8024 ??          GAME_NAME:              .ds 1                                   ; DATA XREF: BOOT_UP+1BE4o
CART_ROM:8025 ??                                  .ds 1
CART_ROM:8026 ??                                  .ds 1
CART_ROM:8027 ??                                  .ds 1
CART_ROM:8028 ??                                  .ds 1
CART_ROM:8029 ??                                  .ds 1
CART_ROM:802A ??                                  .ds 1
CART_ROM:802B ??                                  .ds 1
CART_ROM:802C ??                                  .ds 1
CART_ROM:802D ??                                  .ds 1
CART_ROM:802E ??                                  .ds 1
CART_ROM:802F ??                                  .ds 1
CART_ROM:8030 ??                                  .ds 1
CART_ROM:8031 ??                                  .ds 1
CART_ROM:8032 ??                                  .ds 1
CART_ROM:8033 ??                                  .ds 1
CART_ROM:8034 ??                                  .ds 1
CART_ROM:8035 ??                                  .ds 1
CART_ROM:8036 ??                                  .ds 1
CART_ROM:8037 ??                                  .ds 1
CART_ROM:8038 ??                                  .ds 1
CART_ROM:8039 ??                                  .ds 1
CART_ROM:803A ??                                  .ds 1
CART_ROM:803B ??                                  .ds 1
CART_ROM:803C ??                                  .ds 1
CART_ROM:803D ??                                  .ds 1
CART_ROM:803E ??                                  .ds 1
CART_ROM:803F ??                                  .ds 1
CART_ROM:803F             ; end of 'CART_ROM'
CART_ROM:803F
CART_ROM:803F             ; end of file
